{"version":3,"sources":["webpack:///webpack/bootstrap 08bee23e9f57167e869a","webpack:///./node_modules/alfrid/build/alfrid.js","webpack:///./src/js/Config.js","webpack:///./src/js/FlowControl.js","webpack:///./src/js/Assets.js","webpack:///./src/js/Time.js","webpack:///./src/js/ViewSave.js","webpack:///./src/js/ViewSim.js","webpack:///./node_modules/randomutils/index.js","webpack:///./src/shaders/render.vert","webpack:///./src/js/asset-list.js","webpack:///./src/js/FboPingPong.js","webpack:///./src/js/FboArray.js","webpack:///./src/shaders/normal.frag","webpack:///./src/js/utils/index.js","webpack:///./node_modules/assets-loader/src/emitter.js","webpack:///./node_modules/assets-loader/src/stats.js","webpack:///./src/js/Settings.js","webpack:///./src/js/app.js","webpack:///./src/scss/global.scss","webpack:///./src/js/debug/debugPolyfill.js","webpack:///./src/js/SceneApp.js","webpack:///./src/shaders/save.vert","webpack:///./src/shaders/save.frag","webpack:///./src/js/ViewRender.js","webpack:///./src/shaders/render.frag","webpack:///./src/js/utils/TweenNumber.js","webpack:///./node_modules/scheduling/src/scheduler.js","webpack:///./src/js/ViewRenderShadow.js","webpack:///./src/shaders/renderShadow.frag","webpack:///./src/shaders/sim.frag","webpack:///./src/js/ViewBackground.js","webpack:///./src/shaders/bg.vert","webpack:///./src/js/ViewComposeBg.js","webpack:///./src/shaders/composeBg.frag","webpack:///./src/js/PassBloom.js","webpack:///./src/shaders/threshold.frag","webpack:///./src/shaders/bloom.frag","webpack:///./src/shaders/bloomCompose.frag","webpack:///./src/js/ViewFXAA.js","webpack:///./src/shaders/fxaa.frag","webpack:///./src/js/Trails.js","webpack:///./src/js/ViewTrail.js","webpack:///./src/shaders/trail.vert","webpack:///./src/shaders/trail.frag","webpack:///./src/js/ViewTrialDebug.js","webpack:///./src/shaders/trailDebug.vert","webpack:///./src/shaders/trailDebug.frag","webpack:///./src/js/ParticleSimulation.js","webpack:///./src/js/ParticleTexture.js","webpack:///./src/js/utils/saveImage.js","webpack:///./node_modules/assets-loader/src/index.js","webpack:///./node_modules/assets-loader/src/group.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/assets-loader/src/loader.js","webpack:///./node_modules/assets-loader/src/browser-has-blob.js","webpack:///./node_modules/fast-url-parser/src/urlparser.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/punycode/punycode.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/querystringparser/js/querystringparser.js","webpack:///./node_modules/querystringparser/js/querystringserializer.js","webpack:///./src/js/utils/Capture.js","webpack:///./src/js/debug/addControls.js","webpack:///./node_modules/dat-gui/index.js","webpack:///./node_modules/dat-gui/vendor/dat.gui.js","webpack:///./node_modules/dat-gui/vendor/dat.color.js","webpack:///./node_modules/hex-rgb/index.js"],"names":["numParticles","numParticleSets","skipCount","maxRadius","ringSize","ringRadius","zOffset","image","backgroundOpacity","particleContrast","showDimensions","fadeRange","centred","particleScale","lineColor","lineWidth","showLines","showParticles","showCenterBall","pullingForce","lightX","lightY","lightZ","numTrails","trailLength","numTrailSets","overlayOpacity","bloomStrength","gradientMap","radius","distance","fps","targetFps","fadeOutOffset","progress","exportFrame","fullscaleCanvas","burstForce","debugVisual","delaySimulationStart","FlowControl","FPS","Config","totalFrames","console","log","speedRatio","_bgOpeningOffset","TweenNumber","_speedOffset","respwan","_bloomStrength","_list","_isCrazy","window","addEventListener","e","keyCode","Time","frame","accelerate","setTo","easing","value","speed","setTimeout","forEach","n","update","_fps","Math","floor","frameParticleStart","timeClose","frameEndStart","frameStopSpwan","frameCloseStart","playParticles","end","_updateAllNumbers","ths","_instance","Assets","_assets","getAsset","id","assets","find","a","file","getExtension","mFile","ary","split","length","init","hdrCubemaps","assetsToLoad","map","o","ext","url","texture","GLTexture","cubemapName","alfrid","HDRLoader","parse","oAsset","push","GLCubeTexture","parseDDS","mesh","ObjLoader","s","get","debug","table","mId","_value","_isRunning","ViewSave","vs","fs","_numParticles","_zOffset","_initMesh","positions","coords","indices","extras","count","ux","uy","range","m","mat4","create","getPos","PI","r","sqrt","random","x","cos","z","sin","v","vec3","fromValues","identity","rotateZ","transformMat4","j","i","Mesh","GL","POINTS","bufferVertex","bufferData","bufferTexCoord","bufferIndex","state","shader","bind","draw","View","ViewSim","mSpeed","mLife","mIsLine","ShaderLibs","bigTriangleVert","time","_speed","_life","_isLine","Geom","bigTriangle","uniform","textureVel","texturePos","textureExtra","textureOrg","current","speedOffset","speedMultiplier","FboPingPong","width","height","params","mNumTargets","FboFarray","FboArray","mNum","_fbos","fbo","FrameBuffer","shift","saveImage","formNumber","numDigis","toString","biasMatrix","queryString","require","enabled","reload","location","href","origin","pathname","JSON","stringify","refresh","history","pushState","delayIndex","delayReload","clearTimeout","mEnabled","parsed","search","query","config","oConfig","key","document","body","_init","classList","add","loader","AssetsLoader","on","error","p","querySelector","style","_onImageLoaded","start","_init3D","remove","isDevelopment","Settings","canvas","createElement","container","className","appendChild","ignoreWebgl2","preserveDrawingBuffer","alpha","scene","SceneApp","gui","graphSize","fboScale","GENERAL_SCALE","TARGET_WIDTH","TARGET_HEIGHT","enableAlphaBlending","camera","setPerspective","orbitalControl","lock","_cameraLight","CameraOrtho","ortho","lookAt","_shadowMatrix","multiply","projection","viewMatrix","_fboBg1","clear","_vBg","render","unbind","mtxModel","touch","setInterval","loop","resize","clientX","y","clientY","rx","ry","oSettings","minFilter","LINEAR","magFilter","_fboShadow","fboSize","_fboBg2","_fboRender","_textureParticle","ParticleTexture","_bCopy","BatchCopy","ViewBackground","_vBgCompose","ViewComposeBg","_vFxaa","ViewFXAA","_passBloom","PassBloom","_vRender","ViewRender","_vRenderShadow","ViewRenderShadow","_vSim","_vSave","_particleSets","particleSim","ParticleSimulation","_trail","Trails","setMatrices","fboParticle","write","read","getTexture","swap","getDepthTexture","textureParticle","resume","tick","enable","DEPTH_TEST","_renderShadowMap","disable","size","_canvasScale","viewport","_innerScale","_renderParticles","num","w","h","_toReize","innerWidth","innerHeight","devicePixelRatio","ratio","sx","sy","scale","min","setSize","top","left","Scene","textureCurr","mShadowMatrix","mTextureDepth","textureBg1","textureBg2","bgOpeningOffset","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","pow","Circular","Elastic","asin","Back","Bounce","in","out","inOut","getFunc","mEasing","mValue","_startValue","_targetValue","_counter","_needUpdate","newCounter","mMin","mMax","limit","_min","_max","_checkLimit","undefined","Scheduler","removeEF","_efIndex","f","copyFrag","plane","aspectRatio","_scale","max","mNumMips","mStartingScale","_numMips","_startingScale","_initTextures","_initViews","round","fboV","fboH","_fboThreshold","_fboCompose","vsTri","shaderThreshold","GLShader","fsTreshold","uniformsThreshold","luminosityThreshold","smoothWidth","defaultOpacity","defaultColor","kernelSizeArray","_shadersBloom","kernelSize","fsBloom","replace","uniformsCompose","bloomRadius","fsCompose","strBloom","tintColor","shaderCompose","concat","inputTexture","textureNoise","wrapS","wrapT","REPEAT","NEAREST","textureMap","textureBloom","Trail","type","FLOAT","numTextures","_fbo","cameraOrtho","_vTrail","ViewTrail","_vTrailDebug","ViewTrialDebug","all","_textureUniforms","_funcGetPos","_vs","uvs","getPosOrg","uvOffset","extra","posOrg","bufferInstance","_length","fbos","CULL_FACE","textureIndex","vSim","_fboParticle","sphere","FILE_EXTENTION","MIME_TYPE","dataURLtoBlob","dataurl","arr","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","Blob","filename","link","imgData","toDataURL","format","multiplier","blob","objurl","URL","createObjectURL","download","click","String","prototype","replaceAll","replacement","target","RegExp","capture","metaKey","preventDefault","date","Date","strDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","checkColor","obj","indexOf","oColor","red","green","blue","addControls","listen","step","onFinishChange","name","oControl","reset","checkCentred","updateLight","onChange"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA,mEAA2D;AAC3D;AACA;AACA,WAAG;;AAEH,oDAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA,cAAM;AACN;AACA;AACA,cAAM;AACN;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;;;AAIA;AACA,sDAA8C;AAC9C;AACA;AACA,oCAA4B;AAC5B,qCAA6B;AAC7B,yCAAiC;;AAEjC,+CAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAAsC;AACtC;AACA;AACA,qCAA6B;AAC7B,qCAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAiB,8BAA8B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA,4DAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAa,4BAA4B;AACzC;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sBAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAc,4BAA4B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAgB,uCAAuC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAgB,uCAAuC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAgB,sBAAsB;AACtC;AACA;AACA;AACA,gBAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAa,wCAAwC;AACrD;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA,gBAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;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SAAS;;AAET;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;;;;;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC7Sa;;AAEb,cAAc,mBAAO,CAAC,EAAc;AACpC,qBAAqB,mBAAO,CAAC,EAAuB;AACpD,YAAY,mBAAO,CAAC,EAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;;;;;;ACzTa;;AAEb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;;;;;;;;ACRY;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,mBAAO,CAAC,EAAa;;AAEvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,mBAAO,CAAC,EAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,uBAAuB,UAAU;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,UAAU;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV,UAAU;AACV,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;AAGA;AACA,YAAY,KAAK;;AAEjB;;;;AAIA,2CAA2C,SAAS;AACpD;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B,+BAA+B;AAC/B;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA,IAAI,qBAAa;AACjB;AACA;AACA;;;;;;;;ACpiCa;;AAEb,iCAAiC,mBAAO,CAAC,EAAU;AACnD,qCAAqC,mBAAO,CAAC,EAAU;;;;;;;;ACHvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpFA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,KAAK;AACL,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;;AAExB,yCAAyC,qBAAqB;;AAE9D;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;;AAEtD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAEU;AACZ;AACA,EAAE,mCAAmB;AACrB;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA,CAAC;;;;;;;;ACphBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,4BAA4B,mBAAO,CAAC,EAA4B;AAChE;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU,SAAS;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,UAAU,SAAS;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,UAAU,SAAS;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;;;;;;ACrZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtGA;;AACA;;AAHA;;AAKA2S,OAAOC,SAAP,CAAiBC,UAAjB,GAA8B,UAAStR,MAAT,EAAiBuR,WAAjB,EAA8B;AACxD,KAAIC,SAAS,IAAb;AACA,QAAOA,OAAOxE,OAAP,CAAe,IAAIyE,MAAJ,CAAWzR,MAAX,EA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CpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,SAAS;;AAET;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;AACD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,+BAA+B;AAC/B,OAAO;AACP;AACA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA,qBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA,qBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA,qBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,QAAQ,OAAO;AACf;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AA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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;;AAGA,CAAC;AACD;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA,aAAa,QAAQ;AACrB,aAAa,YAAY;AACzB,aAAa,QAAQ;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;;AAGL;;AAEA;AACA;;AAEA,KAAK;;AAEL,qBAAqB;;AAErB;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA,OAAO;;;AAGP;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA,2CAA2C,mBAAmB;AAC9D,2DAA2D,kBAAkB,EAAE;AAC/E,qDAAqD,mBAAmB;AACxE,sDAAsD,mBAAmB;AACzE;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX,SAAS;;AAET;;AAEA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA,qBAAqB,YAAY;AACjC,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC;;AAEhC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,wCAAwC;;AAExC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B,oBAAoB,MAAM;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;;AAEA,SAAS;;AAET;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;;AAEX;AACA;AACA,WAAW;;AAEX;AACA;AACA;;;AAGA,SAAS;;AAET;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;;AAEA;AACA,WAAW,wEAAwE;;AAEnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;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CA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,wGAAwG;AACxG,KAAK;AACL;;AAEA;AACA;AACA,6JAA6J;AAC7J,0JAA0J;AAC1J,qJAAqJ;AACrJ,sJAAsJ;AACtJ,kJAAkJ;AAClJ;;;AAGA;;AAEA,CAAC;AACD;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;AACD;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;;AAEA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA;AACA,kB;;;;;;AC3kHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,U;;AAEA,aAAa;;AAEb;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO;;AAEP;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO;;AAEP;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA,KAAK;;AAEL;;;AAGA,iD;;AAEA;;AAEA,OAAO,0CAA0C;;AAEjD,yCAAyC,SAAS;AAClD;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA,CAAC;;;AAGD;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;;AAEA,SAAS;;AAET;;AAEA;;AAEA,mDAAmD,EAAE;AACrD;;AAEA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;;AAEA,SAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;;AAEA,SAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;;AAGA,CAAC;AACD;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA,kB;;;;;;;AClvBa;;AAEb;AACA,2BAA2B,cAAc,EAAE,EAAE,GAAG,cAAc;AAC9D,2BAA2B,cAAc,EAAE,EAAE,IAAI,cAAc,EAAE,EAAE;AACnE,qCAAqC,cAAc;AACnD,oCAAoC,aAAa,KAAK,aAAa;;AAEnE,mCAAmC;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH","file":"assets/js/app.js","sourcesContent":[" \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n \twindow[\"webpackHotUpdate\"] = \r\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\thotAddUpdateChunk(chunkId, moreModules);\r\n \t\tif(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\r\n \t} ;\r\n \t\r\n \tfunction hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars\r\n \t\tvar head = document.getElementsByTagName(\"head\")[0];\r\n \t\tvar script = document.createElement(\"script\");\r\n \t\tscript.type = \"text/javascript\";\r\n \t\tscript.charset = \"utf-8\";\r\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\r\n \t\t;\r\n \t\thead.appendChild(script);\r\n \t}\r\n \t\r\n \tfunction hotDownloadManifest(requestTimeout) { // eslint-disable-line no-unused-vars\r\n \t\trequestTimeout = requestTimeout || 10000;\r\n \t\treturn new Promise(function(resolve, reject) {\r\n \t\t\tif(typeof XMLHttpRequest === \"undefined\")\r\n \t\t\t\treturn reject(new Error(\"No browser support\"));\r\n \t\t\ttry {\r\n \t\t\t\tvar request = new XMLHttpRequest();\r\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\r\n \t\t\t\trequest.open(\"GET\", requestPath, true);\r\n \t\t\t\trequest.timeout = requestTimeout;\r\n \t\t\t\trequest.send(null);\r\n \t\t\t} catch(err) {\r\n \t\t\t\treturn reject(err);\r\n \t\t\t}\r\n \t\t\trequest.onreadystatechange = function() {\r\n \t\t\t\tif(request.readyState !== 4) return;\r\n \t\t\t\tif(request.status === 0) {\r\n \t\t\t\t\t// timeout\r\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" timed out.\"));\r\n \t\t\t\t} else if(request.status === 404) {\r\n \t\t\t\t\t// no update available\r\n \t\t\t\t\tresolve();\r\n \t\t\t\t} else if(request.status !== 200 && request.status !== 304) {\r\n \t\t\t\t\t// other failure\r\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\r\n \t\t\t\t} else {\r\n \t\t\t\t\t// success\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\r\n \t\t\t\t\t} catch(e) {\r\n \t\t\t\t\t\treject(e);\r\n \t\t\t\t\t\treturn;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tresolve(update);\r\n \t\t\t\t}\r\n \t\t\t};\r\n \t\t});\r\n \t}\r\n\n \t\r\n \t\r\n \tvar hotApplyOnUpdate = true;\r\n \tvar hotCurrentHash = \"08bee23e9f57167e869a\"; // eslint-disable-line no-unused-vars\r\n \tvar hotRequestTimeout = 10000;\r\n \tvar hotCurrentModuleData = {};\r\n \tvar hotCurrentChildModule; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars\r\n \t\r\n \tfunction hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar me = installedModules[moduleId];\r\n \t\tif(!me) return __webpack_require__;\r\n \t\tvar fn = function(request) {\r\n \t\t\tif(me.hot.active) {\r\n \t\t\t\tif(installedModules[request]) {\r\n \t\t\t\t\tif(installedModules[request].parents.indexOf(moduleId) < 0)\r\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\r\n \t\t\t\t} else {\r\n \t\t\t\t\thotCurrentParents = [moduleId];\r\n \t\t\t\t\thotCurrentChildModule = request;\r\n \t\t\t\t}\r\n \t\t\t\tif(me.children.indexOf(request) < 0)\r\n \t\t\t\t\tme.children.push(request);\r\n \t\t\t} else {\r\n \t\t\t\tconsole.warn(\"[HMR] unexpected require(\" + request + \") from disposed module \" + moduleId);\r\n \t\t\t\thotCurrentParents = [];\r\n \t\t\t}\r\n \t\t\treturn __webpack_require__(request);\r\n \t\t};\r\n \t\tvar ObjectFactory = function ObjectFactory(name) {\r\n \t\t\treturn {\r\n \t\t\t\tconfigurable: true,\r\n \t\t\t\tenumerable: true,\r\n \t\t\t\tget: function() {\r\n \t\t\t\t\treturn __webpack_require__[name];\r\n \t\t\t\t},\r\n \t\t\t\tset: function(value) {\r\n \t\t\t\t\t__webpack_require__[name] = value;\r\n \t\t\t\t}\r\n \t\t\t};\r\n \t\t};\r\n \t\tfor(var name in __webpack_require__) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(__webpack_require__, name) && name !== \"e\") {\r\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\r\n \t\t\t}\r\n \t\t}\r\n \t\tfn.e = function(chunkId) {\r\n \t\t\tif(hotStatus === \"ready\")\r\n \t\t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotChunksLoading++;\r\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\r\n \t\t\t\tfinishChunkLoading();\r\n \t\t\t\tthrow err;\r\n \t\t\t});\r\n \t\r\n \t\t\tfunction finishChunkLoading() {\r\n \t\t\t\thotChunksLoading--;\r\n \t\t\t\tif(hotStatus === \"prepare\") {\r\n \t\t\t\t\tif(!hotWaitingFilesMap[chunkId]) {\r\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\t\t\thotUpdateDownloaded();\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t};\r\n \t\treturn fn;\r\n \t}\r\n \t\r\n \tfunction hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar hot = {\r\n \t\t\t// private stuff\r\n \t\t\t_acceptedDependencies: {},\r\n \t\t\t_declinedDependencies: {},\r\n \t\t\t_selfAccepted: false,\r\n \t\t\t_selfDeclined: false,\r\n \t\t\t_disposeHandlers: [],\r\n \t\t\t_main: hotCurrentChildModule !== moduleId,\r\n \t\r\n \t\t\t// Module API\r\n \t\t\tactive: true,\r\n \t\t\taccept: function(dep, callback) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfAccepted = true;\r\n \t\t\t\telse if(typeof dep === \"function\")\r\n \t\t\t\t\thot._selfAccepted = dep;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\r\n \t\t\t\telse\r\n \t\t\t\t\thot._acceptedDependencies[dep] = callback || function() {};\r\n \t\t\t},\r\n \t\t\tdecline: function(dep) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfDeclined = true;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\r\n \t\t\t\telse\r\n \t\t\t\t\thot._declinedDependencies[dep] = true;\r\n \t\t\t},\r\n \t\t\tdispose: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\taddDisposeHandler: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\tremoveDisposeHandler: function(callback) {\r\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\r\n \t\t\t\tif(idx >= 0) hot._disposeHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t// Management API\r\n \t\t\tcheck: hotCheck,\r\n \t\t\tapply: hotApply,\r\n \t\t\tstatus: function(l) {\r\n \t\t\t\tif(!l) return hotStatus;\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\taddStatusHandler: function(l) {\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\tremoveStatusHandler: function(l) {\r\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\r\n \t\t\t\tif(idx >= 0) hotStatusHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t//inherit from previous dispose call\r\n \t\t\tdata: hotCurrentModuleData[moduleId]\r\n \t\t};\r\n \t\thotCurrentChildModule = undefined;\r\n \t\treturn hot;\r\n \t}\r\n \t\r\n \tvar hotStatusHandlers = [];\r\n \tvar hotStatus = \"idle\";\r\n \t\r\n \tfunction hotSetStatus(newStatus) {\r\n \t\thotStatus = newStatus;\r\n \t\tfor(var i = 0; i < hotStatusHandlers.length; i++)\r\n \t\t\thotStatusHandlers[i].call(null, newStatus);\r\n \t}\r\n \t\r\n \t// while downloading\r\n \tvar hotWaitingFiles = 0;\r\n \tvar hotChunksLoading = 0;\r\n \tvar hotWaitingFilesMap = {};\r\n \tvar hotRequestedFilesMap = {};\r\n \tvar hotAvailableFilesMap = {};\r\n \tvar hotDeferred;\r\n \t\r\n \t// The update info\r\n \tvar hotUpdate, hotUpdateNewHash;\r\n \t\r\n \tfunction toModuleId(id) {\r\n \t\tvar isNumber = (+id) + \"\" === id;\r\n \t\treturn isNumber ? +id : id;\r\n \t}\r\n \t\r\n \tfunction hotCheck(apply) {\r\n \t\tif(hotStatus !== \"idle\") throw new Error(\"check() is only allowed in idle status\");\r\n \t\thotApplyOnUpdate = apply;\r\n \t\thotSetStatus(\"check\");\r\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\r\n \t\t\tif(!update) {\r\n \t\t\t\thotSetStatus(\"idle\");\r\n \t\t\t\treturn null;\r\n \t\t\t}\r\n \t\t\thotRequestedFilesMap = {};\r\n \t\t\thotWaitingFilesMap = {};\r\n \t\t\thotAvailableFilesMap = update.c;\r\n \t\t\thotUpdateNewHash = update.h;\r\n \t\r\n \t\t\thotSetStatus(\"prepare\");\r\n \t\t\tvar promise = new Promise(function(resolve, reject) {\r\n \t\t\t\thotDeferred = {\r\n \t\t\t\t\tresolve: resolve,\r\n \t\t\t\t\treject: reject\r\n \t\t\t\t};\r\n \t\t\t});\r\n \t\t\thotUpdate = {};\r\n \t\t\tvar chunkId = 0;\r\n \t\t\t{ // eslint-disable-line no-lone-blocks\r\n \t\t\t\t/*globals chunkId */\r\n \t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t}\r\n \t\t\tif(hotStatus === \"prepare\" && hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\thotUpdateDownloaded();\r\n \t\t\t}\r\n \t\t\treturn promise;\r\n \t\t});\r\n \t}\r\n \t\r\n \tfunction hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\tif(!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\r\n \t\t\treturn;\r\n \t\thotRequestedFilesMap[chunkId] = false;\r\n \t\tfor(var moduleId in moreModules) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\r\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\tif(--hotWaitingFiles === 0 && hotChunksLoading === 0) {\r\n \t\t\thotUpdateDownloaded();\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotEnsureUpdateChunk(chunkId) {\r\n \t\tif(!hotAvailableFilesMap[chunkId]) {\r\n \t\t\thotWaitingFilesMap[chunkId] = true;\r\n \t\t} else {\r\n \t\t\thotRequestedFilesMap[chunkId] = true;\r\n \t\t\thotWaitingFiles++;\r\n \t\t\thotDownloadUpdateChunk(chunkId);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotUpdateDownloaded() {\r\n \t\thotSetStatus(\"ready\");\r\n \t\tvar deferred = hotDeferred;\r\n \t\thotDeferred = null;\r\n \t\tif(!deferred) return;\r\n \t\tif(hotApplyOnUpdate) {\r\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\r\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\r\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\r\n \t\t\tPromise.resolve().then(function() {\r\n \t\t\t\treturn hotApply(hotApplyOnUpdate);\r\n \t\t\t}).then(\r\n \t\t\t\tfunction(result) {\r\n \t\t\t\t\tdeferred.resolve(result);\r\n \t\t\t\t},\r\n \t\t\t\tfunction(err) {\r\n \t\t\t\t\tdeferred.reject(err);\r\n \t\t\t\t}\r\n \t\t\t);\r\n \t\t} else {\r\n \t\t\tvar outdatedModules = [];\r\n \t\t\tfor(var id in hotUpdate) {\r\n \t\t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t\tdeferred.resolve(outdatedModules);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotApply(options) {\r\n \t\tif(hotStatus !== \"ready\") throw new Error(\"apply() is only allowed in ready status\");\r\n \t\toptions = options || {};\r\n \t\r\n \t\tvar cb;\r\n \t\tvar i;\r\n \t\tvar j;\r\n \t\tvar module;\r\n \t\tvar moduleId;\r\n \t\r\n \t\tfunction getAffectedStuff(updateModuleId) {\r\n \t\t\tvar outdatedModules = [updateModuleId];\r\n \t\t\tvar outdatedDependencies = {};\r\n \t\r\n \t\t\tvar queue = outdatedModules.slice().map(function(id) {\r\n \t\t\t\treturn {\r\n \t\t\t\t\tchain: [id],\r\n \t\t\t\t\tid: id\r\n \t\t\t\t};\r\n \t\t\t});\r\n \t\t\twhile(queue.length > 0) {\r\n \t\t\t\tvar queueItem = queue.pop();\r\n \t\t\t\tvar moduleId = queueItem.id;\r\n \t\t\t\tvar chain = queueItem.chain;\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(!module || module.hot._selfAccepted)\r\n \t\t\t\t\tcontinue;\r\n \t\t\t\tif(module.hot._selfDeclined) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"self-declined\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tif(module.hot._main) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"unaccepted\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < module.parents.length; i++) {\r\n \t\t\t\t\tvar parentId = module.parents[i];\r\n \t\t\t\t\tvar parent = installedModules[parentId];\r\n \t\t\t\t\tif(!parent) continue;\r\n \t\t\t\t\tif(parent.hot._declinedDependencies[moduleId]) {\r\n \t\t\t\t\t\treturn {\r\n \t\t\t\t\t\t\ttype: \"declined\",\r\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\tparentId: parentId\r\n \t\t\t\t\t\t};\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(outdatedModules.indexOf(parentId) >= 0) continue;\r\n \t\t\t\t\tif(parent.hot._acceptedDependencies[moduleId]) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[parentId])\r\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tdelete outdatedDependencies[parentId];\r\n \t\t\t\t\toutdatedModules.push(parentId);\r\n \t\t\t\t\tqueue.push({\r\n \t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\tid: parentId\r\n \t\t\t\t\t});\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\r\n \t\t\treturn {\r\n \t\t\t\ttype: \"accepted\",\r\n \t\t\t\tmoduleId: updateModuleId,\r\n \t\t\t\toutdatedModules: outdatedModules,\r\n \t\t\t\toutdatedDependencies: outdatedDependencies\r\n \t\t\t};\r\n \t\t}\r\n \t\r\n \t\tfunction addAllToSet(a, b) {\r\n \t\t\tfor(var i = 0; i < b.length; i++) {\r\n \t\t\t\tvar item = b[i];\r\n \t\t\t\tif(a.indexOf(item) < 0)\r\n \t\t\t\t\ta.push(item);\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// at begin all updates modules are outdated\r\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\r\n \t\tvar outdatedDependencies = {};\r\n \t\tvar outdatedModules = [];\r\n \t\tvar appliedUpdate = {};\r\n \t\r\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\r\n \t\t\tconsole.warn(\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\");\r\n \t\t};\r\n \t\r\n \t\tfor(var id in hotUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\tmoduleId = toModuleId(id);\r\n \t\t\t\tvar result;\r\n \t\t\t\tif(hotUpdate[id]) {\r\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\r\n \t\t\t\t} else {\r\n \t\t\t\t\tresult = {\r\n \t\t\t\t\t\ttype: \"disposed\",\r\n \t\t\t\t\t\tmoduleId: id\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tvar abortError = false;\r\n \t\t\t\tvar doApply = false;\r\n \t\t\t\tvar doDispose = false;\r\n \t\t\t\tvar chainInfo = \"\";\r\n \t\t\t\tif(result.chain) {\r\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\r\n \t\t\t\t}\r\n \t\t\t\tswitch(result.type) {\r\n \t\t\t\t\tcase \"self-declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of self decline: \" + result.moduleId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of declined dependency: \" + result.moduleId + \" in \" + result.parentId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"unaccepted\":\r\n \t\t\t\t\t\tif(options.onUnaccepted)\r\n \t\t\t\t\t\t\toptions.onUnaccepted(result);\r\n \t\t\t\t\t\tif(!options.ignoreUnaccepted)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"accepted\":\r\n \t\t\t\t\t\tif(options.onAccepted)\r\n \t\t\t\t\t\t\toptions.onAccepted(result);\r\n \t\t\t\t\t\tdoApply = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"disposed\":\r\n \t\t\t\t\t\tif(options.onDisposed)\r\n \t\t\t\t\t\t\toptions.onDisposed(result);\r\n \t\t\t\t\t\tdoDispose = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tdefault:\r\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\r\n \t\t\t\t}\r\n \t\t\t\tif(abortError) {\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn Promise.reject(abortError);\r\n \t\t\t\t}\r\n \t\t\t\tif(doApply) {\r\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\r\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\r\n \t\t\t\t\tfor(moduleId in result.outdatedDependencies) {\r\n \t\t\t\t\t\tif(Object.prototype.hasOwnProperty.call(result.outdatedDependencies, moduleId)) {\r\n \t\t\t\t\t\t\tif(!outdatedDependencies[moduleId])\r\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\r\n \t\t\t\t\t\t\taddAllToSet(outdatedDependencies[moduleId], result.outdatedDependencies[moduleId]);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t\tif(doDispose) {\r\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\r\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Store self accepted outdated modules to require them later by the module system\r\n \t\tvar outdatedSelfAcceptedModules = [];\r\n \t\tfor(i = 0; i < outdatedModules.length; i++) {\r\n \t\t\tmoduleId = outdatedModules[i];\r\n \t\t\tif(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)\r\n \t\t\t\toutdatedSelfAcceptedModules.push({\r\n \t\t\t\t\tmodule: moduleId,\r\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\r\n \t\t\t\t});\r\n \t\t}\r\n \t\r\n \t\t// Now in \"dispose\" phase\r\n \t\thotSetStatus(\"dispose\");\r\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\r\n \t\t\tif(hotAvailableFilesMap[chunkId] === false) {\r\n \t\t\t\thotDisposeChunk(chunkId);\r\n \t\t\t}\r\n \t\t});\r\n \t\r\n \t\tvar idx;\r\n \t\tvar queue = outdatedModules.slice();\r\n \t\twhile(queue.length > 0) {\r\n \t\t\tmoduleId = queue.pop();\r\n \t\t\tmodule = installedModules[moduleId];\r\n \t\t\tif(!module) continue;\r\n \t\r\n \t\t\tvar data = {};\r\n \t\r\n \t\t\t// Call dispose handlers\r\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\r\n \t\t\tfor(j = 0; j < disposeHandlers.length; j++) {\r\n \t\t\t\tcb = disposeHandlers[j];\r\n \t\t\t\tcb(data);\r\n \t\t\t}\r\n \t\t\thotCurrentModuleData[moduleId] = data;\r\n \t\r\n \t\t\t// disable module (this disables requires from this module)\r\n \t\t\tmodule.hot.active = false;\r\n \t\r\n \t\t\t// remove module from cache\r\n \t\t\tdelete installedModules[moduleId];\r\n \t\r\n \t\t\t// when disposing there is no need to call dispose handler\r\n \t\t\tdelete outdatedDependencies[moduleId];\r\n \t\r\n \t\t\t// remove \"parents\" references from all children\r\n \t\t\tfor(j = 0; j < module.children.length; j++) {\r\n \t\t\t\tvar child = installedModules[module.children[j]];\r\n \t\t\t\tif(!child) continue;\r\n \t\t\t\tidx = child.parents.indexOf(moduleId);\r\n \t\t\t\tif(idx >= 0) {\r\n \t\t\t\t\tchild.parents.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// remove outdated dependency from module children\r\n \t\tvar dependency;\r\n \t\tvar moduleOutdatedDependencies;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(module) {\r\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\t\tfor(j = 0; j < moduleOutdatedDependencies.length; j++) {\r\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\r\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\r\n \t\t\t\t\t\tif(idx >= 0) module.children.splice(idx, 1);\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Not in \"apply\" phase\r\n \t\thotSetStatus(\"apply\");\r\n \t\r\n \t\thotCurrentHash = hotUpdateNewHash;\r\n \t\r\n \t\t// insert new code\r\n \t\tfor(moduleId in appliedUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\r\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// call accept handlers\r\n \t\tvar error = null;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(module) {\r\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\t\tvar callbacks = [];\r\n \t\t\t\t\tfor(i = 0; i < moduleOutdatedDependencies.length; i++) {\r\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\r\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\r\n \t\t\t\t\t\tif(cb) {\r\n \t\t\t\t\t\t\tif(callbacks.indexOf(cb) >= 0) continue;\r\n \t\t\t\t\t\t\tcallbacks.push(cb);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t\tfor(i = 0; i < callbacks.length; i++) {\r\n \t\t\t\t\t\tcb = callbacks[i];\r\n \t\t\t\t\t\ttry {\r\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\r\n \t\t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\r\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\r\n \t\t\t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Load self accepted modules\r\n \t\tfor(i = 0; i < outdatedSelfAcceptedModules.length; i++) {\r\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\r\n \t\t\tmoduleId = item.module;\r\n \t\t\thotCurrentParents = [moduleId];\r\n \t\t\ttry {\r\n \t\t\t\t__webpack_require__(moduleId);\r\n \t\t\t} catch(err) {\r\n \t\t\t\tif(typeof item.errorHandler === \"function\") {\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\titem.errorHandler(err);\r\n \t\t\t\t\t} catch(err2) {\r\n \t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\r\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\terror: err2,\r\n \t\t\t\t\t\t\t\torginalError: err, // TODO remove in webpack 4\r\n \t\t\t\t\t\t\t\toriginalError: err\r\n \t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\terror = err2;\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t} else {\r\n \t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t});\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// handle errors in accept handlers and self accepted module load\r\n \t\tif(error) {\r\n \t\t\thotSetStatus(\"fail\");\r\n \t\t\treturn Promise.reject(error);\r\n \t\t}\r\n \t\r\n \t\thotSetStatus(\"idle\");\r\n \t\treturn new Promise(function(resolve) {\r\n \t\t\tresolve(outdatedModules);\r\n \t\t});\r\n \t}\r\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(17)(__webpack_require__.s = 17);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 08bee23e9f57167e869a","!function(root,factory){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=factory():\"function\"==typeof define&&define.amd?define(\"alfrid\",[],factory):\"object\"==typeof exports?exports.alfrid=factory():root.alfrid=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,\"a\",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p=\"\",__webpack_require__(__webpack_require__.s=41)}([function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_getAndApplyExtension=__webpack_require__(47),_getAndApplyExtension2=_interopRequireDefault(_getAndApplyExtension),_exposeAttributes=__webpack_require__(48),_exposeAttributes2=_interopRequireDefault(_exposeAttributes),_getFloat=__webpack_require__(49),_getFloat2=_interopRequireDefault(_getFloat),_getHalfFloat=__webpack_require__(50),_getHalfFloat2=_interopRequireDefault(_getHalfFloat),_getAttribLoc=__webpack_require__(24),_ExtensionsList=(_interopRequireDefault(_getAttribLoc),__webpack_require__(51)),_ExtensionsList2=_interopRequireDefault(_ExtensionsList),gl=void 0,GLTool=function(){function GLTool(){_classCallCheck(this,GLTool),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=_glMatrix.mat4.create(),this._normalMatrix=_glMatrix.mat3.create(),this._inverseModelViewMatrix=_glMatrix.mat3.create(),this._modelMatrix=_glMatrix.mat4.create(),this._matrix=_glMatrix.mat4.create(),this._matrixStacks=[],this._lastMesh=null,this._useWebGL2=!1,this._hasArrayInstance,this._extArrayInstance,this._hasCheckedExt=!1,_glMatrix.mat4.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}return _createClass(GLTool,[{key:\"init\",value:function(mCanvas){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===mCanvas||void 0===mCanvas)return void console.error(\"Canvas not exist\");void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=mCanvas,this.setSize(window.innerWidth,window.innerHeight),mParameters.useWebgl2=mParameters.useWebgl2||!1;var ctx=void 0;mParameters.useWebgl2?(ctx=this.canvas.getContext(\"experimental-webgl2\",mParameters)||this.canvas.getContext(\"webgl2\",mParameters),ctx?this._useWebGL2=!0:(ctx=this.canvas.getContext(\"webgl\",mParameters)||this.canvas.getContext(\"experimental-webgl\",mParameters),this._useWebGL2=!1)):(ctx=this.canvas.getContext(\"webgl\",mParameters)||this.canvas.getContext(\"experimental-webgl\",mParameters),this._useWebGL2=!1),console.log(\"Using WebGL 2 ?\",this.webgl2),this.initWithGL(ctx)}},{key:\"initWithGL\",value:function(ctx){this.canvas||(this.canvas=ctx.canvas),gl=this.gl=ctx,this.extensions={};for(var i=0;i<_ExtensionsList2.default.length;i++)this.extensions[_ExtensionsList2.default[i]]=gl.getExtension(_ExtensionsList2.default[i]);(0,_exposeAttributes2.default)(),(0,_getAndApplyExtension2.default)(gl,\"OES_vertex_array_object\"),(0,_getAndApplyExtension2.default)(gl,\"ANGLE_instanced_arrays\"),(0,_getAndApplyExtension2.default)(gl,\"WEBGL_draw_buffers\"),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND),this.enableAlphaBlending()}},{key:\"setViewport\",value:function(x,y,w,h){var hasChanged=!1;x!==this._viewport[0]&&(hasChanged=!0),y!==this._viewport[1]&&(hasChanged=!0),w!==this._viewport[2]&&(hasChanged=!0),h!==this._viewport[3]&&(hasChanged=!0),hasChanged&&(gl.viewport(x,y,w,h),this._viewport=[x,y,w,h])}},{key:\"scissor\",value:function(x,y,w,h){gl.scissor(x,y,w,h)}},{key:\"clear\",value:function(r,g,b,a){gl.clearColor(r,g,b,a),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT)}},{key:\"cullFace\",value:function(mValue){gl.cullFace(mValue)}},{key:\"setMatrices\",value:function(mCamera){this.camera=mCamera,this.rotate(this.identityMatrix)}},{key:\"useShader\",value:function(mShader){this.shader=mShader,this.shaderProgram=this.shader.shaderProgram}},{key:\"rotate\",value:function(mRotation){_glMatrix.mat4.copy(this._modelMatrix,mRotation),_glMatrix.mat4.multiply(this._matrix,this.camera.matrix,this._modelMatrix),_glMatrix.mat3.fromMat4(this._normalMatrix,this._matrix),_glMatrix.mat3.invert(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.transpose(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.fromMat4(this._inverseModelViewMatrix,this._matrix),_glMatrix.mat3.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}},{key:\"draw\",value:function(mMesh,mDrawingType){if(mMesh.length)for(var i=0;i<mMesh.length;i++)this.draw(mMesh[i]);else{mMesh.bind(this.shaderProgram),void 0!==this.camera&&(this.shader.uniform(\"uProjectionMatrix\",\"mat4\",this.camera.projection),this.shader.uniform(\"uViewMatrix\",\"mat4\",this.camera.matrix)),this.shader.uniform(\"uModelMatrix\",\"mat4\",this._modelMatrix),this.shader.uniform(\"uNormalMatrix\",\"mat3\",this._normalMatrix),this.shader.uniform(\"uModelViewMatrixInverse\",\"mat3\",this._inverseModelViewMatrix);var drawType=mMesh.drawType;void 0!==mDrawingType&&(drawType=mDrawingType),mMesh.isInstanced?gl.drawElementsInstanced(mMesh.drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0,mMesh.numInstance):drawType===gl.POINTS?gl.drawArrays(drawType,0,mMesh.vertexSize):gl.drawElements(drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0),mMesh.unbind()}}},{key:\"drawTransformFeedback\",value:function(mTransformObject){var meshSource=mTransformObject.meshSource,meshDestination=mTransformObject.meshDestination,numPoints=mTransformObject.numPoints,transformFeedback=mTransformObject.transformFeedback;meshSource.bind(this.shaderProgram),meshDestination.generateBuffers(this.shaderProgram),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,transformFeedback),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,attr.buffer)}),gl.enable(gl.RASTERIZER_DISCARD),gl.beginTransformFeedback(gl.POINTS),gl.drawArrays(gl.POINTS,0,numPoints),gl.endTransformFeedback(),gl.disable(gl.RASTERIZER_DISCARD),gl.useProgram(null),gl.bindBuffer(gl.ARRAY_BUFFER,null),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,null)}),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,null),meshSource.unbind()}},{key:\"setSize\",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,gl&&this.viewport(0,0,this._width,this._height)}},{key:\"showExtensions\",value:function(){console.log(\"Extensions : \",this.extensions);for(var ext in this.extensions)this.extensions[ext]&&console.log(ext,\":\",this.extensions[ext])}},{key:\"checkExtension\",value:function(mExtension){return!!this.extensions[mExtension]}},{key:\"getExtension\",value:function(mExtension){return this.extensions[mExtension]}},{key:\"enableAlphaBlending\",value:function(){gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)}},{key:\"enableAdditiveBlending\",value:function(){gl.blendFunc(gl.ONE,gl.ONE)}},{key:\"pushMatrix\",value:function(){var mtx=_glMatrix.mat4.clone(this._modelMatrix);this._matrixStacks.push(mtx)}},{key:\"popMatrix\",value:function(){if(0==this._matrixStacks.length)return null;var mtx=this._matrixStacks.pop();this.rotate(mtx)}},{key:\"enable\",value:function(mParameter){gl.enable(mParameter)}},{key:\"disable\",value:function(mParameter){gl.disable(mParameter)}},{key:\"viewport\",value:function(x,y,w,h){this.setViewport(x,y,w,h)}},{key:\"destroy\",value:function(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(e){console.log(\"Error : \",e)}this.canvas=null}},{key:\"FLOAT\",get:function(){return(0,_getFloat2.default)()}},{key:\"HALF_FLOAT\",get:function(){return(0,_getHalfFloat2.default)()}},{key:\"width\",get:function(){return this._width}},{key:\"height\",get:function(){return this._height}},{key:\"aspectRatio\",get:function(){return this._aspectRatio}},{key:\"webgl2\",get:function(){return this._useWebGL2}}]),GLTool}(),GL=new GLTool;exports.default=GL},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(42),mat2=_interopRequireWildcard(_mat),_mat2d=__webpack_require__(43),mat2d=_interopRequireWildcard(_mat2d),_mat2=__webpack_require__(20),mat3=_interopRequireWildcard(_mat2),_mat3=__webpack_require__(44),mat4=_interopRequireWildcard(_mat3),_quat=__webpack_require__(45),quat=_interopRequireWildcard(_quat),_vec=__webpack_require__(46),vec2=_interopRequireWildcard(_vec),_vec2=__webpack_require__(21),vec3=_interopRequireWildcard(_vec2),_vec3=__webpack_require__(22),vec4=_interopRequireWildcard(_vec3);exports.glMatrix=glMatrix,exports.mat2=mat2,exports.mat2d=mat2d,exports.mat3=mat3,exports.mat4=mat4,exports.quat=quat,exports.vec2=vec2,exports.vec3=vec3,exports.vec4=vec4},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),isSame=(__webpack_require__(52),function(array1,array2){if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i]!==array2[i])return!1;return!0}),addLineNumbers=function(string){for(var lines=string.split(\"\\n\"),i=0;i<lines.length;i++)lines[i]=i+1+\": \"+lines[i];return lines.join(\"\\n\")},cloneArray=function(mArray){return mArray.slice?mArray.slice(0):new Float32Array(mArray)},gl=void 0,defaultVertexShader=__webpack_require__(11),defaultFragmentShader=__webpack_require__(53),uniformMapping={float:\"uniform1f\",vec2:\"uniform2fv\",vec3:\"uniform3fv\",vec4:\"uniform4fv\",int:\"uniform1i\",mat3:\"uniformMatrix3fv\",mat4:\"uniformMatrix4fv\"},GLShader=function(){function GLShader(){var strVertexShader=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultVertexShader,strFragmentShader=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultFragmentShader,mVaryings=arguments[2];_classCallCheck(this,GLShader),gl=_GLTool2.default.gl,this.parameters=[],this.uniformTextures=[],this._varyings=mVaryings,strVertexShader||(strVertexShader=defaultVertexShader),strFragmentShader||(strFragmentShader=defaultVertexShader);var vsShader=this._createShaderProgram(strVertexShader,!0),fsShader=this._createShaderProgram(strFragmentShader,!1);this._attachShaderProgram(vsShader,fsShader)}return _createClass(GLShader,[{key:\"bind\",value:function(){_GLTool2.default.shader!==this&&(gl.useProgram(this.shaderProgram),_GLTool2.default.useShader(this),this.uniformTextures=[])}},{key:\"uniform\",value:function(mName,mType,mValue){if(\"object\"===(void 0===mName?\"undefined\":_typeof(mName)))return void this.uniformObject(mName);for(var uniformType=uniformMapping[mType]||mType,hasUniform=!1,oUniform=void 0,parameterIndex=-1,i=0;i<this.parameters.length;i++)if(oUniform=this.parameters[i],oUniform.name===mName){hasUniform=!0,parameterIndex=i;break}var isNumber=!1;if(hasUniform?(this.shaderProgram[mName]=oUniform.uniformLoc,isNumber=oUniform.isNumber):(isNumber=\"uniform1i\"===uniformType||\"uniform1f\"===uniformType,this.shaderProgram[mName]=gl.getUniformLocation(this.shaderProgram,mName),isNumber?this.parameters.push({name:mName,type:uniformType,value:mValue,uniformLoc:this.shaderProgram[mName],isNumber:isNumber}):this.parameters.push({name:mName,type:uniformType,value:cloneArray(mValue),uniformLoc:this.shaderProgram[mName],isNumber:isNumber}),parameterIndex=this.parameters.length-1),this.parameters[parameterIndex].uniformLoc)if(-1===uniformType.indexOf(\"Matrix\"))if(isNumber){var needUpdate=this.parameters[parameterIndex].value!==mValue||!hasUniform;needUpdate&&(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=mValue)}else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=cloneArray(mValue));else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],!1,mValue),this.parameters[parameterIndex].value=cloneArray(mValue))}},{key:\"uniformObject\",value:function(mUniformObj){for(var uniformName in mUniformObj){var uniformValue=mUniformObj[uniformName],uniformType=GLShader.getUniformType(uniformValue);if(uniformValue.concat&&uniformValue[0].concat){for(var tmp=[],i=0;i<uniformValue.length;i++)tmp=tmp.concat(uniformValue[i]);uniformValue=tmp}this.uniform(uniformName,uniformType,uniformValue)}}},{key:\"_createShaderProgram\",value:function(mShaderStr,isVertexShader){var shaderType=isVertexShader?_GLTool2.default.VERTEX_SHADER:_GLTool2.default.FRAGMENT_SHADER,shader=gl.createShader(shaderType);return gl.shaderSource(shader,mShaderStr),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:(console.warn(\"Error in Shader : \",gl.getShaderInfoLog(shader)),console.log(addLineNumbers(mShaderStr)),null)}},{key:\"_attachShaderProgram\",value:function(mVertexShader,mFragmentShader){this.shaderProgram=gl.createProgram(),gl.attachShader(this.shaderProgram,mVertexShader),gl.attachShader(this.shaderProgram,mFragmentShader),gl.deleteShader(mVertexShader),gl.deleteShader(mFragmentShader),this._varyings&&(console.log(\"Transform feedback setup : \",this._varyings),gl.transformFeedbackVaryings(this.shaderProgram,this._varyings,gl.SEPARATE_ATTRIBS)),gl.linkProgram(this.shaderProgram)}}]),GLShader}();GLShader.getUniformType=function(mValue){var isArray=!!mValue.concat,getArrayUniformType=function(mValue){return 9===mValue.length?\"uniformMatrix3fv\":16===mValue.length?\"uniformMatrix4fv\":\"vec\"+mValue.length};return isArray?getArrayUniformType(mValue[0].concat?mValue[0]:mValue):\"float\"},exports.default=GLShader},function(module,exports,__webpack_require__){\"use strict\";function setMatrixArrayType(type){exports.ARRAY_TYPE=ARRAY_TYPE=type}function toRadian(a){return a*degree}function equals(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.setMatrixArrayType=setMatrixArrayType,exports.toRadian=toRadian,exports.equals=equals;var EPSILON=exports.EPSILON=1e-6,ARRAY_TYPE=exports.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,degree=(exports.RANDOM=Math.random,Math.PI/180)},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),Batch=function(){function Batch(mMesh,mShader){_classCallCheck(this,Batch),this._mesh=mMesh,this._shader=mShader}return _createClass(Batch,[{key:\"draw\",value:function(){this._shader.bind(),_GLTool2.default.draw(this.mesh)}},{key:\"mesh\",get:function(){return this._mesh}},{key:\"shader\",get:function(){return this._shader}}]),Batch}();exports.default=Batch},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_glMatrix=__webpack_require__(1),_getAttribLoc=__webpack_require__(24),_getAttribLoc2=_interopRequireDefault(_getAttribLoc),gl=void 0,getBuffer=function(attr){var buffer=void 0;return void 0!==attr.buffer?buffer=attr.buffer:(buffer=gl.createBuffer(),attr.buffer=buffer),buffer},formBuffer=function(mData,mNum){for(var ary=[],i=0;i<mData.length;i+=mNum){for(var o=[],j=0;j<mNum;j++)o.push(mData[i+j]);ary.push(o)}return ary},Mesh=function(){function Mesh(){var mDrawingType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,mUseVao=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classCallCheck(this,Mesh),gl=_GLTool2.default.gl,this.drawType=mDrawingType,this._attributes=[],this._numInstance=-1,this._enabledVertexAttribute=[],this._indices=[],this._faces=[],this._bufferChanged=[],this._hasIndexBufferChanged=!1,this._hasVAO=!1,this._isInstanced=!1,this._extVAO=!!_GLTool2.default.gl.createVertexArray,this._useVAO=!!this._extVAO&&mUseVao}return _createClass(Mesh,[{key:\"bufferVertex\",value:function(mArrayVertices){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayVertices,\"aVertexPosition\",3,mDrawType),this.normals.length<this.vertices.length&&this.bufferNormal(mArrayVertices,mDrawType),this}},{key:\"bufferTexCoord\",value:function(mArrayTexCoords){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayTexCoords,\"aTextureCoord\",2,mDrawType),this}},{key:\"bufferNormal\",value:function(mNormals){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mNormals,\"aNormal\",3,mDrawType),this}},{key:\"bufferIndex\",value:function(mArrayIndices){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._drawType=isDynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW,this._indices=new Uint16Array(mArrayIndices),this._numItems=this._indices.length,this}},{key:\"bufferFlattenData\",value:function(mData,mName,mItemSize){var data=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],formBuffer(mData,mItemSize));return this.bufferData(data,mName,mItemSize,35044,!1),this}},{key:\"bufferData\",value:function(mData,mName,mItemSize){var mDrawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044,isInstanced=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=0,drawType=mDrawType,bufferData=[];for(mItemSize||(mItemSize=mData[0].length),this._isInstanced=isInstanced||this._isInstanced,i=0;i<mData.length;i++)for(var j=0;j<mData[i].length;j++)bufferData.push(mData[i][j]);var dataArray=new Float32Array(bufferData),attribute=this.getAttribute(mName);return attribute?(attribute.itemSize=mItemSize,attribute.dataArray=dataArray,attribute.source=mData):this._attributes.push({name:mName,source:mData,itemSize:mItemSize,drawType:drawType,dataArray:dataArray,isInstanced:isInstanced}),this._bufferChanged.push(mName),this}},{key:\"bufferInstance\",value:function(mData,mName){if(!_GLTool2.default.gl.vertexAttribDivisor)return void console.error(\"Extension : ANGLE_instanced_arrays is not supported with this device !\");var itemSize=mData[0].length;this._numInstance=mData.length,this.bufferData(mData,mName,itemSize,35044,!0)}},{key:\"bind\",value:function(mShaderProgram){this.generateBuffers(mShaderProgram),this.hasVAO?gl.bindVertexArray(this.vao):(this.attributes.forEach(function(attribute){gl.bindBuffer(gl.ARRAY_BUFFER,attribute.buffer);var attrPosition=attribute.attrPosition;gl.vertexAttribPointer(attrPosition,attribute.itemSize,gl.FLOAT,!1,0,0),attribute.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer))}},{key:\"generateBuffers\",value:function(mShaderProgram){var _this=this;0!=this._bufferChanged.length&&(this._useVAO?(this._vao||(this._vao=gl.createVertexArray()),gl.bindVertexArray(this._vao),this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer(),gl.bindVertexArray(null),this._hasVAO=!0):(this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer()),this._hasIndexBufferChanged=!1,this._bufferChanged=[])}},{key:\"unbind\",value:function(){this._useVAO&&gl.bindVertexArray(null),this._attributes.forEach(function(attribute){attribute.isInstanced&&gl.vertexAttribDivisor(attribute.attrPosition,0)})}},{key:\"_updateIndexBuffer\",value:function(){this._hasIndexBufferChanged||(this.iBuffer||(this.iBuffer=gl.createBuffer()),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,this._indices,this._drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=this._numItems)}},{key:\"computeNormals\",value:function(){var usingFaceNormals=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.generateFaces(),usingFaceNormals?this._computeFaceNormals():this._computeVertexNormals()}},{key:\"_computeFaceNormals\",value:function(){for(var faceIndex=void 0,face=void 0,normals=[],i=0;i<this._indices.length;i+=3){faceIndex=i/3,face=this._faces[faceIndex];var N=face.normal;normals[face.indices[0]]=N,normals[face.indices[1]]=N,normals[face.indices[2]]=N}this.bufferNormal(normals)}},{key:\"_computeVertexNormals\",value:function(){for(var face=void 0,sumNormal=_glMatrix.vec3.create(),normals=[],vertices=this.vertices,i=0;i<vertices.length;i++){_glMatrix.vec3.set(sumNormal,0,0,0);for(var j=0;j<this._faces.length;j++)face=this._faces[j],face.indices.indexOf(i)>=0&&(sumNormal[0]+=face.normal[0],sumNormal[1]+=face.normal[1],sumNormal[2]+=face.normal[2]);_glMatrix.vec3.normalize(sumNormal,sumNormal),normals.push([sumNormal[0],sumNormal[1],sumNormal[2]])}this.bufferNormal(normals)}},{key:\"generateFaces\",value:function(){for(var ia=void 0,ib=void 0,ic=void 0,a=void 0,b=void 0,c=void 0,vertices=(_glMatrix.vec3.create(),_glMatrix.vec3.create(),_glMatrix.vec3.create(),this.vertices),i=0;i<this._indices.length;i+=3){ia=this._indices[i],ib=this._indices[i+1],ic=this._indices[i+2],a=vertices[ia],b=vertices[ib],c=vertices[ic];var face={indices:[ia,ib,ic],vertices:[a,b,c]};this._faces.push(face)}}},{key:\"getAttribute\",value:function(mName){return this._attributes.find(function(a){return a.name===mName})}},{key:\"getSource\",value:function(mName){var attr=this.getAttribute(mName);return attr?attr.source:[]}},{key:\"vertices\",get:function(){return this.getSource(\"aVertexPosition\")}},{key:\"normals\",get:function(){return this.getSource(\"aNormal\")}},{key:\"coords\",get:function(){return this.getSource(\"aTextureCoord\")}},{key:\"indices\",get:function(){return this._indices}},{key:\"vertexSize\",get:function(){return this.vertices.length}},{key:\"faces\",get:function(){return this._faces}},{key:\"attributes\",get:function(){return this._attributes}},{key:\"hasVAO\",get:function(){return this._hasVAO}},{key:\"vao\",get:function(){return this._vao}},{key:\"numInstance\",get:function(){return this._numInstance}},{key:\"isInstanced\",get:function(){return this._isInstanced}}]),Mesh}();exports.default=Mesh},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Scheduler=function(){function Scheduler(){_classCallCheck(this,Scheduler),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._startTime=(new Date).getTime(),this._deltaTime=0,this._loop()}return _createClass(Scheduler,[{key:\"addEF\",value:function(func,params){params=params||[];var id=this._idTable;return this._enterframeTasks[id]={func:func,params:params},this._idTable++,id}},{key:\"removeEF\",value:function(id){return void 0!==this._enterframeTasks[id]&&(this._enterframeTasks[id]=null),-1}},{key:\"delay\",value:function(func,params,_delay){var time=(new Date).getTime(),t={func:func,params:params,delay:_delay,time:time};this._delayTasks.push(t)}},{key:\"defer\",value:function(func,params){var t={func:func,params:params};this._deferTasks.push(t)}},{key:\"next\",value:function(func,params){var t={func:func,params:params};this._nextTasks.push(t)}},{key:\"usurp\",value:function(func,params){var t={func:func,params:params};this._usurpTask.push(t)}},{key:\"_process\",value:function(){var i=0,task=void 0,interval=void 0;for(i=0;i<this._enterframeTasks.length;i++)null!==(task=this._enterframeTasks[i])&&void 0!==task&&task.func(task.params);for(;this._highTasks.length>0;)task=this._highTasks.pop(),task.func(task.params);var startTime=(new Date).getTime();for(this._deltaTime=(startTime-this._startTime)/1e3,i=0;i<this._delayTasks.length;i++)task=this._delayTasks[i],startTime-task.time>task.delay&&(task.func(task.params),this._delayTasks.splice(i,1));for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._deferTasks.length>0;){if(task=this._deferTasks.shift(),!((new Date).getTime()-startTime<interval)){this._deferTasks.unshift(task);break}task.func(task.params)}for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._usurpTask.length>0;)task=this._usurpTask.shift(),(new Date).getTime()-startTime<interval&&task.func(task.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:\"_loop\",value:function(){var _this=this;this._process(),window.requestAnimationFrame(function(){return _this._loop()})}},{key:\"deltaTime\",get:function(){return this._deltaTime}}]),Scheduler}(),scheduler=new Scheduler;exports.default=scheduler},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var _Mesh=__webpack_require__(5),_Mesh2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Mesh),Geom={},meshTri=void 0;Geom.plane=function(width,height,numSegments){for(var axis=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"xy\",drawType=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,positions=[],coords=[],indices=[],normals=[],gapX=width/numSegments,gapY=height/numSegments,gapUV=1/numSegments,sx=.5*-width,sy=.5*-height,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){var tx=gapX*i+sx,ty=gapY*j+sy,u=i/numSegments,v=j/numSegments;\"xz\"===axis?(positions.push([tx,0,ty+gapY]),positions.push([tx+gapX,0,ty+gapY]),positions.push([tx+gapX,0,ty]),positions.push([tx,0,ty]),coords.push([u,1-(v+gapUV)]),coords.push([u+gapUV,1-(v+gapUV)]),coords.push([u+gapUV,1-v]),coords.push([u,1-v]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0])):\"yz\"===axis?(positions.push([0,ty,tx]),positions.push([0,ty,tx+gapX]),positions.push([0,ty+gapY,tx+gapX]),positions.push([0,ty+gapY,tx]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0])):(positions.push([tx,ty,0]),positions.push([tx+gapX,ty,0]),positions.push([tx+gapX,ty+gapY,0]),positions.push([tx,ty+gapY,0]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1])),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.sphere=function(size,numSegments){function getPosition(i,j){var isNormal=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rx=i/numSegments*Math.PI-.5*Math.PI,ry=j/numSegments*Math.PI*2,r=isNormal?1:size,pos=[];pos[1]=Math.sin(rx)*r;var t=Math.cos(rx)*r;pos[0]=Math.cos(ry)*t,pos[2]=Math.sin(ry)*t;return pos[0]=Math.floor(1e4*pos[0])/1e4,pos[1]=Math.floor(1e4*pos[1])/1e4,pos[2]=Math.floor(1e4*pos[2])/1e4,pos}for(var isInvert=arguments.length>2&&void 0!==arguments[2]&&arguments[2],drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,positions=[],coords=[],indices=[],normals=[],gapUV=1/numSegments,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){positions.push(getPosition(i,j)),positions.push(getPosition(i+1,j)),positions.push(getPosition(i+1,j+1)),positions.push(getPosition(i,j+1)),normals.push(getPosition(i,j,!0)),normals.push(getPosition(i+1,j,!0)),normals.push(getPosition(i+1,j+1,!0)),normals.push(getPosition(i,j+1,!0));var u=j/numSegments,v=i/numSegments;coords.push([1-u,v]),coords.push([1-u,v+gapUV]),coords.push([1-u-gapUV,v+gapUV]),coords.push([1-u-gapUV,v]),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}isInvert&&indices.reverse();var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.cube=function(w,h,d){var drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;h=h||w,d=d||w;var x=w/2,y=h/2,z=d/2,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([-x,y,-z]),positions.push([x,y,-z]),positions.push([x,-y,-z]),positions.push([-x,-y,-z]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([x,y,z]),positions.push([x,-y,z]),positions.push([x,-y,-z]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,z]),positions.push([-x,y,z]),positions.push([-x,-y,z]),positions.push([x,-y,z]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-x,y,z]),positions.push([-x,y,-z]),positions.push([-x,-y,-z]),positions.push([-x,-y,z]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([-x,y,-z]),positions.push([-x,y,z]),positions.push([x,y,z]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,-y,z]),positions.push([-x,-y,z]),positions.push([-x,-y,-z]),positions.push([x,-y,-z]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++;var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.skybox=function(size){var drawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([size,size,-size]),positions.push([-size,size,-size]),positions.push([-size,-size,-size]),positions.push([size,-size,-size]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([size,-size,size]),positions.push([size,size,size]),positions.push([size,size,-size]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,size,size]),positions.push([size,size,size]),positions.push([size,-size,size]),positions.push([-size,-size,size]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,-size,size]),positions.push([-size,-size,-size]),positions.push([-size,size,-size]),positions.push([-size,size,size]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,size,size]),positions.push([-size,size,size]),positions.push([-size,size,-size]),positions.push([size,size,-size]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([-size,-size,-size]),positions.push([-size,-size,size]),positions.push([size,-size,size]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3);var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.bigTriangle=function(){if(!meshTri){var indices=[2,1,0],positions=[[-1,-1],[-1,4],[4,-1]];meshTri=new _Mesh2.default,meshTri.bufferData(positions,\"aPosition\",2),meshTri.bufferIndex(indices)}return meshTri},exports.default=Geom},function(module,exports,__webpack_require__){\"use strict\";module.exports={0:\"NONE\",1:\"ONE\",2:\"LINE_LOOP\",3:\"LINE_STRIP\",4:\"TRIANGLES\",5:\"TRIANGLE_STRIP\",6:\"TRIANGLE_FAN\",256:\"DEPTH_BUFFER_BIT\",512:\"NEVER\",513:\"LESS\",514:\"EQUAL\",515:\"LEQUAL\",516:\"GREATER\",517:\"NOTEQUAL\",518:\"GEQUAL\",519:\"ALWAYS\",768:\"SRC_COLOR\",769:\"ONE_MINUS_SRC_COLOR\",770:\"SRC_ALPHA\",771:\"ONE_MINUS_SRC_ALPHA\",772:\"DST_ALPHA\",773:\"ONE_MINUS_DST_ALPHA\",774:\"DST_COLOR\",775:\"ONE_MINUS_DST_COLOR\",776:\"SRC_ALPHA_SATURATE\",1024:\"STENCIL_BUFFER_BIT\",1028:\"FRONT\",1029:\"BACK\",1032:\"FRONT_AND_BACK\",1280:\"INVALID_ENUM\",1281:\"INVALID_VALUE\",1282:\"INVALID_OPERATION\",1285:\"OUT_OF_MEMORY\",1286:\"INVALID_FRAMEBUFFER_OPERATION\",2304:\"CW\",2305:\"CCW\",2849:\"LINE_WIDTH\",2884:\"CULL_FACE\",2885:\"CULL_FACE_MODE\",2886:\"FRONT_FACE\",2928:\"DEPTH_RANGE\",2929:\"DEPTH_TEST\",2930:\"DEPTH_WRITEMASK\",2931:\"DEPTH_CLEAR_VALUE\",2932:\"DEPTH_FUNC\",2960:\"STENCIL_TEST\",2961:\"STENCIL_CLEAR_VALUE\",2962:\"STENCIL_FUNC\",2963:\"STENCIL_VALUE_MASK\",2964:\"STENCIL_FAIL\",2965:\"STENCIL_PASS_DEPTH_FAIL\",2966:\"STENCIL_PASS_DEPTH_PASS\",2967:\"STENCIL_REF\",2968:\"STENCIL_WRITEMASK\",2978:\"VIEWPORT\",3024:\"DITHER\",3042:\"BLEND\",3088:\"SCISSOR_BOX\",3089:\"SCISSOR_TEST\",3106:\"COLOR_CLEAR_VALUE\",3107:\"COLOR_WRITEMASK\",3317:\"UNPACK_ALIGNMENT\",3333:\"PACK_ALIGNMENT\",3379:\"MAX_TEXTURE_SIZE\",3386:\"MAX_VIEWPORT_DIMS\",3408:\"SUBPIXEL_BITS\",3410:\"RED_BITS\",3411:\"GREEN_BITS\",3412:\"BLUE_BITS\",3413:\"ALPHA_BITS\",3414:\"DEPTH_BITS\",3415:\"STENCIL_BITS\",3553:\"TEXTURE_2D\",4352:\"DONT_CARE\",4353:\"FASTEST\",4354:\"NICEST\",5120:\"BYTE\",5121:\"UNSIGNED_BYTE\",5122:\"SHORT\",5123:\"UNSIGNED_SHORT\",5124:\"INT\",5125:\"UNSIGNED_INT\",5126:\"FLOAT\",5386:\"INVERT\",5890:\"TEXTURE\",6401:\"STENCIL_INDEX\",6402:\"DEPTH_COMPONENT\",6403:\"RED\",6406:\"ALPHA\",6407:\"RGB\",6408:\"RGBA\",6409:\"LUMINANCE\",6410:\"LUMINANCE_ALPHA\",7680:\"KEEP\",7681:\"REPLACE\",7682:\"INCR\",7683:\"DECR\",7936:\"VENDOR\",7937:\"RENDERER\",7938:\"VERSION\",9728:\"NEAREST\",9729:\"LINEAR\",9984:\"NEAREST_MIPMAP_NEAREST\",9985:\"LINEAR_MIPMAP_NEAREST\",9986:\"NEAREST_MIPMAP_LINEAR\",9987:\"LINEAR_MIPMAP_LINEAR\",10240:\"TEXTURE_MAG_FILTER\",10241:\"TEXTURE_MIN_FILTER\",10242:\"TEXTURE_WRAP_S\",10243:\"TEXTURE_WRAP_T\",10497:\"REPEAT\",10752:\"POLYGON_OFFSET_UNITS\",16384:\"COLOR_BUFFER_BIT\",32769:\"CONSTANT_COLOR\",32770:\"ONE_MINUS_CONSTANT_COLOR\",32771:\"CONSTANT_ALPHA\",32772:\"ONE_MINUS_CONSTANT_ALPHA\",32773:\"BLEND_COLOR\",32774:\"FUNC_ADD\",32777:\"BLEND_EQUATION_RGB\",32778:\"FUNC_SUBTRACT\",32779:\"FUNC_REVERSE_SUBTRACT\",32819:\"UNSIGNED_SHORT_4_4_4_4\",32820:\"UNSIGNED_SHORT_5_5_5_1\",32823:\"POLYGON_OFFSET_FILL\",32824:\"POLYGON_OFFSET_FACTOR\",32854:\"RGBA4\",32855:\"RGB5_A1\",32873:\"TEXTURE_BINDING_2D\",32926:\"SAMPLE_ALPHA_TO_COVERAGE\",32928:\"SAMPLE_COVERAGE\",32936:\"SAMPLE_BUFFERS\",32937:\"SAMPLES\",32938:\"SAMPLE_COVERAGE_VALUE\",32939:\"SAMPLE_COVERAGE_INVERT\",32968:\"BLEND_DST_RGB\",32969:\"BLEND_SRC_RGB\",32970:\"BLEND_DST_ALPHA\",32971:\"BLEND_SRC_ALPHA\",33071:\"CLAMP_TO_EDGE\",33170:\"GENERATE_MIPMAP_HINT\",33189:\"DEPTH_COMPONENT16\",33306:\"DEPTH_STENCIL_ATTACHMENT\",33321:\"R8\",33635:\"UNSIGNED_SHORT_5_6_5\",33648:\"MIRRORED_REPEAT\",33901:\"ALIASED_POINT_SIZE_RANGE\",33902:\"ALIASED_LINE_WIDTH_RANGE\",33984:\"TEXTURE0\",33985:\"TEXTURE1\",33986:\"TEXTURE2\",33987:\"TEXTURE3\",33988:\"TEXTURE4\",33989:\"TEXTURE5\",33990:\"TEXTURE6\",33991:\"TEXTURE7\",33992:\"TEXTURE8\",33993:\"TEXTURE9\",33994:\"TEXTURE10\",33995:\"TEXTURE11\",33996:\"TEXTURE12\",33997:\"TEXTURE13\",33998:\"TEXTURE14\",33999:\"TEXTURE15\",34e3:\"TEXTURE16\",34001:\"TEXTURE17\",34002:\"TEXTURE18\",34003:\"TEXTURE19\",34004:\"TEXTURE20\",34005:\"TEXTURE21\",34006:\"TEXTURE22\",34007:\"TEXTURE23\",34008:\"TEXTURE24\",34009:\"TEXTURE25\",34010:\"TEXTURE26\",34011:\"TEXTURE27\",34012:\"TEXTURE28\",34013:\"TEXTURE29\",34014:\"TEXTURE30\",34015:\"TEXTURE31\",34016:\"ACTIVE_TEXTURE\",34024:\"MAX_RENDERBUFFER_SIZE\",34041:\"DEPTH_STENCIL\",34055:\"INCR_WRAP\",34056:\"DECR_WRAP\",34067:\"TEXTURE_CUBE_MAP\",34068:\"TEXTURE_BINDING_CUBE_MAP\",34069:\"TEXTURE_CUBE_MAP_POSITIVE_X\",34070:\"TEXTURE_CUBE_MAP_NEGATIVE_X\",34071:\"TEXTURE_CUBE_MAP_POSITIVE_Y\",34072:\"TEXTURE_CUBE_MAP_NEGATIVE_Y\",34073:\"TEXTURE_CUBE_MAP_POSITIVE_Z\",34074:\"TEXTURE_CUBE_MAP_NEGATIVE_Z\",34076:\"MAX_CUBE_MAP_TEXTURE_SIZE\",34338:\"VERTEX_ATTRIB_ARRAY_ENABLED\",34339:\"VERTEX_ATTRIB_ARRAY_SIZE\",34340:\"VERTEX_ATTRIB_ARRAY_STRIDE\",34341:\"VERTEX_ATTRIB_ARRAY_TYPE\",34342:\"CURRENT_VERTEX_ATTRIB\",34373:\"VERTEX_ATTRIB_ARRAY_POINTER\",34466:\"NUM_COMPRESSED_TEXTURE_FORMATS\",34467:\"COMPRESSED_TEXTURE_FORMATS\",34660:\"BUFFER_SIZE\",34661:\"BUFFER_USAGE\",34816:\"STENCIL_BACK_FUNC\",34817:\"STENCIL_BACK_FAIL\",34818:\"STENCIL_BACK_PASS_DEPTH_FAIL\",34819:\"STENCIL_BACK_PASS_DEPTH_PASS\",34877:\"BLEND_EQUATION_ALPHA\",34921:\"MAX_VERTEX_ATTRIBS\",34922:\"VERTEX_ATTRIB_ARRAY_NORMALIZED\",34930:\"MAX_TEXTURE_IMAGE_UNITS\",34962:\"ARRAY_BUFFER\",34963:\"ELEMENT_ARRAY_BUFFER\",34964:\"ARRAY_BUFFER_BINDING\",34965:\"ELEMENT_ARRAY_BUFFER_BINDING\",34975:\"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\",35040:\"STREAM_DRAW\",35044:\"STATIC_DRAW\",35048:\"DYNAMIC_DRAW\",35632:\"FRAGMENT_SHADER\",35633:\"VERTEX_SHADER\",35660:\"MAX_VERTEX_TEXTURE_IMAGE_UNITS\",35661:\"MAX_COMBINED_TEXTURE_IMAGE_UNITS\",35663:\"SHADER_TYPE\",35664:\"FLOAT_VEC2\",35665:\"FLOAT_VEC3\",35666:\"FLOAT_VEC4\",35667:\"INT_VEC2\",35668:\"INT_VEC3\",35669:\"INT_VEC4\",35670:\"BOOL\",35671:\"BOOL_VEC2\",35672:\"BOOL_VEC3\",35673:\"BOOL_VEC4\",35674:\"FLOAT_MAT2\",35675:\"FLOAT_MAT3\",35676:\"FLOAT_MAT4\",35678:\"SAMPLER_2D\",35680:\"SAMPLER_CUBE\",35712:\"DELETE_STATUS\",35713:\"COMPILE_STATUS\",35714:\"LINK_STATUS\",35715:\"VALIDATE_STATUS\",35716:\"INFO_LOG_LENGTH\",35717:\"ATTACHED_SHADERS\",35718:\"ACTIVE_UNIFORMS\",35719:\"ACTIVE_UNIFORM_MAX_LENGTH\",35720:\"SHADER_SOURCE_LENGTH\",35721:\"ACTIVE_ATTRIBUTES\",35722:\"ACTIVE_ATTRIBUTE_MAX_LENGTH\",35724:\"SHADING_LANGUAGE_VERSION\",35725:\"CURRENT_PROGRAM\",36003:\"STENCIL_BACK_REF\",36004:\"STENCIL_BACK_VALUE_MASK\",36005:\"STENCIL_BACK_WRITEMASK\",36006:\"FRAMEBUFFER_BINDING\",36007:\"RENDERBUFFER_BINDING\",36048:\"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\",36049:\"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\",36050:\"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\",36051:\"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\",36053:\"FRAMEBUFFER_COMPLETE\",36054:\"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\",36055:\"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\",36057:\"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\",36061:\"FRAMEBUFFER_UNSUPPORTED\",36064:\"COLOR_ATTACHMENT0\",36096:\"DEPTH_ATTACHMENT\",36128:\"STENCIL_ATTACHMENT\",36160:\"FRAMEBUFFER\",36161:\"RENDERBUFFER\",36162:\"RENDERBUFFER_WIDTH\",36163:\"RENDERBUFFER_HEIGHT\",36164:\"RENDERBUFFER_INTERNAL_FORMAT\",36168:\"STENCIL_INDEX8\",36176:\"RENDERBUFFER_RED_SIZE\",36177:\"RENDERBUFFER_GREEN_SIZE\",36178:\"RENDERBUFFER_BLUE_SIZE\",36179:\"RENDERBUFFER_ALPHA_SIZE\",36180:\"RENDERBUFFER_DEPTH_SIZE\",36181:\"RENDERBUFFER_STENCIL_SIZE\",36194:\"RGB565\",36336:\"LOW_FLOAT\",36337:\"MEDIUM_FLOAT\",36338:\"HIGH_FLOAT\",36339:\"LOW_INT\",36340:\"MEDIUM_INT\",36341:\"HIGH_INT\",36346:\"SHADER_COMPILER\",36347:\"MAX_VERTEX_UNIFORM_VECTORS\",36348:\"MAX_VARYING_VECTORS\",36349:\"MAX_FRAGMENT_UNIFORM_VECTORS\",37440:\"UNPACK_FLIP_Y_WEBGL\",37441:\"UNPACK_PREMULTIPLY_ALPHA_WEBGL\",37442:\"CONTEXT_LOST_WEBGL\",37443:\"UNPACK_COLORSPACE_CONVERSION_WEBGL\",37444:\"BROWSER_DEFAULT_WEBGL\"}},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_ShaderLibs=__webpack_require__(32),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Pass=function(){function Pass(mSource){var mWidth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mHeight=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,Pass),this.shader=new _GLShader2.default(_ShaderLibs2.default.bigTriangleVert,mSource),this._width=mWidth,this._height=mHeight,this._uniforms={},this._hasOwnFbo=this._width>0&&this._width>0,this._uniforms={},this._hasOwnFbo&&(this._fbo=new _FrameBuffer2.default(this._width,this.height,mParmas))}return _createClass(Pass,[{key:\"uniform\",value:function(mName,mValue){this._uniforms[mName]=mValue}},{key:\"render\",value:function(texture){this.shader.bind(),this.shader.uniform(\"texture\",\"uniform1i\",0),texture.bind(0),this.shader.uniform(this._uniforms)}},{key:\"width\",get:function(){return this._width}},{key:\"height\",get:function(){return this._height}},{key:\"fbo\",get:function(){return this._fbo}},{key:\"hasFbo\",get:function(){return this._hasOwnFbo}}]),Pass}();exports.default=Pass},function(module,exports){module.exports=\"// simpleColor.frag\\n\\n#define SHADER_NAME SIMPLE_COLOR\\n\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec3 color;\\nuniform float opacity;\\n\\nvoid main(void) {\\n    gl_FragColor = vec4(color, opacity);\\n}\"},function(module,exports){module.exports=\"// basic.vert\\n\\n#define SHADER_NAME BASIC_VERTEX\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\\n    vTextureCoord = aTextureCoord;\\n    vNormal = aNormal;\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(26),_GLTexture2=_interopRequireDefault(_GLTexture),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),gl=void 0,webglDepthTexture=void 0,hasCheckedMultiRenderSupport=!1,extDrawBuffer=void 0,checkMultiRender=function(){return!!_GLTool2.default.webgl2||!!(extDrawBuffer=_GLTool2.default.getExtension(\"WEBGL_draw_buffers\"))},FrameBuffer=function(){function FrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},mNumTargets=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,FrameBuffer),gl=_GLTool2.default.gl,webglDepthTexture=_GLTool2.default.checkExtension(\"WEBGL_depth_texture\"),this.width=mWidth,this.height=mHeight,this._numTargets=mNumTargets,this._multipleTargets=mNumTargets>1,this._parameters=mParameters,hasCheckedMultiRenderSupport||checkMultiRender(),this._multipleTargets&&this._checkMaxNumRenderTarget(),this._init()}return _createClass(FrameBuffer,[{key:\"_init\",value:function(){if(this._initTextures(),this.frameBuffer=gl.createFramebuffer(),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),_GLTool2.default.webgl2){for(var buffers=[],i=0;i<this._numTargets;i++)gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.COLOR_ATTACHMENT0+i,gl.TEXTURE_2D,this._textures[i].texture,0),buffers.push(gl[\"COLOR_ATTACHMENT\"+i]);gl.drawBuffers(buffers),gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(var _i=0;_i<this._numTargets;_i++)gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0+_i,gl.TEXTURE_2D,this._textures[_i].texture,0);if(this._multipleTargets){for(var drawBuffers=[],_i2=0;_i2<this._numTargets;_i2++)drawBuffers.push(extDrawBuffer[\"COLOR_ATTACHMENT\"+_i2+\"_WEBGL\"]);extDrawBuffer.drawBuffersWEBGL(drawBuffers)}webglDepthTexture&&gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}var FBOstatus=gl.checkFramebufferStatus(gl.FRAMEBUFFER);FBOstatus!=gl.FRAMEBUFFER_COMPLETE&&console.error(\"GL_FRAMEBUFFER_COMPLETE failed, CANNOT use Framebuffer\",_WebglNumber2.default[FBOstatus]),gl.bindTexture(gl.TEXTURE_2D,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this.clear()}},{key:\"_checkMaxNumRenderTarget\",value:function(){var maxNumDrawBuffers=_GLTool2.default.gl.getParameter(extDrawBuffer.MAX_DRAW_BUFFERS_WEBGL);this._numTargets>maxNumDrawBuffers&&(console.error(\"Over max number of draw buffers supported : \",maxNumDrawBuffers),this._numTargets=maxNumDrawBuffers)}},{key:\"_initTextures\",value:function(){this._textures=[];for(var i=0;i<this._numTargets;i++){var glt=this._createTexture();this._textures.push(glt)}_GLTool2.default.webgl2?this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0):this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,{minFilter:_GLTool2.default.LINEAR})}},{key:\"_createTexture\",value:function(mInternalformat,mTexelType,mFormat){var mParameters=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},parameters=Object.assign({},this._parameters);mFormat||(mFormat=mInternalformat),parameters.internalFormat=mInternalformat||gl.RGBA,parameters.format=mFormat,parameters.type=mTexelType||parameters.type||_GLTool2.default.UNSIGNED_BYTE;for(var s in mParameters)parameters[s]=mParameters[s];return new _GLTexture2.default(null,parameters,this.width,this.height)}},{key:\"bind\",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:\"unbind\",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this._textures.forEach(function(texture){texture.generateMipmap()})}},{key:\"clear\",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.bind(),_GLTool2.default.clear(r,g,b,a),this.unbind()}},{key:\"getTexture\",value:function(){var mIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._textures[mIndex]}},{key:\"getDepthTexture\",value:function(){return this.glDepthTexture}},{key:\"showParameters\",value:function(){this._textures[0].showParameters()}},{key:\"minFilter\",get:function(){return this._textures[0].minFilter},set:function(mValue){this._textures.forEach(function(texture){texture.minFilter=mValue})}},{key:\"magFilter\",get:function(){return this._textures[0].magFilter},set:function(mValue){this._textures.forEach(function(texture){texture.magFilter=mValue})}},{key:\"wrapS\",get:function(){return this._textures[0].wrapS},set:function(mValue){this._textures.forEach(function(texture){texture.wrapS=mValue})}},{key:\"wrapT\",get:function(){return this._textures[0].wrapT},set:function(mValue){this._textures.forEach(function(texture){texture.wrapT=mValue})}},{key:\"numTargets\",get:function(){return this._numTargets}}]),FrameBuffer}();exports.default=FrameBuffer},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),EaseNumber=function(){function EaseNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;_classCallCheck(this,EaseNumber),this.easing=mEasing,this._value=mValue,this._targetValue=mValue,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(EaseNumber,[{key:\"_update\",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}},{key:\"setTo\",value:function(mValue){this._targetValue=this._value=mValue}},{key:\"add\",value:function(mAdd){this._targetValue+=mAdd}},{key:\"limit\",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:\"_checkLimit\",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:\"destroy\",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:\"value\",set:function(mValue){this._targetValue=mValue},get:function(){return this._value}},{key:\"targetValue\",get:function(){return this._targetValue}}]),EaseNumber}();exports.default=EaseNumber},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),a=_glMatrix.vec3.create(),b=_glMatrix.vec3.create(),c=_glMatrix.vec3.create(),target=_glMatrix.vec3.create(),edge1=_glMatrix.vec3.create(),edge2=_glMatrix.vec3.create(),normal=_glMatrix.vec3.create(),diff=_glMatrix.vec3.create(),Ray=function(){function Ray(mOrigin,mDirection){_classCallCheck(this,Ray),this.origin=_glMatrix.vec3.clone(mOrigin),this.direction=_glMatrix.vec3.clone(mDirection)}return _createClass(Ray,[{key:\"at\",value:function(t){return _glMatrix.vec3.copy(target,this.direction),_glMatrix.vec3.scale(target,target,t),_glMatrix.vec3.add(target,target,this.origin),target}},{key:\"lookAt\",value:function(mTarget){_glMatrix.vec3.sub(this.direction,mTarget,this.origin),_glMatrix.vec3.normalize(this.origin,this.origin)}},{key:\"closestPointToPoint\",value:function(mPoint){var result=_glMatrix.vec3.create();_glMatrix.vec3.sub(mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(result,this.direction);return directionDistance<0?_glMatrix.vec3.clone(this.origin):(_glMatrix.vec3.copy(result,this.direction),_glMatrix.vec3.scale(result,result,directionDistance),_glMatrix.vec3.add(result,result,this.origin),result)}},{key:\"distanceToPoint\",value:function(mPoint){return Math.sqrt(this.distanceSqToPoint(mPoint))}},{key:\"distanceSqToPoint\",value:function(mPoint){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(v1,this.direction);return directionDistance<0?_glMatrix.vec3.squaredDistance(this.origin,mPoint):(_glMatrix.vec3.copy(v1,this.direction),_glMatrix.vec3.scale(v1,v1,directionDistance),_glMatrix.vec3.add(v1,v1,this.origin),_glMatrix.vec3.squaredDistance(v1,mPoint))}},{key:\"intersectsSphere\",value:function(mCenter,mRadius){return this.distanceToPoint(mCenter)<=mRadius}},{key:\"intersectSphere\",value:function(mCenter,mRadius){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mCenter,this.origin);var tca=_glMatrix.vec3.dot(v1,this.direction),d2=_glMatrix.vec3.dot(v1,v1)-tca*tca,radius2=mRadius*mRadius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2),t0=tca-thc,t1=tca+thc;return t0<0&&t1<0?null:t0<0?this.at(t1):this.at(t0)}},{key:\"distanceToPlane\",value:function(mPlaneCenter,mNormal){_glMatrix.vec3.dot(mNormal,this.direction)}},{key:\"intersectTriangle\",value:function(mPA,mPB,mPC){var backfaceCulling=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_glMatrix.vec3.copy(a,mPA),_glMatrix.vec3.copy(b,mPB),_glMatrix.vec3.copy(c,mPC),_glMatrix.vec3.sub(edge1,b,a),_glMatrix.vec3.sub(edge2,c,a),_glMatrix.vec3.cross(normal,edge1,edge2);var DdN=_glMatrix.vec3.dot(this.direction,normal),sign=void 0;if(DdN>0){if(backfaceCulling)return null;sign=1}else{if(!(DdN<0))return null;sign=-1,DdN=-DdN}_glMatrix.vec3.sub(diff,this.origin,a),_glMatrix.vec3.cross(edge2,diff,edge2);var DdQxE2=sign*_glMatrix.vec3.dot(this.direction,edge2);if(DdQxE2<0)return null;_glMatrix.vec3.cross(edge1,edge1,diff);var DdE1xQ=sign*_glMatrix.vec3.dot(this.direction,edge1);if(DdE1xQ<0)return null;if(DdQxE2+DdE1xQ>DdN)return null;var Qdn=-sign*_glMatrix.vec3.dot(diff,normal);return Qdn<0?null:this.at(Qdn/DdN)}}]),Ray}();exports.default=Ray},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Camera=function(){function Camera(){_classCallCheck(this,Camera),this._matrix=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create(),this._orientation=_glMatrix.mat4.create(),this._projection=_glMatrix.mat4.create(),this.position=vec3.create()}return _createClass(Camera,[{key:\"lookAt\",value:function(aEye,aCenter){var aUp=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1,0];this._eye=vec3.clone(aEye),this._center=vec3.clone(aCenter),vec3.copy(this.position,aEye),_glMatrix.mat4.identity(this._matrix),_glMatrix.mat4.lookAt(this._matrix,aEye,aCenter,aUp)}},{key:\"setFromOrientation\",value:function(x,y,z,w){_glMatrix.quat.set(this._quat,x,y,z,w),_glMatrix.mat4.fromQuat(this._orientation,this._quat),_glMatrix.mat4.translate(this._matrix,this._orientation,this.positionOffset)}},{key:\"setProjection\",value:function(mProj){this._projection=_glMatrix.mat4.clone(mProj)}},{key:\"setView\",value:function(mView){this._matrix=_glMatrix.mat4.clone(mView)}},{key:\"setFromViewProj\",value:function(mView,mProj){this.setView(mView),this.setProjection(mProj)}},{key:\"matrix\",get:function(){return this._matrix}},{key:\"viewMatrix\",get:function(){return this._matrix}},{key:\"projection\",get:function(){return this._projection}},{key:\"projectionMatrix\",get:function(){return this._projection}},{key:\"eye\",get:function(){return this._eye}},{key:\"center\",get:function(){return this._center}}]),Camera}();exports.default=Camera},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(15),_Camera3=_interopRequireDefault(_Camera2),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_glMatrix=__webpack_require__(1),mInverseViewProj=_glMatrix.mat4.create(),cameraDir=_glMatrix.vec3.create(),CameraPerspective=function(_Camera){function CameraPerspective(){return _classCallCheck(this,CameraPerspective),_possibleConstructorReturn(this,(CameraPerspective.__proto__||Object.getPrototypeOf(CameraPerspective)).apply(this,arguments))}return _inherits(CameraPerspective,_Camera),_createClass(CameraPerspective,[{key:\"setPerspective\",value:function(mFov,mAspectRatio,mNear,mFar){this._fov=mFov,this._near=mNear,this._far=mFar,this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this._projection,mFov,mAspectRatio,mNear,mFar)}},{key:\"setAspectRatio\",value:function(mAspectRatio){this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this.projection,this._fov,mAspectRatio,this._near,this._far)}},{key:\"generateRay\",value:function(mScreenPosition,mRay){var proj=this.projectionMatrix,view=this.viewMatrix;return _glMatrix.mat4.multiply(mInverseViewProj,proj,view),_glMatrix.mat4.invert(mInverseViewProj,mInverseViewProj),_glMatrix.vec3.transformMat4(cameraDir,mScreenPosition,mInverseViewProj),_glMatrix.vec3.sub(cameraDir,cameraDir,this.position),_glMatrix.vec3.normalize(cameraDir,cameraDir),mRay?(mRay.origin=this.position,mRay.direction=cameraDir):mRay=new _Ray2.default(this.position,cameraDir),mRay}}]),CameraPerspective}(_Camera3.default);exports.default=CameraPerspective},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BinaryLoader=function(){function BinaryLoader(){var _this=this,isArrayBuffer=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,BinaryLoader),this._req=new XMLHttpRequest,this._req.addEventListener(\"load\",function(e){return _this._onLoaded(e)}),this._req.addEventListener(\"progress\",function(e){return _this._onProgress(e)}),isArrayBuffer&&(this._req.responseType=\"arraybuffer\")}return _createClass(BinaryLoader,[{key:\"load\",value:function(url,callback){console.log(\"Loading : \",url),this._callback=callback,this._req.open(\"GET\",url),this._req.send()}},{key:\"_onLoaded\",value:function(){this._callback(this._req.response)}},{key:\"_onProgress\",value:function(){}}]),BinaryLoader}();exports.default=BinaryLoader},function(module,exports){module.exports=\"// bigTriangle.vert\\n\\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\\n\\nprecision mediump float;\\n#define GLSLIFY 1\\nattribute vec2 aPosition;\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void) {\\n    gl_Position = vec4(aPosition, 0.0, 1.0);\\n    vTextureCoord = aPosition * .5 + .5;\\n}\"},function(module,exports){module.exports=\"// copy.frag\\n\\n#define SHADER_NAME COPY_FRAGMENT\\n\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\n\\nvoid main(void) {\\n    gl_FragColor = texture2D(texture, vTextureCoord);\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function create(){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat4(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out}function clone(a){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromValues(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function set(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat2d(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}function normalFromMat4(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null}function projection(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out}function str(a){return\"mat3(\"+a[0]+\", \"+a[1]+\", \"+a[2]+\", \"+a[3]+\", \"+a[4]+\", \"+a[5]+\", \"+a[6]+\", \"+a[7]+\", \"+a[8]+\")\"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.fromMat4=fromMat4,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.rotate=rotate,exports.scale=scale,exports.fromTranslation=fromTranslation,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromMat2d=fromMat2d,exports.fromQuat=fromQuat,exports.normalFromMat4=normalFromMat4,exports.projection=projection,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){\"use strict\";function create(){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=0,out[1]=0,out[2]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function fromValues(x,y,z){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function set(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out}function hermite(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function bezier(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI,z=2*glMatrix.RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}function transformMat3(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out}function transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out}function rotateX(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateY(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateZ(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function angle(a,b){var tempA=fromValues(a[0],a[1],a[2]),tempB=fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function str(a){return\"vec3(\"+a[0]+\", \"+a[1]+\", \"+a[2]+\")\"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.length=length,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.hermite=hermite,exports.bezier=bezier,exports.random=random,exports.transformMat4=transformMat4,exports.transformMat3=transformMat3,exports.transformQuat=transformQuat,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.angle=angle,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a}}()},function(module,exports,__webpack_require__){\"use strict\";function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function fromValues(x,y,z,w){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function set(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out[3]=Math.ceil(a[3]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out[3]=Math.floor(a[3]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out[3]=Math.round(a[3]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w}function length(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredLength(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out}function random(out,vectorScale){return vectorScale=vectorScale||1,out[0]=glMatrix.RANDOM(),out[1]=glMatrix.RANDOM(),out[2]=glMatrix.RANDOM(),out[3]=glMatrix.RANDOM(),normalize(out,out),scale(out,out,vectorScale),out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}function transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out[3]=a[3],out}function str(a){return\"vec4(\"+a[0]+\", \"+a[1]+\", \"+a[2]+\", \"+a[3]+\")\"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.lerp=lerp,exports.random=random,exports.transformMat4=transformMat4,exports.transformQuat=transformQuat,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a}}()},function(module,exports,__webpack_require__){\"use strict\";module.exports={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(gl,shaderProgram,name){return void 0===shaderProgram.cacheAttribLoc&&(shaderProgram.cacheAttribLoc={}),void 0===shaderProgram.cacheAttribLoc[name]&&(shaderProgram.cacheAttribLoc[name]=gl.getAttribLocation(shaderProgram,name)),shaderProgram.cacheAttribLoc[name]}},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function isSourcePowerOfTwo(obj){var w=obj.width||obj.videoWidth,h=obj.height||obj.videoHeight;return!(!w||!h)&&(isPowerOfTwo(w)&&isPowerOfTwo(h))}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglNumber=__webpack_require__(8),gl=(_interopRequireDefault(_WebglNumber),void 0),GLTexture=function(){function GLTexture(mSource){var isTexture=arguments.length>1&&void 0!==arguments[1]&&arguments[1],mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,isTexture)this._texture=mSource;else{this._mSource=mSource,this._texture=gl.createTexture(),this._isVideo=\"VIDEO\"===mSource.tagName,this._premultiplyAlpha=!0,this._magFilter=mParameters.magFilter||gl.LINEAR,this._minFilter=mParameters.minFilter||gl.NEAREST_MIPMAP_LINEAR,this._wrapS=mParameters.wrapS||gl.MIRRORED_REPEAT,this._wrapT=mParameters.wrapT||gl.MIRRORED_REPEAT;mSource.width||mSource.videoWidth?isSourcePowerOfTwo(mSource)||(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)):(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),mSource.exposure?gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,mSource.shape[0],mSource.shape[1],0,gl.RGBA,gl.FLOAT,mSource.data):gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT);var ext=_GLTool2.default.getExtension(\"EXT_texture_filter_anisotropic\");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,max)}this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}}return _createClass(GLTexture,[{key:\"generateMipmap\",value:function(){this._canGenerateMipmap()&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:\"updateTexture\",value:function(mSource){mSource&&(this._mSource=mSource),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,this._mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:\"bind\",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_2D,this._texture),this._bindIndex=index)}},{key:\"_canGenerateMipmap\",value:function(){return this._minFilter===gl.LINEAR_MIPMAP_NEAREST||this._minFilter===gl.NEAREST_MIPMAP_LINEAR||this._minFilter===gl.LINEAR_MIPMAP_LINEAR||this._minFilter===gl.NEAREST_MIPMAP_NEAREST}},{key:\"minFilter\",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.LINEAR_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_NEAREST)return this;this._minFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._minFilter}},{key:\"magFilter\",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST)return this;this._magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._magFilter}},{key:\"wrapS\",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapS=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapS}},{key:\"wrapT\",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapT=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapT}},{key:\"premultiplyAlpha\",set:function(mValue){this._premultiplyAlpha=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),console.log(\"premultiplyAlpha:\",mValue),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._premultiplyAlpha}},{key:\"texture\",get:function(){return this._texture}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement(\"canvas\");canvas.width=canvas.height=4;var ctx=canvas.getContext(\"2d\");ctx.fillStyle=\"#fff\",ctx.fillRect(0,0,4,4),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement(\"canvas\");canvas.width=canvas.height=4;var ctx=canvas.getContext(\"2d\");ctx.fillStyle=\"rgb(127, 127, 127)\",ctx.fillRect(0,0,4,4),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement(\"canvas\");canvas.width=canvas.height=4;var ctx=canvas.getContext(\"2d\");ctx.fillStyle=\"rgb(127, 127, 127)\",ctx.fillRect(0,0,4,4),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function getSourceType(mSource){var type=_GLTool2.default.UNSIGNED_BYTE;return mSource instanceof Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Uint8Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Float32Array?type=_GLTool2.default.FLOAT:mSource instanceof HTMLImageElement?type=\"image\":mSource instanceof HTMLCanvasElement?type=\"canvas\":mSource instanceof HTMLVideoElement&&(type=\"video\"),type}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_getTextureParameters=__webpack_require__(54),_getTextureParameters2=_interopRequireDefault(_getTextureParameters),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),gl=void 0,GLTexture=function(){function GLTexture(mSource){var mParam=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_this=this,mWidth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,mHeight=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,this._source=mSource,this._getDimension(mSource,mWidth,mHeight),this._sourceType=mParam.type||getSourceType(mSource),this._checkSource(),this._texelType=this._getTexelType(),this._isTextureReady=!0,this._params=(0,_getTextureParameters2.default)(mParam,mSource,this._width,this._height),this._checkMipmap(),this._checkWrapping(),this._texture=gl.createTexture(),\"video\"===this._sourceType?(this._isTextureReady=!1,_scheduling2.default.addEF(function(){return _this._loop()})):this._uploadTexture()}return _createClass(GLTexture,[{key:\"_loop\",value:function(){4==this._source.readyState&&(this._isTextureReady=!0,this._uploadTexture())}},{key:\"_uploadTexture\",value:function(){if(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),this._isSourceHtmlElement()?gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._texelType,this._source):gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._texelType,this._source),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._params.premultiplyAlpha),this._params.anisotropy>0){var ext=_GLTool2.default.getExtension(\"EXT_texture_filter_anisotropic\");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT),level=Math.min(max,this._params.anisotropy);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,level)}}this._generateMipmap&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:\"bind\",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),this._isTextureReady?gl.bindTexture(gl.TEXTURE_2D,this._texture):gl.bindTexture(gl.TEXTURE_2D,GLTexture.blackTexture().texture),this._bindIndex=index)}},{key:\"updateTexture\",value:function(mSource){this._source=mSource,this._checkSource(),this._uploadTexture()}},{key:\"generateMipmap\",value:function(){this._generateMipmap&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:\"showParameters\",value:function(){console.log(\"Source type : \",_WebglNumber2.default[this._sourceType]||this._sourceType),console.log(\"Texel type:\",_WebglNumber2.default[this.texelType]),console.log(\"Dimension :\",this._width,this._height);for(var s in this._params)console.log(s,_WebglNumber2.default[this._params[s]]||this._params[s]);console.log(\"Mipmapping :\",this._generateMipmap)}},{key:\"_getDimension\",value:function(mSource,mWidth,mHeight){mSource?(this._width=mSource.width||mSource.videoWidth,this._height=mSource.height||mSource.videoWidth,this._width=this._width||mWidth,this._height=this._height||mHeight,this._width&&this._height||(this._width=this._height=Math.sqrt(mSource.length/4))):(this._width=mWidth,this._height=mHeight)}},{key:\"_checkSource\",value:function(){this._source&&(this._sourceType===_GLTool2.default.UNSIGNED_BYTE?this._source instanceof Uint8Array||(this._source=new Uint8Array(this._source)):this._sourceType===_GLTool2.default.FLOAT&&(this._source instanceof Float32Array||(this._source=new Float32Array(this._source))))}},{key:\"_getTexelType\",value:function(){return this._isSourceHtmlElement()?_GLTool2.default.UNSIGNED_BYTE:_GLTool2.default[_WebglNumber2.default[this._sourceType]]||this._sourceType}},{key:\"_checkMipmap\",value:function(){this._generateMipmap=this._params.mipmap,isPowerOfTwo(this._width)&&isPowerOfTwo(this._height)||(this._generateMipmap=!1),-1==_WebglNumber2.default[this._params.minFilter].indexOf(\"MIPMAP\")&&(this._generateMipmap=!1)}},{key:\"_checkWrapping\",value:function(){this._generateMipmap||(this._params.wrapS=_GLTool2.default.CLAMP_TO_EDGE,this._params.wrapT=_GLTool2.default.CLAMP_TO_EDGE)}},{key:\"_isSourceHtmlElement\",value:function(){return\"image\"===this._sourceType||\"video\"===this._sourceType||\"canvas\"===this._sourceType}},{key:\"minFilter\",get:function(){return this._params.minFilter},set:function(mValue){this._params.minFilter=mValue,this._checkMipmap(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.bindTexture(gl.TEXTURE_2D,null),this.generateMipmap()}},{key:\"magFilter\",get:function(){return this._params.minFilter},set:function(mValue){this._params.magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:\"wrapS\",get:function(){return this._params.wrapS},set:function(mValue){this._params.wrapS=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:\"wrapT\",get:function(){return this._params.wrapT},set:function(mValue){this._params.wrapT=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:\"texelType\",get:function(){return this._texelType}},{key:\"width\",get:function(){return this._width}},{key:\"height\",get:function(){return this._height}},{key:\"texture\",get:function(){return this._texture}},{key:\"isTextureReady\",get:function(){return this._isTextureReady}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement(\"canvas\");canvas.width=canvas.height=2;var ctx=canvas.getContext(\"2d\");ctx.fillStyle=\"#fff\",ctx.fillRect(0,0,2,2),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement(\"canvas\");canvas.width=canvas.height=2;var ctx=canvas.getContext(\"2d\");ctx.fillStyle=\"rgb(127, 127, 127)\",ctx.fillRect(0,0,2,2),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement(\"canvas\");canvas.width=canvas.height=2;var ctx=canvas.getContext(\"2d\");ctx.fillStyle=\"rgb(0, 0, 0)\",ctx.fillRect(0,0,2,2),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_parseDds=__webpack_require__(55),_parseDds2=_interopRequireDefault(_parseDds),gl=void 0,GLCubeTexture=function(){function GLCubeTexture(mSource){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isCubeTexture=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_classCallCheck(this,GLCubeTexture),gl=_GLTool2.default.gl,isCubeTexture)return void(this.texture=mSource);var hasMipmaps=mSource.length>6;mSource[0].mipmapCount&&(hasMipmaps=mSource[0].mipmapCount>1),this.texture=gl.createTexture(),this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR_MIPMAP_LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,hasMipmaps||this.minFilter!=gl.LINEAR_MIPMAP_LINEAR||(this.minFilter=gl.LINEAR),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture);var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],numLevels=1,index=0;if(numLevels=mSource.length/6,this.numLevels=numLevels,hasMipmaps)for(var j=0;j<6;j++)for(var i=0;i<numLevels;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),index=j*numLevels+i,mSource[index].shape?gl.texImage2D(targets[j],i,gl.RGBA,mSource[index].shape[0],mSource[index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[index].data):gl.texImage2D(targets[j],i,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);else{for(var _index=0,_j=0;_j<6;_j++)_index=_j*numLevels,gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),mSource[_index].shape?gl.texImage2D(targets[_j],0,gl.RGBA,mSource[_index].shape[0],mSource[_index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[_index].data):gl.texImage2D(targets[_j],0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[_index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);gl.generateMipmap(gl.TEXTURE_CUBE_MAP)}gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}return _createClass(GLCubeTexture,[{key:\"bind\",value:function(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.uniform1i(_GLTool2.default.shader.uniformTextures[index],index),this._bindIndex=index)}},{key:\"unbind\",value:function(){gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}}]),GLCubeTexture}();GLCubeTexture.parseDDS=function(mArrayBuffer){var ddsInfos=(0,_parseDds2.default)(mArrayBuffer),flags=ddsInfos.flags,header=new Int32Array(mArrayBuffer,0,31),mipmapCount=1;131072&flags&&(mipmapCount=Math.max(1,header[7]));var sources=ddsInfos.images.map(function(img){return{data:new Float32Array(mArrayBuffer.slice(img.offset,img.offset+img.length)),shape:img.shape,mipmapCount:mipmapCount}});return new GLCubeTexture(sources)},exports.default=GLCubeTexture},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),supportsCustomEvents=!0;try{document.createEvent(\"CustomEvent\");null}catch(e){supportsCustomEvents=!1}var EventDispatcher=function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher),this._eventListeners={}}return _createClass(EventDispatcher,[{key:\"addEventListener\",value:function(aEventType,aFunction){return null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={}),this._eventListeners[aEventType]||(this._eventListeners[aEventType]=[]),this._eventListeners[aEventType].push(aFunction),this}},{key:\"on\",value:function(aEventType,aFunction){return this.addEventListener(aEventType,aFunction)}},{key:\"removeEventListener\",value:function(aEventType,aFunction){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var currentArray=this._eventListeners[aEventType];if(void 0===currentArray)return this;for(var currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]===aFunction&&(currentArray.splice(i,1),i--,currentArrayLength--);return this}},{key:\"off\",value:function(aEventType,aFunction){return this.removeEventListener(aEventType,aFunction)}},{key:\"dispatchEvent\",value:function(aEvent){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var eventType=aEvent.type;try{null===aEvent.target&&(aEvent.target=this),aEvent.currentTarget=this}catch(theError){var newEvent={type:eventType,detail:aEvent.detail,dispatcher:this};return this.dispatchEvent(newEvent)}var currentEventListeners=this._eventListeners[eventType];if(null!==currentEventListeners&&void 0!==currentEventListeners)for(var currentArray=this._copyArray(currentEventListeners),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++){var currentFunction=currentArray[i];currentFunction.call(this,aEvent)}return this}},{key:\"dispatchCustomEvent\",value:function(aEventType,aDetail){var newEvent=void 0;return supportsCustomEvents?(newEvent=document.createEvent(\"CustomEvent\"),newEvent.dispatcher=this,newEvent.initCustomEvent(aEventType,!1,!1,aDetail)):newEvent={type:aEventType,detail:aDetail,dispatcher:this},this.dispatchEvent(newEvent)}},{key:\"trigger\",value:function(aEventType,aDetail){return this.dispatchCustomEvent(aEventType,aDetail)}},{key:\"_destroy\",value:function(){if(null!==this._eventListeners){for(var objectName in this._eventListeners)if(this._eventListeners.hasOwnProperty(objectName)){for(var currentArray=this._eventListeners[objectName],currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=null;delete this._eventListeners[objectName]}this._eventListeners=null}}},{key:\"_copyArray\",value:function(aArray){for(var currentArray=new Array(aArray.length),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=aArray[i];return currentArray}}]),EventDispatcher}();exports.default=EventDispatcher},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_glMatrix=__webpack_require__(1),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},OrbitalControl=function(){function OrbitalControl(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mRadius=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;_classCallCheck(this,OrbitalControl),this._target=mTarget,this._listenerTarget=mListenerTarget,this._mouse={},this._preMouse={},this.center=_glMatrix.vec3.create(),this._up=_glMatrix.vec3.fromValues(0,1,0),this.radius=new _EaseNumber2.default(mRadius),this.position=_glMatrix.vec3.fromValues(0,0,this.radius.value),this.positionOffset=_glMatrix.vec3.create(),this._rx=new _EaseNumber2.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new _EaseNumber2.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=function(e){return _this._onWheel(e)},this._downBind=function(e){return _this._onDown(e)},this._moveBind=function(e){return _this._onMove(e)},this._upBind=function(){return _this._onUp()},this.connect(),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(OrbitalControl,[{key:\"connect\",value:function(){this.disconnect(),this._listenerTarget.addEventListener(\"mousewheel\",this._wheelBind),this._listenerTarget.addEventListener(\"DOMMouseScroll\",this._wheelBind),this._listenerTarget.addEventListener(\"mousedown\",this._downBind),this._listenerTarget.addEventListener(\"touchstart\",this._downBind),this._listenerTarget.addEventListener(\"mousemove\",this._moveBind),this._listenerTarget.addEventListener(\"touchmove\",this._moveBind),window.addEventListener(\"touchend\",this._upBind),window.addEventListener(\"mouseup\",this._upBind)}},{key:\"disconnect\",value:function(){this._listenerTarget.removeEventListener(\"mousewheel\",this._wheelBind),this._listenerTarget.removeEventListener(\"DOMMouseScroll\",this._wheelBind),this._listenerTarget.removeEventListener(\"mousedown\",this._downBind),this._listenerTarget.removeEventListener(\"touchstart\",this._downBind),this._listenerTarget.removeEventListener(\"mousemove\",this._moveBind),this._listenerTarget.removeEventListener(\"touchmove\",this._moveBind),window.removeEventListener(\"touchend\",this._upBind),window.removeEventListener(\"mouseup\",this._upBind)}},{key:\"lock\",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue,this._isLockRotation=mValue,this._isMouseDown=!1}},{key:\"lockZoom\",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue}},{key:\"lockRotation\",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockRotation=mValue}},{key:\"inverseControl\",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:\"_onDown\",value:function(mEvent){this._isLockRotation||(this._isMouseDown=!0,getMouse(mEvent,this._mouse),getMouse(mEvent,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:\"_onMove\",value:function(mEvent){if(!this._isLockRotation&&(getMouse(mEvent,this._mouse),mEvent.touches&&mEvent.preventDefault(),this._isMouseDown)){var diffX=-(this._mouse.x-this._preMouse.x);this._isInvert&&(diffX*=-1),this._ry.value=this._preRY-.01*diffX*this.sensitivity;var diffY=-(this._mouse.y-this._preMouse.y);this._isInvert&&(diffY*=-1),this._rx.value=this._preRX-.01*diffY*this.sensitivity}}},{key:\"_onUp\",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:\"_onWheel\",value:function(mEvent){if(!this._isLockZoom){var w=mEvent.wheelDelta,d=mEvent.detail,value=0;value=d?w?w/d/40*d>0?1:-1:-d/3:w/120,this.radius.add(2*-value)}}},{key:\"_loop\",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:\"_updatePosition\",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var tr=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*tr,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*tr,_glMatrix.vec3.add(this.position,this.position,this.positionOffset)}},{key:\"_updateCamera\",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:\"rx\",get:function(){return this._rx}},{key:\"ry\",get:function(){return this._ry}}]),OrbitalControl}();exports.default=OrbitalControl},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(15),_Camera3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Camera2),_glMatrix=__webpack_require__(1),CameraOrtho=function(_Camera){function CameraOrtho(){_classCallCheck(this,CameraOrtho);var _this=_possibleConstructorReturn(this,(CameraOrtho.__proto__||Object.getPrototypeOf(CameraOrtho)).call(this)),eye=_glMatrix.vec3.clone([0,0,15]),center=_glMatrix.vec3.create(),up=_glMatrix.vec3.clone([0,-1,0]);return _this.lookAt(eye,center,up),_this.ortho(1,-1,1,-1),_this}return _inherits(CameraOrtho,_Camera),_createClass(CameraOrtho,[{key:\"setBoundary\",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.ortho(left,right,top,bottom,near,far)}},{key:\"ortho\",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.left=left,this.right=right,this.top=top,this.bottom=bottom,mat4.ortho(this._projection,left,right,top,bottom,near,far)}}]),CameraOrtho}(_Camera3.default);exports.default=CameraOrtho},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Object3D=function(){function Object3D(){_classCallCheck(this,Object3D),this._needUpdate=!0,this._x=0,this._y=0,this._z=0,this._sx=1,this._sy=1,this._sz=1,this._rx=0,this._ry=0,this._rz=0,this._position=_glMatrix.vec3.create(),this._scale=_glMatrix.vec3.fromValues(1,1,1),this._rotation=_glMatrix.vec3.create(),this._matrix=_glMatrix.mat4.create(),this._matrixRotation=_glMatrix.mat4.create(),this._matrixScale=_glMatrix.mat4.create(),this._matrixTranslation=_glMatrix.mat4.create(),this._matrixQuaternion=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create()}return _createClass(Object3D,[{key:\"_update\",value:function(){_glMatrix.vec3.set(this._scale,this._sx,this._sy,this._sz),_glMatrix.vec3.set(this._rotation,this._rx,this._ry,this._rz),_glMatrix.vec3.set(this._position,this._x,this._y,this._z),_glMatrix.mat4.identity(this._matrixTranslation,this._matrixTranslation),_glMatrix.mat4.identity(this._matrixScale,this._matrixScale),_glMatrix.mat4.identity(this._matrixRotation,this._matrixRotation),_glMatrix.mat4.rotateX(this._matrixRotation,this._matrixRotation,this._rx),_glMatrix.mat4.rotateY(this._matrixRotation,this._matrixRotation,this._ry),_glMatrix.mat4.rotateZ(this._matrixRotation,this._matrixRotation,this._rz),_glMatrix.mat4.fromQuat(this._matrixQuaternion,this._quat),_glMatrix.mat4.mul(this._matrixRotation,this._matrixQuaternion,this._matrixRotation),_glMatrix.mat4.scale(this._matrixScale,this._matrixScale,this._scale),_glMatrix.mat4.translate(this._matrixTranslation,this._matrixTranslation,this._position),_glMatrix.mat4.mul(this._matrix,this._matrixTranslation,this._matrixRotation),_glMatrix.mat4.mul(this._matrix,this._matrix,this._matrixScale),this._needUpdate=!1}},{key:\"setRotationFromQuaternion\",value:function(mQuat){_glMatrix.quat.copy(this._quat,mQuat),this._needUpdate=!0}},{key:\"matrix\",get:function(){return this._needUpdate&&this._update(),this._matrix}},{key:\"x\",get:function(){return this._x},set:function(mValue){this._needUpdate=!0,this._x=mValue}},{key:\"y\",get:function(){return this._y},set:function(mValue){this._needUpdate=!0,this._y=mValue}},{key:\"z\",get:function(){return this._z},set:function(mValue){this._needUpdate=!0,this._z=mValue}},{key:\"scaleX\",get:function(){return this._sx},set:function(mValue){this._needUpdate=!0,this._sx=mValue}},{key:\"scaleY\",get:function(){return this._sy},set:function(mValue){this._needUpdate=!0,this._sy=mValue}},{key:\"scaleZ\",get:function(){return this._sz},set:function(mValue){this._needUpdate=!0,this._sz=mValue}},{key:\"rotationX\",get:function(){return this._rx},set:function(mValue){this._needUpdate=!0,this._rx=mValue}},{key:\"rotationY\",get:function(){return this._ry},set:function(mValue){this._needUpdate=!0,this._ry=mValue}},{key:\"rotationZ\",get:function(){return this._rz},set:function(mValue){this._needUpdate=!0,this._rz=mValue}}]),Object3D}();exports.default=Object3D},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,\"__esModule\",{value:!0});var _simpleColor=__webpack_require__(10),_simpleColor2=_interopRequireDefault(_simpleColor),_bigTriangle=__webpack_require__(18),_bigTriangle2=_interopRequireDefault(_bigTriangle),_general=__webpack_require__(33),_general2=_interopRequireDefault(_general),_copy=__webpack_require__(19),_copy2=_interopRequireDefault(_copy),_basic=__webpack_require__(11),_basic2=_interopRequireDefault(_basic),_skybox=__webpack_require__(34),_skybox2=_interopRequireDefault(_skybox),_skybox3=__webpack_require__(35),_skybox4=_interopRequireDefault(_skybox3),ShaderLibs={simpleColorFrag:_simpleColor2.default,bigTriangleVert:_bigTriangle2.default,generalVert:_general2.default,copyFrag:_copy2.default,basicVert:_basic2.default,skyboxVert:_skybox2.default,skyboxFrag:_skybox4.default};exports.default=ShaderLibs},function(module,exports){module.exports=\"// generalWithNormal.vert\\n\\n#define SHADER_NAME GENERAL_VERTEX\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\nuniform mat3 uNormalMatrix;\\n\\nuniform vec3 position;\\nuniform vec3 scale;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n\\tvec3 pos      = aVertexPosition * scale;\\n\\tpos           += position;\\n\\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\\n\\t\\n\\tvTextureCoord = aTextureCoord;\\n\\tvNormal       = normalize(uNormalMatrix * aNormal);\\n}\"},function(module,exports){module.exports=\"// basic.vert\\n\\n#define SHADER_NAME SKYBOX_VERTEX\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vVertex;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n\\tmat4 matView = uViewMatrix;\\n\\tmatView[3][0] = 0.0;\\n\\tmatView[3][1] = 0.0;\\n\\tmatView[3][2] = 0.0;\\n\\t\\n\\tgl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\\n\\tvTextureCoord = aTextureCoord;\\n\\t\\n\\tvVertex = aVertexPosition;\\n\\tvNormal = aNormal;\\n}\"},function(module,exports){module.exports=\"// basic.frag\\n\\n#define SHADER_NAME SKYBOX_FRAGMENT\\n\\nprecision mediump float;\\n#define GLSLIFY 1\\nuniform samplerCube texture;\\nvarying vec2 vTextureCoord;\\nvarying vec3 vVertex;\\n\\nvoid main(void) {\\n    gl_FragColor = textureCube(texture, vVertex);\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PassMacro=function(){function PassMacro(){_classCallCheck(this,PassMacro),this._passes=[]}return _createClass(PassMacro,[{key:\"addPass\",value:function(pass){this._passes.push(pass)}},{key:\"passes\",get:function(){return this._passes}}]),PassMacro}();exports.default=PassMacro},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _PassBlurBase2=__webpack_require__(38),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassVBlur=function(_PassBlurBase){function PassVBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassVBlur),_possibleConstructorReturn(this,(PassVBlur.__proto__||Object.getPrototypeOf(PassVBlur)).call(this,mQuality,[0,1],mWidth,mHeight,mParams))}return _inherits(PassVBlur,_PassBlurBase),PassVBlur}(_PassBlurBase3.default);exports.default=PassVBlur},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(9),_Pass3=_interopRequireDefault(_Pass2),fsBlur5=__webpack_require__(73),fsBlur9=__webpack_require__(74),fsBlur13=__webpack_require__(75),PassBlurBase=function(_Pass){function PassBlurBase(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mDirection=arguments[1],mWidth=arguments[2],mHeight=arguments[3],mParams=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,PassBlurBase);var fs=void 0;switch(mQuality){case 5:default:fs=fsBlur5;break;case 9:fs=fsBlur9;break;case 13:fs=fsBlur13}var _this=_possibleConstructorReturn(this,(PassBlurBase.__proto__||Object.getPrototypeOf(PassBlurBase)).call(this,fs,mWidth,mHeight,mParams));return _this.uniform(\"uDirection\",mDirection),_this.uniform(\"uResolution\",[_GLTool2.default.width,_GLTool2.default.height]),_this}return _inherits(PassBlurBase,_Pass),PassBlurBase}(_Pass3.default);exports.default=PassBlurBase},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _PassBlurBase2=__webpack_require__(38),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassHBlur=function(_PassBlurBase){function PassHBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassHBlur),_possibleConstructorReturn(this,(PassHBlur.__proto__||Object.getPrototypeOf(PassHBlur)).call(this,mQuality,[1,0],mWidth,mHeight,mParams))}return _inherits(PassHBlur,_PassBlurBase),PassHBlur}(_PassBlurBase3.default);exports.default=PassHBlur},function(module,exports){module.exports=\"// fxaa.frag\\n\\n#define SHADER_NAME FXAA\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform vec2 uResolution;\\n\\n\\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#define FXAA_SPAN_MAX     8.0\\n\\n\\nvec4 applyFXAA(sampler2D tex) {\\n    vec4 color;\\n    vec2 fragCoord = gl_FragCoord.xy;\\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n\\n    vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n\\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n\\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n              dir * rcpDirMin)) * uResolution;\\n\\n    vec3 rgbA = 0.5 * (\\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\\n\\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, 1.0);\\n    else\\n        color = vec4(rgbB, 1.0);\\n    return color;\\n}\\n\\nvoid main(void) {\\n \\tvec4 color = applyFXAA(texture);\\n    gl_FragColor = color;\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ShaderLibs=exports.View3D=exports.View=exports.Scene=exports.BatchFXAA=exports.BatchSky=exports.BatchSkybox=exports.BatchLine=exports.BatchDotsPlane=exports.BatchBall=exports.BatchAxis=exports.BatchCopy=exports.PassFxaa=exports.PassHBlur=exports.PassVBlur=exports.PassBlur=exports.PassMacro=exports.Pass=exports.EffectComposer=exports.ColladaParser=exports.HDRLoader=exports.ObjLoader=exports.BinaryLoader=exports.Object3D=exports.Ray=exports.CameraCube=exports.CameraPerspective=exports.CameraOrtho=exports.Camera=exports.TouchDetector=exports.QuatRotation=exports.WebglNumber=exports.OrbitalControl=exports.TweenNumber=exports.EaseNumber=exports.EventDispatcher=exports.Scheduler=exports.TransformFeedbackObject=exports.MultisampleFrameBuffer=exports.CubeFrameBuffer=exports.FrameBuffer=exports.Batch=exports.Geom=exports.Mesh=exports.GLCubeTexture=exports.GLTextureOld=exports.GLTexture=exports.GLShader=exports.GL=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),GLM=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_glMatrix),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),_GLTexture3=__webpack_require__(26),_GLTexture4=_interopRequireDefault(_GLTexture3),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_Batch=__webpack_require__(4),_Batch2=_interopRequireDefault(_Batch),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_CubeFrameBuffer=__webpack_require__(56),_CubeFrameBuffer2=_interopRequireDefault(_CubeFrameBuffer),_MultisampleFrameBuffer=__webpack_require__(57),_MultisampleFrameBuffer2=_interopRequireDefault(_MultisampleFrameBuffer),_TransformFeedbackObject=__webpack_require__(58),_TransformFeedbackObject2=_interopRequireDefault(_TransformFeedbackObject),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_EventDispatcher=__webpack_require__(28),_EventDispatcher2=_interopRequireDefault(_EventDispatcher),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_TweenNumber=__webpack_require__(59),_TweenNumber2=_interopRequireDefault(_TweenNumber),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),_QuatRotation=__webpack_require__(60),_QuatRotation2=_interopRequireDefault(_QuatRotation),_TouchDetector=__webpack_require__(61),_TouchDetector2=_interopRequireDefault(_TouchDetector),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_WebglConst=__webpack_require__(23),_Camera=(_interopRequireDefault(_WebglConst),__webpack_require__(15)),_Camera2=_interopRequireDefault(_Camera),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_CameraPerspective=__webpack_require__(16),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraCube=__webpack_require__(63),_CameraCube2=_interopRequireDefault(_CameraCube),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_Object3D=__webpack_require__(31),_Object3D2=_interopRequireDefault(_Object3D),_BinaryLoader=__webpack_require__(17),_BinaryLoader2=_interopRequireDefault(_BinaryLoader),_ObjLoader=__webpack_require__(64),_ObjLoader2=_interopRequireDefault(_ObjLoader),_HDRLoader=__webpack_require__(65),_HDRLoader2=_interopRequireDefault(_HDRLoader),_ColladaParser=__webpack_require__(67),_ColladaParser2=_interopRequireDefault(_ColladaParser),_EffectComposer=__webpack_require__(71),_EffectComposer2=_interopRequireDefault(_EffectComposer),_Pass=__webpack_require__(9),_Pass2=_interopRequireDefault(_Pass),_PassMacro=__webpack_require__(36),_PassMacro2=_interopRequireDefault(_PassMacro),_PassBlur=__webpack_require__(72),_PassBlur2=_interopRequireDefault(_PassBlur),_PassVBlur=__webpack_require__(37),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(39),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassFxaa=__webpack_require__(76),_PassFxaa2=_interopRequireDefault(_PassFxaa),_BatchCopy=__webpack_require__(77),_BatchCopy2=_interopRequireDefault(_BatchCopy),_BatchAxis=__webpack_require__(78),_BatchAxis2=_interopRequireDefault(_BatchAxis),_BatchBall=__webpack_require__(81),_BatchBall2=_interopRequireDefault(_BatchBall),_BatchDotsPlane=__webpack_require__(82),_BatchDotsPlane2=_interopRequireDefault(_BatchDotsPlane),_BatchLine=__webpack_require__(84),_BatchLine2=_interopRequireDefault(_BatchLine),_BatchSkybox=__webpack_require__(85),_BatchSkybox2=_interopRequireDefault(_BatchSkybox),_BatchSky=__webpack_require__(86),_BatchSky2=_interopRequireDefault(_BatchSky),_BatchFXAA=__webpack_require__(88),_BatchFXAA2=_interopRequireDefault(_BatchFXAA),_Scene=__webpack_require__(89),_Scene2=_interopRequireDefault(_Scene),_View=__webpack_require__(90),_View2=_interopRequireDefault(_View),_View3D=__webpack_require__(91),_View3D2=_interopRequireDefault(_View3D),_ShaderLibs=__webpack_require__(32),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Alfrid=function(){function Alfrid(){_classCallCheck(this,Alfrid),this.glm=GLM,this.GL=_GLTool2.default,this.GLTool=_GLTool2.default,this.GLShader=_GLShader2.default,this.GLTexture=_GLTexture4.default,this.GLTextureOld=_GLTexture2.default,this.GLCubeTexture=_GLCubeTexture2.default,this.Mesh=_Mesh2.default,this.Geom=_Geom2.default,this.Batch=_Batch2.default,this.FrameBuffer=_FrameBuffer2.default,this.CubeFrameBuffer=_CubeFrameBuffer2.default,this.Scheduler=_scheduling2.default,this.EventDispatcher=_EventDispatcher2.default,this.EaseNumber=_EaseNumber2.default,this.TweenNumber=_TweenNumber2.default,this.Camera=_Camera2.default,this.CameraOrtho=_CameraOrtho2.default,this.CameraPerspective=_CameraPerspective2.default,this.Ray=_Ray2.default,this.CameraCube=_CameraCube2.default,this.OrbitalControl=_OrbitalControl2.default,this.QuatRotation=_QuatRotation2.default,this.BinaryLoader=_BinaryLoader2.default,this.ObjLoader=_ObjLoader2.default,this.ColladaParser=_ColladaParser2.default,this.HDRLoader=_HDRLoader2.default,this.BatchCopy=_BatchCopy2.default,this.BatchAxis=_BatchAxis2.default,this.BatchBall=_BatchBall2.default,this.BatchBall=_BatchBall2.default,this.BatchLine=_BatchLine2.default,this.BatchSkybox=_BatchSkybox2.default,this.BatchSky=_BatchSky2.default,this.BatchFXAA=_BatchFXAA2.default,this.BatchDotsPlane=_BatchDotsPlane2.default,this.Scene=_Scene2.default,this.View=_View2.default,this.View3D=_View3D2.default,this.Object3D=_Object3D2.default,this.ShaderLibs=_ShaderLibs2.default,this.WebglNumber=_WebglNumber2.default,this.EffectComposer=_EffectComposer2.default,this.Pass=_Pass2.default,this.PassMacro=_PassMacro2.default,this.PassBlur=_PassBlur2.default,this.PassVBlur=_PassVBlur2.default,this.PassHBlur=_PassHBlur2.default,this.PassFxaa=_PassFxaa2.default,this.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,this.TransformFeedbackObject=_TransformFeedbackObject2.default;for(var s in GLM)GLM[s]&&(window[s]=GLM[s])}return _createClass(Alfrid,[{key:\"log\",value:function(){navigator.userAgent.indexOf(\"Chrome\")>-1?console.log(\"%clib alfrid : VERSION 0.2.0\",\"background: #193441; color: #FCFFF5\"):console.log(\"lib alfrid : VERSION \",\"0.2.0\"),console.log(\"%cClasses : \",\"color: #193441\");for(var s in this)this[s]&&console.log(\"%c - \"+s,\"color: #3E606F\")}}]),Alfrid}(),al=new Alfrid;exports.default=al,exports.GL=_GLTool2.default,exports.GLShader=_GLShader2.default,exports.GLTexture=_GLTexture4.default,exports.GLTextureOld=_GLTexture2.default,exports.GLCubeTexture=_GLCubeTexture2.default,exports.Mesh=_Mesh2.default,exports.Geom=_Geom2.default,exports.Batch=_Batch2.default,exports.FrameBuffer=_FrameBuffer2.default,exports.CubeFrameBuffer=_CubeFrameBuffer2.default,exports.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,exports.TransformFeedbackObject=_TransformFeedbackObject2.default,exports.Scheduler=_scheduling2.default,exports.EventDispatcher=_EventDispatcher2.default,exports.EaseNumber=_EaseNumber2.default,exports.TweenNumber=_TweenNumber2.default,exports.OrbitalControl=_OrbitalControl2.default,exports.WebglNumber=_WebglNumber2.default,exports.QuatRotation=_QuatRotation2.default,exports.TouchDetector=_TouchDetector2.default,exports.Camera=_Camera2.default,exports.CameraOrtho=_CameraOrtho2.default,exports.CameraPerspective=_CameraPerspective2.default,exports.CameraCube=_CameraCube2.default,exports.Ray=_Ray2.default,exports.Object3D=_Object3D2.default,exports.BinaryLoader=_BinaryLoader2.default,exports.ObjLoader=_ObjLoader2.default,exports.HDRLoader=_HDRLoader2.default,exports.ColladaParser=_ColladaParser2.default,exports.EffectComposer=_EffectComposer2.default,exports.Pass=_Pass2.default,exports.PassMacro=_PassMacro2.default,exports.PassBlur=_PassBlur2.default,exports.PassVBlur=_PassVBlur2.default,exports.PassHBlur=_PassHBlur2.default,exports.PassFxaa=_PassFxaa2.default,exports.BatchCopy=_BatchCopy2.default,exports.BatchAxis=_BatchAxis2.default,exports.BatchBall=_BatchBall2.default,exports.BatchDotsPlane=_BatchDotsPlane2.default,exports.BatchLine=_BatchLine2.default,exports.BatchSkybox=_BatchSkybox2.default,exports.BatchSky=_BatchSky2.default,exports.BatchFXAA=_BatchFXAA2.default,exports.Scene=_Scene2.default,exports.View=_View2.default,exports.View3D=_View3D2.default,exports.ShaderLibs=_ShaderLibs2.default},function(module,exports,__webpack_require__){\"use strict\";function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function fromValues(m00,m01,m10,m11){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function set(out,m00,m01,m10,m11){return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function transpose(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null}function adjoint(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out}function determinant(a){return a[0]*a[3]-a[2]*a[1]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out}function str(a){return\"mat2(\"+a[0]+\", \"+a[1]+\", \"+a[2]+\", \"+a[3]+\")\"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function LDU(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.str=str,exports.frob=frob,exports.LDU=LDU,exports.add=add,exports.subtract=subtract,exports.exactEquals=exactEquals,exports.equals=equals,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){\"use strict\";function create(){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function fromValues(a,b,c,d,tx,ty){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function set(out,a,b,c,d,tx,ty){return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function invert(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function determinant(a){return a[0]*a[3]-a[1]*a[2]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out}function translate(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out[4]=0,out[5]=0,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out[4]=0,out[5]=0,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=v[0],out[5]=v[1],out}function str(a){return\"mat2d(\"+a[0]+\", \"+a[1]+\", \"+a[2]+\", \"+a[3]+\", \"+a[4]+\", \"+a[5]+\")\"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.invert=invert,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.translate=translate,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromTranslation=fromTranslation,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){\"use strict\";function create(){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function fromValues(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function set(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function translate(out,a,v){var x=v[0],y=v[1],z=v[2],a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0;return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function rotate(out,a,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0,a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0,b00=void 0,b01=void 0,b02=void 0,b10=void 0,b11=void 0,b12=void 0,b20=void 0,b21=void 0,b22=void 0;return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)}function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotation(out,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0;return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)}function fromXRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromYRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromZRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotationTranslation(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function getTranslation(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out}function getScaling(out,mat){var m11=mat[0],m12=mat[1],m13=mat[2],m21=mat[4],m22=mat[5],m23=mat[6],m31=mat[8],m32=mat[9],m33=mat[10];return out[0]=Math.sqrt(m11*m11+m12*m12+m13*m13),out[1]=Math.sqrt(m21*m21+m22*m22+m23*m23),out[2]=Math.sqrt(m31*m31+m32*m32+m33*m33),out}function getRotation(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out}function fromRotationTranslationScale(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromRotationTranslationScaleOrigin(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0]+ox-(out[0]*ox+out[4]*oy+out[8]*oz),out[13]=v[1]+oy-(out[1]*ox+out[5]*oy+out[9]*oz),out[14]=v[2]+oz-(out[2]*ox+out[6]*oy+out[10]*oz),out[15]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}function perspective(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=2*far*near*nf,out[15]=0,out}function perspectiveFromFieldOfView(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out}function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}function lookAt(out,eye,center,up){var x0=void 0,x1=void 0,x2=void 0,y0=void 0,y1=void 0,y2=void 0,z0=void 0,z1=void 0,z2=void 0,len=void 0,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<glMatrix.EPSILON&&Math.abs(eyey-centery)<glMatrix.EPSILON&&Math.abs(eyez-centerz)<glMatrix.EPSILON?mat4.identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,len=1/Math.sqrt(z0*z0+z1*z1+z2*z2),z0*=len,z1*=len,z2*=len,x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0,len=Math.sqrt(x0*x0+x1*x1+x2*x2),len?(len=1/len,x0*=len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,len=Math.sqrt(y0*y0+y1*y1+y2*y2),len?(len=1/len,y0*=len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function targetTo(out,eye,target,up){var eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],z0=eyex-target[0],z1=eyey-target[1],z2=eyez-target[2],len=z0*z0+z1*z1+z2*z2;len>0&&(len=1/Math.sqrt(len),z0*=len,z1*=len,z2*=len);var x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0;return out[0]=x0,out[1]=x1,out[2]=x2,out[3]=0,out[4]=z1*x2-z2*x1,out[5]=z2*x0-z0*x2,out[6]=z0*x1-z1*x0,out[7]=0,out[8]=z0,out[9]=z1,out[10]=z2,out[11]=0,out[12]=eyex,out[13]=eyey,out[14]=eyez,out[15]=1,out}function str(a){return\"mat4(\"+a[0]+\", \"+a[1]+\", \"+a[2]+\", \"+a[3]+\", \"+a[4]+\", \"+a[5]+\", \"+a[6]+\", \"+a[7]+\", \"+a[8]+\", \"+a[9]+\", \"+a[10]+\", \"+a[11]+\", \"+a[12]+\", \"+a[13]+\", \"+a[14]+\", \"+a[15]+\")\"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=glMatrix.EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=glMatrix.EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=glMatrix.EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=glMatrix.EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=glMatrix.EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=glMatrix.EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=glMatrix.EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.scale=scale,exports.rotate=rotate,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.fromTranslation=fromTranslation,exports.fromScaling=fromScaling,exports.fromRotation=fromRotation,exports.fromXRotation=fromXRotation,exports.fromYRotation=fromYRotation,exports.fromZRotation=fromZRotation,exports.fromRotationTranslation=fromRotationTranslation,exports.getTranslation=getTranslation,exports.getScaling=getScaling,exports.getRotation=getRotation,exports.fromRotationTranslationScale=fromRotationTranslationScale,exports.fromRotationTranslationScaleOrigin=fromRotationTranslationScaleOrigin,exports.fromQuat=fromQuat,exports.frustum=frustum,exports.perspective=perspective,exports.perspectiveFromFieldOfView=perspectiveFromFieldOfView,exports.ortho=ortho,exports.lookAt=lookAt,exports.targetTo=targetTo,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function getAxisAngle(out_axis,q){var rad=2*Math.acos(q[3]),s=Math.sin(rad/2);return 0!=s?(out_axis[0]=q[0]/s,out_axis[1]=q[1]/s,out_axis[2]=q[2]/s):(out_axis[0]=1,out_axis[1]=0,out_axis[2]=0),rad}function multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}function rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}function rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}function slerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3],omega=void 0,cosom=void 0,sinom=void 0,scale0=void 0,scale1=void 0;return cosom=ax*bx+ay*by+az*bz+aw*bw,cosom<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>1e-6?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}function fromMat3(out,m){var fTrace=m[0]+m[4]+m[8],fRoot=void 0;if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}function fromEuler(out,x,y,z){var halfToRad=.5*Math.PI/180;x*=halfToRad,y*=halfToRad,z*=halfToRad;var sx=Math.sin(x),cx=Math.cos(x),sy=Math.sin(y),cy=Math.cos(y),sz=Math.sin(z),cz=Math.cos(z);return out[0]=sx*cy*cz-cx*sy*sz,out[1]=cx*sy*cz+sx*cy*sz,out[2]=cx*cy*sz-sx*sy*cz,out[3]=cx*cy*cz+sx*sy*sz,out}function str(a){return\"quat(\"+a[0]+\", \"+a[1]+\", \"+a[2]+\", \"+a[3]+\")\"}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0,exports.create=create,exports.identity=identity,exports.setAxisAngle=setAxisAngle,exports.getAxisAngle=getAxisAngle,exports.multiply=multiply,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.calculateW=calculateW,exports.slerp=slerp,exports.invert=invert,exports.conjugate=conjugate,exports.fromMat3=fromMat3,exports.fromEuler=fromEuler,exports.str=str;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(20),mat3=_interopRequireWildcard(_mat),_vec=__webpack_require__(21),vec3=_interopRequireWildcard(_vec),_vec2=__webpack_require__(22),vec4=_interopRequireWildcard(_vec2),length=(exports.clone=vec4.clone,exports.fromValues=vec4.fromValues,exports.copy=vec4.copy,exports.set=vec4.set,exports.add=vec4.add,exports.mul=multiply,exports.scale=vec4.scale,exports.dot=vec4.dot,exports.lerp=vec4.lerp,exports.length=vec4.length),squaredLength=(exports.len=length,exports.squaredLength=vec4.squaredLength),normalize=(exports.sqrLen=squaredLength,exports.normalize=vec4.normalize);exports.exactEquals=vec4.exactEquals,exports.equals=vec4.equals,exports.rotationTo=function(){var tmpvec3=vec3.create(),xUnitVec3=vec3.fromValues(1,0,0),yUnitVec3=vec3.fromValues(0,1,0);return function(out,a,b){var dot=vec3.dot(a,b);return dot<-.999999?(vec3.cross(tmpvec3,xUnitVec3,a),vec3.len(tmpvec3)<1e-6&&vec3.cross(tmpvec3,yUnitVec3,a),vec3.normalize(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vec3.cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,normalize(out,out))}}(),exports.sqlerp=function(){var temp1=create(),temp2=create();return function(out,a,b,c,d,t){return slerp(temp1,a,d,t),slerp(temp2,b,c,t),slerp(out,temp1,temp2,2*t*(1-t)),out}}(),exports.setAxes=function(){var matr=mat3.create();return function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],normalize(out,fromMat3(out,matr))}}()},function(module,exports,__webpack_require__){\"use strict\";function create(){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=0,out[1]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out}function fromValues(x,y){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=x,out[1]=y,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out}function set(out,x,y){return out[0]=x,out[1]=y,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out}function normalize(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]}function cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out}function transformMat2(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out}function transformMat2d(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function transformMat3(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out}function transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}function str(a){return\"vec2(\"+a[0]+\", \"+a[1]+\")\"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]}function equals(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.random=random,exports.transformMat2=transformMat2,exports.transformMat2d=transformMat2d,exports.transformMat3=transformMat3,exports.transformMat4=transformMat4,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.len=length,exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}()},function(module,exports,__webpack_require__){\"use strict\";function getAndApplyExtension(gl,name){var ext=gl.getExtension(name);if(!ext)return!1;var suffix=name.split(\"_\")[0],suffixRE=new RegExp(suffix+\"$\");for(var key in ext){if(\"function\"==typeof ext[key]){var unsuffixedKey=key.replace(suffixRE,\"\");key.substring&&(gl[unsuffixedKey]=ext[key].bind(ext))}}return!0}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=getAndApplyExtension},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,\"__esModule\",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglConst=__webpack_require__(23),_WebglConst2=_interopRequireDefault(_WebglConst),exposeAttributes=function(){for(var s in _WebglConst2.default)_GLTool2.default[s]?console.log(\"already exist : \",s):_GLTool2.default[s]=_WebglConst2.default[s]};exports.default=exposeAttributes},function(module,exports,__webpack_require__){\"use strict\";function checkFloat(){return _GLTool2.default.webgl2?_GLTool2.default.gl.FLOAT:_GLTool2.default.getExtension(\"OES_texture_float\")?_GLTool2.default.gl.FLOAT:(console.warn(\"USING FLOAT BUT OES_texture_float NOT SUPPORTED\"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(){return hasChecked||(_float=checkFloat()),_float};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,_float=void 0},function(module,exports,__webpack_require__){\"use strict\";function checkHalfFloat(){if(_GLTool2.default.webgl2)return _GLTool2.default.gl.HALF_FLOAT;var extHalfFloat=_GLTool2.default.getExtension(\"OES_texture_half_float\");return extHalfFloat?extHalfFloat.HALF_FLOAT_OES:(console.warn(\"USING HALF FLOAT BUT OES_texture_half_float NOT SUPPORTED\"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(){return hasChecked||(halfFloat=checkHalfFloat()),halfFloat};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,halfFloat=void 0},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=[\"EXT_shader_texture_lod\",\"EXT_sRGB\",\"EXT_frag_depth\",\"OES_texture_float\",\"OES_texture_half_float\",\"OES_texture_float_linear\",\"OES_texture_half_float_linear\",\"OES_standard_derivatives\",\"WEBGL_depth_texture\",\"EXT_texture_filter_anisotropic\",\"OES_vertex_array_object\",\"ANGLE_instanced_arrays\",\"WEBGL_draw_buffers\"]},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(strings){\"string\"==typeof strings&&(strings=[strings]);for(var exprs=[].slice.call(arguments,1),parts=[],i=0;i<strings.length-1;i++)parts.push(strings[i],exprs[i]||\"\");return parts.push(strings[i]),parts.join(\"\")}},function(module,exports){module.exports=\"// basic.frag\\n\\n#define SHADER_NAME BASIC_FRAGMENT\\n\\nprecision lowp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform float time;\\n// uniform sampler2D texture;\\n\\nvoid main(void) {\\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),getTextureParameters=function(mParams,mSource,mWidth,mHeight){if(!mParams.minFilter){var minFilter=_GLTool2.default.LINEAR;mWidth&&mWidth&&isPowerOfTwo(mWidth)&&isPowerOfTwo(mHeight)&&(minFilter=_GLTool2.default.NEAREST_MIPMAP_LINEAR),mParams.minFilter=minFilter}return mParams.mipmap=mParams.mipmap||!0,mParams.magFilter=mParams.magFilter||_GLTool2.default.LINEAR,mParams.wrapS=mParams.wrapS||_GLTool2.default.CLAMP_TO_EDGE,mParams.wrapT=mParams.wrapT||_GLTool2.default.CLAMP_TO_EDGE,mParams.internalFormat=mParams.internalFormat||_GLTool2.default.RGBA,mParams.format=mParams.format||_GLTool2.default.RGBA,mParams.premultiplyAlpha=mParams.premultiplyAlpha||!1,mParams.level=mParams.level||0,mParams.anisotropy=mParams.anisotropy||0,mParams};exports.default=getTextureParameters},function(module,exports,__webpack_require__){\"use strict\";function parseHeaders(arrayBuffer){var header=new Int32Array(arrayBuffer,0,headerLengthInt);if(header[off_magic]!==DDS_MAGIC)throw new Error(\"Invalid magic number in DDS header\");if(!header[off_pfFlags]&DDPF_FOURCC)throw new Error(\"Unsupported format, must contain a FourCC code\");var blockBytes,format,fourCC=header[off_pfFourCC];switch(fourCC){case FOURCC_DXT1:blockBytes=8,format=\"dxt1\";break;case FOURCC_DXT3:blockBytes=16,format=\"dxt3\";break;case FOURCC_DXT5:blockBytes=16,format=\"dxt5\";break;case FOURCC_FP32F:format=\"rgba32f\";break;case FOURCC_DX10:var dx10Header=new Uint32Array(arrayBuffer.slice(128,148));format=dx10Header[0];var resourceDimension=dx10Header[1];dx10Header[2],dx10Header[3],dx10Header[4];if(resourceDimension!==D3D10_RESOURCE_DIMENSION_TEXTURE2D||format!==DXGI_FORMAT_R32G32B32A32_FLOAT)throw new Error(\"Unsupported DX10 texture format \"+format);format=\"rgba32f\";break;default:throw new Error(\"Unsupported FourCC code: \"+int32ToFourCC(fourCC))}var flags=header[off_flags],mipmapCount=1;flags&DDSD_MIPMAPCOUNT&&(mipmapCount=Math.max(1,header[off_mipmapCount]));var cubemap=!1;header[off_caps2]&DDSCAPS2_CUBEMAP&&(cubemap=!0);var dataLength,width=header[off_width],height=header[off_height],dataOffset=header[off_size]+4,texWidth=width,texHeight=height,images=[];if(fourCC===FOURCC_DX10&&(dataOffset+=20),cubemap)for(var f=0;f<6;f++){if(\"rgba32f\"!==format)throw new Error(\"Only RGBA32f cubemaps are supported\");width=texWidth,height=texHeight;for(var requiredMipLevels=Math.log(width)/Math.log(2)+1,i=0;i<requiredMipLevels;i++)dataLength=width*height*16,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),i<mipmapCount&&(dataOffset+=dataLength),width=Math.floor(width/2),height=Math.floor(height/2)}else for(var i=0;i<mipmapCount;i++)dataLength=Math.max(4,width)/4*Math.max(4,height)/4*blockBytes,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),dataOffset+=dataLength,width=Math.floor(width/2),height=Math.floor(height/2);return{shape:[texWidth,texHeight],images:images,format:format,flags:flags,cubemap:cubemap}}function fourCCToInt32(value){return value.charCodeAt(0)+(value.charCodeAt(1)<<8)+(value.charCodeAt(2)<<16)+(value.charCodeAt(3)<<24)}function int32ToFourCC(value){return String.fromCharCode(255&value,value>>8&255,value>>16&255,value>>24&255)}var DDS_MAGIC=542327876,DDSD_MIPMAPCOUNT=131072,DDPF_FOURCC=4,FOURCC_DXT1=fourCCToInt32(\"DXT1\"),FOURCC_DXT3=fourCCToInt32(\"DXT3\"),FOURCC_DXT5=fourCCToInt32(\"DXT5\"),FOURCC_DX10=fourCCToInt32(\"DX10\"),FOURCC_FP32F=116,DDSCAPS2_CUBEMAP=512,D3D10_RESOURCE_DIMENSION_TEXTURE2D=3,DXGI_FORMAT_R32G32B32A32_FLOAT=2,headerLengthInt=31,off_magic=0,off_size=1,off_flags=2,off_height=3,off_width=4,off_mipmapCount=7,off_pfFlags=20,off_pfFourCC=21,off_caps2=28;module.exports=parseHeaders},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),gl=void 0,CubeFrameBuffer=function(){function CubeFrameBuffer(size){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,CubeFrameBuffer),gl=_GLTool2.default.gl,this._size=size,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this._init()}return _createClass(CubeFrameBuffer,[{key:\"_init\",value:function(){this.texture=gl.createTexture(),this.glTexture=new _GLCubeTexture2.default(this.texture,{},!0),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT);for(var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],i=0;i<targets.length;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),gl.texImage2D(targets[i],0,gl.RGBA,this.width,this.height,0,gl.RGBA,gl.FLOAT,null);this._frameBuffers=[];for(var _i=0;_i<targets.length;_i++){var frameBuffer=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,frameBuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,targets[_i],this.texture,0);var status=gl.checkFramebufferStatus(gl.FRAMEBUFFER);status!==gl.FRAMEBUFFER_COMPLETE&&console.log(\"'gl.checkFramebufferStatus() returned '\"+status),this._frameBuffers.push(frameBuffer)}gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}},{key:\"bind\",value:function(mTargetIndex){_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this._frameBuffers[mTargetIndex])}},{key:\"unbind\",value:function(){gl.bindFramebuffer(gl.FRAMEBUFFER,null),_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height)}},{key:\"getTexture\",value:function(){return this.glTexture}},{key:\"width\",get:function(){return this._size}},{key:\"height\",get:function(){return this._size}}]),CubeFrameBuffer}();exports.default=CubeFrameBuffer},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),gl=void 0,MultisampleFrameBuffer=function(){function MultisampleFrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,MultisampleFrameBuffer),gl=_GLTool2.default.gl,this.width=mWidth,this.height=mHeight,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this.useDepth=mParameters.useDepth||!0,this.useStencil=mParameters.useStencil||!1,this.texelType=mParameters.type,this._numSample=mParameters.numSample||8,isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)||(this.wrapS=this.wrapT=gl.CLAMP_TO_EDGE,this.minFilter===gl.LINEAR_MIPMAP_NEAREST&&(this.minFilter=gl.LINEAR)),this._init()}return _createClass(MultisampleFrameBuffer,[{key:\"_init\",value:function(){var texelType=gl.UNSIGNED_BYTE;this.texelType&&(texelType=this.texelType),this.texelType=texelType,this.frameBuffer=gl.createFramebuffer(),this.frameBufferColor=gl.createFramebuffer(),this.renderBufferColor=gl.createRenderbuffer(),this.renderBufferDepth=gl.createRenderbuffer(),this.glTexture=this._createTexture(),this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferColor),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.RGBA8,this.width,this.height),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferDepth),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.DEPTH_COMPONENT16,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.RENDERBUFFER,this.renderBufferColor),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,this.renderBufferDepth),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBufferColor),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,this.glTexture.texture,0),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:\"_createTexture\",value:function(mInternalformat,mTexelType,mFormat){var forceNearest=arguments.length>3&&void 0!==arguments[3]&&arguments[3];void 0===mInternalformat&&(mInternalformat=gl.RGBA),void 0===mTexelType&&(mTexelType=this.texelType),mFormat||(mFormat=mInternalformat);var t=gl.createTexture(),glt=new _GLTexture2.default(t,!0),magFilter=forceNearest?_GLTool2.default.NEAREST:this.magFilter,minFilter=forceNearest?_GLTool2.default.NEAREST:this.minFilter;return gl.bindTexture(gl.TEXTURE_2D,t),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.wrapT),gl.texImage2D(gl.TEXTURE_2D,0,mInternalformat,this.width,this.height,0,mFormat,mTexelType,null),gl.bindTexture(gl.TEXTURE_2D,null),glt}},{key:\"bind\",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:\"unbind\",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height);var width=this.width,height=this.height;gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.READ_FRAMEBUFFER,this.frameBuffer),gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER,this.frameBufferColor),gl.clearBufferfv(gl.COLOR,0,[0,0,0,0]),gl.blitFramebuffer(0,0,width,height,0,0,width,height,gl.COLOR_BUFFER_BIT,_GLTool2.default.NEAREST),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:\"getTexture\",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.glTexture}},{key:\"getDepthTexture\",value:function(){return this.glDepthTexture}}]),MultisampleFrameBuffer}();exports.default=MultisampleFrameBuffer},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),gl=void 0,TransformFeedbackObject=function(){function TransformFeedbackObject(strVertexShader,strFragmentShader){_classCallCheck(this,TransformFeedbackObject),gl=_GLTool2.default.gl,this._vs=strVertexShader,this._fs=strFragmentShader,this._init()}return _createClass(TransformFeedbackObject,[{key:\"_init\",value:function(){this._meshCurrent=new _Mesh2.default,this._meshTarget=new _Mesh2.default,this._numPoints=-1,this._varyings=[],this.transformFeedback=gl.createTransformFeedback()}},{key:\"bufferData\",value:function(mData,mName,mVaryingName){var isTransformFeedback=!!mVaryingName;console.log(\"is Transform feedback ?\",mName,isTransformFeedback),this._meshCurrent.bufferData(mData,mName,null,gl.STREAM_COPY,!1),this._meshTarget.bufferData(mData,mName,null,gl.STREAM_COPY,!1),isTransformFeedback&&(this._varyings.push(mVaryingName),this._numPoints<0&&(this._numPoints=mData.length))}},{key:\"bufferIndex\",value:function(mArrayIndices){this._meshCurrent.bufferIndex(mArrayIndices),this._meshTarget.bufferIndex(mArrayIndices)}},{key:\"uniform\",value:function(mName,mType,mValue){this.shader&&this.shader.uniform(mName,mType,mValue)}},{key:\"generate\",value:function(){this.shader=new _GLShader2.default(this._vs,this._fs,this._varyings)}},{key:\"render\",value:function(){this.shader||this.generate(),this.shader.bind(),_GLTool2.default.drawTransformFeedback(this),this._swap()}},{key:\"_swap\",value:function(){var tmp=this._meshCurrent;this._meshCurrent=this._meshTarget,this._meshTarget=tmp}},{key:\"numPoints\",get:function(){return this._numPoints}},{key:\"meshCurrent\",get:function(){return this._meshCurrent}},{key:\"meshTarget\",get:function(){return this._meshTarget}},{key:\"meshSource\",get:function(){return this._meshCurrent}},{key:\"meshDestination\",get:function(){return this._meshTarget}}]),TransformFeedbackObject}();exports.default=TransformFeedbackObject},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function getFunc(mEasing){switch(mEasing){default:case\"linear\":return Easing.Linear.None;case\"expIn\":return Easing.Exponential.In;case\"expOut\":return Easing.Exponential.Out;case\"expInOut\":return Easing.Exponential.InOut;case\"cubicIn\":return Easing.Cubic.In;case\"cubicOut\":return Easing.Cubic.Out;case\"cubicInOut\":return Easing.Cubic.InOut;case\"quarticIn\":return Easing.Quartic.In;case\"quarticOut\":return Easing.Quartic.Out;case\"quarticInOut\":return Easing.Quartic.InOut;case\"quinticIn\":return Easing.Quintic.In;case\"quinticOut\":return Easing.Quintic.Out;case\"quinticInOut\":return Easing.Quintic.InOut;case\"sinusoidalIn\":return Easing.Sinusoidal.In;case\"sinusoidalOut\":return Easing.Sinusoidal.Out;case\"sinusoidalInOut\":return Easing.Sinusoidal.InOut;case\"circularIn\":return Easing.Circular.In;case\"circularOut\":return Easing.Circular.Out;case\"circularInOut\":return Easing.Circular.InOut;case\"elasticIn\":return Easing.Elastic.In;case\"elasticOut\":return Easing.Elastic.Out;case\"elasticInOut\":return Easing.Elastic.InOut;case\"backIn\":return Easing.Back.In;case\"backOut\":return Easing.Back.Out;case\"backInOut\":return Easing.Back.InOut;case\"bounceIn\":return Easing.Bounce.in;case\"bounceOut\":return Easing.Bounce.out;case\"bounceInOut\":return Easing.Bounce.inOut}}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),Easing={Linear:{None:function(k){return k}},Quadratic:{In:function(k){return k*k},Out:function(k){return k*(2-k)},InOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)}},Cubic:{In:function(k){return k*k*k},Out:function(k){return--k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)}},Quartic:{In:function(k){return k*k*k*k},Out:function(k){return 1- --k*k*k*k},InOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)}},Quintic:{In:function(k){return k*k*k*k*k},Out:function(k){return--k*k*k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)}},Sinusoidal:{In:function(k){return 1-Math.cos(k*Math.PI/2)},Out:function(k){return Math.sin(k*Math.PI/2)},InOut:function(k){return.5*(1-Math.cos(Math.PI*k))}},Exponential:{In:function(k){return 0===k?0:Math.pow(1024,k-1)},Out:function(k){return 1===k?1:1-Math.pow(2,-10*k)},InOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))}},Circular:{In:function(k){return 1-Math.sqrt(1-k*k)},Out:function(k){return Math.sqrt(1- --k*k)},InOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)}},Elastic:{In:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},Out:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},InOut:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(k){var s=1.70158;return k*k*((s+1)*k-s)},Out:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},InOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)}},Bounce:{in:function(k){return 1-Easing.Bounce.out(1-k)},out:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},inOut:function(k){return k<.5?.5*Easing.Bounce.in(2*k):.5*Easing.Bounce.out(2*k-1)+.5}}},TweenNumber=function(){function TweenNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"expOut\",mSpeed=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;_classCallCheck(this,TweenNumber),this._value=mValue,this._startValue=mValue,this._targetValue=mValue,this._counter=1,this.speed=mSpeed,this.easing=mEasing,this._needUpdate=!0,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(TweenNumber,[{key:\"_update\",value:function(){var newCounter=this._counter+this.speed;if(newCounter>1&&(newCounter=1),this._counter===newCounter)return void(this._needUpdate=!1);this._counter=newCounter,this._needUpdate=!0}},{key:\"limit\",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:\"setTo\",value:function(mValue){this._value=mValue,this._targetValue=mValue,this._counter=1}},{key:\"_checkLimit\",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:\"destroy\",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:\"value\",set:function(mValue){this._startValue=this._value,this._targetValue=mValue,this._checkLimit(),this._counter=0},get:function(){if(this._needUpdate){var f=getFunc(this.easing),p=f(this._counter);this._value=this._startValue+p*(this._targetValue-this._startValue),this._needUpdate=!1}return this._value}},{key:\"targetValue\",get:function(){return this._targetValue}}]),TweenNumber}();exports.default=TweenNumber},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_glMatrix2=_interopRequireDefault(_glMatrix),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},QuatRotation=function(){function QuatRotation(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mEasing=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;_classCallCheck(this,QuatRotation),this._target=mTarget,this._listenerTarget=mListenerTarget,this.matrix=_glMatrix2.default.mat4.create(),this.m=_glMatrix2.default.mat4.create(),this._vZaxis=_glMatrix2.default.vec3.clone([0,0,0]),this._zAxis=_glMatrix2.default.vec3.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=_glMatrix2.default.quat.create(),this.tempRotation=_glMatrix2.default.quat.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new _EaseNumber2.default(0,mEasing),this._diffY=new _EaseNumber2.default(0,mEasing),this._listenerTarget.addEventListener(\"mousedown\",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener(\"touchstart\",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener(\"mousemove\",function(e){return _this._onMove(e)}),this._listenerTarget.addEventListener(\"touchmove\",function(e){return _this._onMove(e)}),window.addEventListener(\"touchend\",function(){return _this._onUp()}),window.addEventListener(\"mouseup\",function(){return _this._onUp()}),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(QuatRotation,[{key:\"inverseControl\",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:\"lock\",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLocked=mValue}},{key:\"setCameraPos\",value:function(mQuat){var speed=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;if(this.easing=speed,!(this._slerp>0)){var tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=_glMatrix2.default.quat.clone(tempRotation),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=_glMatrix2.default.quat.clone(mQuat),this._slerp=1}}},{key:\"resetQuat\",value:function(){this._rotation=_glMatrix2.default.quat.clone([0,0,1,0]),this.tempRotation=_glMatrix2.default.quat.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}},{key:\"_onDown\",value:function(mEvent){if(!this._isLocked){var mouse=getMouse(mEvent),tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=tempRotation,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:mouse.x,y:mouse.y},mouse.y<this._rotateZMargin||mouse.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(mouse.x<this._rotateZMargin||mouse.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}}},{key:\"_onMove\",value:function(mEvent){this._isLocked||getMouse(mEvent,this.mouse)}},{key:\"_onUp\",value:function(){this._isLocked||(this._isMouseDown=!1)}},{key:\"_updateRotation\",value:function(mTempRotation){this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue));var angle=void 0,_quat=void 0;if(this._isRotateZ>0)1===this._isRotateZ?(angle=-this._diffX.value*this._offset,angle*=this.preMouse.y<this._rotateZMargin?-1:1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat)):(angle=-this._diffY.value*this._offset,angle*=this.preMouse.x<this._rotateZMargin?1:-1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat));else{var v=_glMatrix2.default.vec3.clone([this._diffX.value,this._diffY.value,0]),axis=_glMatrix2.default.vec3.create();_glMatrix2.default.vec3.cross(axis,v,this._zAxis),_glMatrix2.default.vec3.normalize(axis,axis),angle=_glMatrix2.default.vec3.length(v)*this._offset,_quat=_glMatrix2.default.quat.clone([Math.sin(angle)*axis[0],Math.sin(angle)*axis[1],Math.sin(angle)*axis[2],Math.cos(angle)]),_glMatrix2.default.quat.multiply(mTempRotation,_quat,mTempRotation)}}},{key:\"_loop\",value:function(){_glMatrix2.default.mat4.identity(this.m),void 0===this._targetQuat?(_glMatrix2.default.quat.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<5e-4?(_glMatrix2.default.quat.copy(this._rotation,this._targetQuat),_glMatrix2.default.quat.copy(this.tempRotation,this._targetQuat),this._targetQuat=void 0,this._diffX.setTo(0),this._diffY.setTo(0),this._slerp=-1):(_glMatrix2.default.quat.set(this.tempRotation,0,0,0,0),_glMatrix2.default.quat.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),_glMatrix2.default.vec3.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),_glMatrix2.default.mat4.fromQuat(this.matrix,this.tempRotation)}},{key:\"easing\",set:function(mValue){this._diffX.easing=mValue,this._diffY.easing=mValue},get:function(){return this._diffX.easing}}]),QuatRotation}();exports.default=QuatRotation},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function distance(a,b){var dx=a.x-b.x,dy=a.y-b.y;return Math.sqrt(dx*dx+dy*dy)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_EventDispatcher2=__webpack_require__(28),_EventDispatcher3=_interopRequireDefault(_EventDispatcher2),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_getMouse=__webpack_require__(62),_getMouse2=_interopRequireDefault(_getMouse),TouchDetector=function(_EventDispatcher){function TouchDetector(mMesh,mCamera){var mSkipMoveCheck=arguments.length>2&&void 0!==arguments[2]&&arguments[2],mListenerTarget=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;_classCallCheck(this,TouchDetector);var _this=_possibleConstructorReturn(this,(TouchDetector.__proto__||Object.getPrototypeOf(TouchDetector)).call(this));return _this._mesh=mMesh,_this._mesh.generateFaces(),_this._camera=mCamera,_this.faceVertices=mMesh.faces.map(function(face){return face.vertices}),_this.clickTolerance=8,_this._ray=new _Ray2.default([0,0,0],[0,0,-1]),_this._hit=vec3.fromValues(-999,-999,-999),_this._lastPos,_this._firstPos,_this.mtxModel=mat4.create(),_this._listenerTarget=mListenerTarget,_this._skippingMove=mSkipMoveCheck,_this._onMoveBind=function(e){return _this._onMove(e)},_this._onDownBind=function(e){return _this._onDown(e)},_this._onUpBind=function(){return _this._onUp()},_this.connect(),_this}return _inherits(TouchDetector,_EventDispatcher),_createClass(TouchDetector,[{key:\"connect\",value:function(){this._listenerTarget.addEventListener(\"mousedown\",this._onDownBind),this._listenerTarget.addEventListener(\"mousemove\",this._onMoveBind),this._listenerTarget.addEventListener(\"mouseup\",this._onUpBind)}},{key:\"disconnect\",value:function(){this._listenerTarget.removeEventListener(\"mousedown\",this._onDownBind),this._listenerTarget.removeEventListener(\"mousemove\",this._onMoveBind),this._listenerTarget.removeEventListener(\"mouseup\",this._onUpBind)}},{key:\"_checkHit\",value:function(){var _this2=this,mType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"onHit\",camera=this._camera;if(camera){var mx=this._lastPos.x/_GLTool2.default.width*2-1,my=-this._lastPos.y/_GLTool2.default.height*2+1;camera.generateRay([mx,my,0],this._ray);for(var hit=void 0,v0=vec3.create(),v1=vec3.create(),v2=vec3.create(),dist=0,getVector=function(v,target){vec3.transformMat4(target,v,_this2.mtxModel)},i=0;i<this.faceVertices.length;i++){var vertices=this.faceVertices[i];getVector(vertices[0],v0),getVector(vertices[1],v1),getVector(vertices[2],v2);var t=this._ray.intersectTriangle(v0,v1,v2);if(t)if(hit){var distToCam=vec3.dist(t,camera.position);distToCam<dist&&(hit=vec3.clone(t),dist=distToCam)}else hit=vec3.clone(t),dist=vec3.dist(hit,camera.position)}hit?(this._hit=vec3.clone(hit),this.dispatchCustomEvent(mType,{hit:hit})):this.dispatchCustomEvent(\"onUp\")}}},{key:\"_onDown\",value:function(e){this._firstPos=(0,_getMouse2.default)(e),this._lastPos=(0,_getMouse2.default)(e),this._checkHit(\"onDown\")}},{key:\"_onMove\",value:function(e){this._lastPos=(0,_getMouse2.default)(e),this._skippingMove||this._checkHit()}},{key:\"_onUp\",value:function(){distance(this._firstPos,this._lastPos)<this.clickTolerance&&this._checkHit()}}]),TouchDetector}(_EventDispatcher3.default);exports.default=TouchDetector},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(e){var x=void 0,y=void 0;return e.touches?(x=e.touches[0].pageX,y=e.touches[0].pageY):(x=e.clientX,y=e.clientY),{x:x,y:y}}},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_CameraPerspective2=__webpack_require__(16),_CameraPerspective3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_CameraPerspective2),_glMatrix=__webpack_require__(1),CAMERA_SETTINGS=[[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(-1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,1,0),_glMatrix.vec3.fromValues(0,0,1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,-1,0),_glMatrix.vec3.fromValues(0,0,-1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,1),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,-1),_glMatrix.vec3.fromValues(0,-1,0)]],CameraCube=function(_CameraPerspective){function CameraCube(){_classCallCheck(this,CameraCube);var _this=_possibleConstructorReturn(this,(CameraCube.__proto__||Object.getPrototypeOf(CameraCube)).call(this));return _this.setPerspective(Math.PI/2,1,.1,1e3),_this}return _inherits(CameraCube,_CameraPerspective),_createClass(CameraCube,[{key:\"face\",value:function(mIndex){var o=CAMERA_SETTINGS[mIndex];this.lookAt(o[0],o[1],o[2])}}]),CameraCube}(_CameraPerspective3.default);exports.default=CameraCube},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_BinaryLoader2=__webpack_require__(17),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),ObjLoader=function(_BinaryLoader){function ObjLoader(){return _classCallCheck(this,ObjLoader),_possibleConstructorReturn(this,(ObjLoader.__proto__||Object.getPrototypeOf(ObjLoader)).apply(this,arguments))}return _inherits(ObjLoader,_BinaryLoader),_createClass(ObjLoader,[{key:\"load\",value:function(url,callback){var drawType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this._drawType=drawType,_get(ObjLoader.prototype.__proto__||Object.getPrototypeOf(ObjLoader.prototype),\"load\",this).call(this,url,callback)}},{key:\"_onLoaded\",value:function(){this.parseObj(this._req.response)}},{key:\"parseObj\",value:function(objStr){function parseVertexIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+vertices.length/3)}function parseNormalIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+normals.length/3)}function parseUVIndex(value){var index=parseInt(value);return 2*(index>=0?index-1:index+uvs.length/2)}function addVertex(a,b,c){positions.push([vertices[a],vertices[a+1],vertices[a+2]]),positions.push([vertices[b],vertices[b+1],vertices[b+2]]),positions.push([vertices[c],vertices[c+1],vertices[c+2]]),indices.push(3*count+0),indices.push(3*count+1),indices.push(3*count+2),count++}function addUV(a,b,c){coords.push([uvs[a],uvs[a+1]]),coords.push([uvs[b],uvs[b+1]]),coords.push([uvs[c],uvs[c+1]])}function addNormal(a,b,c){finalNormals.push([normals[a],normals[a+1],normals[a+2]]),finalNormals.push([normals[b],normals[b+1],normals[b+2]]),finalNormals.push([normals[c],normals[c+1],normals[c+2]])}function addFace(a,b,c,d,ua,ub,uc,ud,na,nb,nc,nd){var ia=parseVertexIndex(a),ib=parseVertexIndex(b),ic=parseVertexIndex(c),id=void 0;void 0===d?addVertex(ia,ib,ic):(id=parseVertexIndex(d),addVertex(ia,ib,id),addVertex(ib,ic,id)),void 0!==ua&&(ia=parseUVIndex(ua),ib=parseUVIndex(ub),ic=parseUVIndex(uc),void 0===d?addUV(ia,ib,ic):(id=parseUVIndex(ud),addUV(ia,ib,id),addUV(ib,ic,id))),void 0!==na&&(ia=parseNormalIndex(na),ib=parseNormalIndex(nb),ic=parseNormalIndex(nc),void 0===d?addNormal(ia,ib,ic):(id=parseNormalIndex(nd),addNormal(ia,ib,id),addNormal(ib,ic,id)))}for(var lines=objStr.split(\"\\n\"),positions=[],coords=[],finalNormals=[],vertices=[],normals=[],uvs=[],indices=[],count=0,result=void 0,vertexPattern=/v( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)/,normalPattern=/vn( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)/,uvPattern=/vt( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)/,facePattern1=/f( +-?\\d+)( +-?\\d+)( +-?\\d+)( +-?\\d+)?/,facePattern2=/f( +(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+))?/,facePattern3=/f( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,facePattern4=/f( +(-?\\d+)\\/\\/(-?\\d+))( +(-?\\d+)\\/\\/(-?\\d+))( +(-?\\d+)\\/\\/(-?\\d+))( +(-?\\d+)\\/\\/(-?\\d+))?/,i=0;i<lines.length;i++){var line=lines[i];line=line.trim(),0!==line.length&&\"#\"!==line.charAt(0)&&(null!==(result=vertexPattern.exec(line))?vertices.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=normalPattern.exec(line))?normals.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=uvPattern.exec(line))?uvs.push(parseFloat(result[1]),parseFloat(result[2])):null!==(result=facePattern1.exec(line))?addFace(result[1],result[2],result[3],result[4]):null!==(result=facePattern2.exec(line))?addFace(result[2],result[5],result[8],result[11],result[3],result[6],result[9],result[12]):null!==(result=facePattern3.exec(line))?addFace(result[2],result[6],result[10],result[14],result[3],result[7],result[11],result[15],result[4],result[8],result[12],result[16]):null!==(result=facePattern4.exec(line))&&addFace(result[2],result[5],result[8],result[11],void 0,void 0,void 0,void 0,result[3],result[6],result[9],result[12]))}return this._generateMeshes({positions:positions,coords:coords,normals:finalNormals,indices:indices})}},{key:\"_generateMeshes\",value:function(o){var hasNormals=o.normals.length>0,hasUVs=o.coords.length>0,mesh=void 0;if(o.positions.length>65535){var meshes=[],lastIndex=0,oCopy={};for(oCopy.positions=o.positions.concat(),oCopy.coords=o.coords.concat(),oCopy.indices=o.indices.concat(),oCopy.normals=o.normals.concat();o.indices.length>0;){for(var sliceNum=Math.min(65535,o.positions.length),indices=o.indices.splice(0,sliceNum),positions=[],coords=[],normals=[],index=void 0,tmpIndex=0,i=0;i<indices.length;i++)indices[i]>tmpIndex&&(tmpIndex=indices[i]),index=indices[i],positions.push(oCopy.positions[index]),hasUVs&&coords.push(oCopy.coords[index]),hasNormals&&normals.push(oCopy.normals[index]),indices[i]-=lastIndex;lastIndex=tmpIndex+1,mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(positions),hasUVs&&mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),hasNormals&&mesh.bufferNormal(normals),meshes.push(mesh)}return this._callback&&this._callback(meshes,oCopy),meshes}return mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(o.positions),hasUVs&&mesh.bufferTexCoord(o.coords),mesh.bufferIndex(o.indices),hasNormals&&mesh.bufferNormal(o.normals),this._callback&&this._callback(mesh,o),mesh}}]),ObjLoader}(_BinaryLoader3.default);ObjLoader.parse=function(objStr){return(new ObjLoader).parseObj(objStr)},exports.default=ObjLoader},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_BinaryLoader2=__webpack_require__(17),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_HDRParser=__webpack_require__(66),_HDRParser2=_interopRequireDefault(_HDRParser),HDRLoader=function(_BinaryLoader){function HDRLoader(){return _classCallCheck(this,HDRLoader),_possibleConstructorReturn(this,(HDRLoader.__proto__||Object.getPrototypeOf(HDRLoader)).call(this,!0))}return _inherits(HDRLoader,_BinaryLoader),_createClass(HDRLoader,[{key:\"parse\",value:function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)}},{key:\"_onLoaded\",value:function(){var o=this.parse(this._req.response);this._callback&&this._callback(o)}}]),HDRLoader}(_BinaryLoader3.default);HDRLoader.parse=function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)},exports.default=HDRLoader},function(module,exports,__webpack_require__){\"use strict\";function readPixelsRawRLE(buffer,data,offset,fileOffset,scanlineWidth,numScanlines){function readBuf(buf){var bytesRead=0;do{buf[bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<buf.length);return bytesRead}function readBufOffset(buf,offset,length){var bytesRead=0;do{buf[offset+bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<length);return bytesRead}for(var rgbe=new Array(4),scanlineBuffer=null,ptr=void 0,ptrEnd=void 0,count=void 0,buf=new Array(2),bufferLength=buffer.length;numScanlines>0;){if(readBuf(rgbe)<rgbe.length)throw new Error(\"Error reading bytes: expected \"+rgbe.length);if(2!==rgbe[0]||2!==rgbe[1]||0!=(128&rgbe[2]))return data[offset++]=rgbe[0],data[offset++]=rgbe[1],data[offset++]=rgbe[2],data[offset++]=rgbe[3],void function(buffer,data,offset,numpixels){var numExpected=4*numpixels,numRead=readBufOffset(data,offset,numExpected);if(numRead<numExpected)throw new Error(\"Error reading raw pixels: got \"+numRead+\" bytes, expected \"+numExpected)}(0,data,offset,scanlineWidth*numScanlines-1);if(((255&rgbe[2])<<8|255&rgbe[3])!==scanlineWidth)throw new Error(\"Wrong scanline width \"+((255&rgbe[2])<<8|255&rgbe[3])+\", expected \"+scanlineWidth);null===scanlineBuffer&&(scanlineBuffer=new Array(4*scanlineWidth)),ptr=0;for(var i=0;i<4;i++)for(ptrEnd=(i+1)*scanlineWidth;ptr<ptrEnd;){if(readBuf(buf)<buf.length)throw new Error(\"Error reading 2-byte buffer\");if((255&buf[0])>128){if(0===(count=(255&buf[0])-128)||count>ptrEnd-ptr)throw new Error(\"Bad scanline data\");for(;count-- >0;)scanlineBuffer[ptr++]=buf[1]}else{if(0===(count=255&buf[0])||count>ptrEnd-ptr)throw new Error(\"Bad scanline data\");if(scanlineBuffer[ptr++]=buf[1],--count>0){if(readBufOffset(scanlineBuffer,ptr,count)<count)throw new Error(\"Error reading non-run data\");ptr+=count}}}for(var _i=0;_i<scanlineWidth;_i++)data[offset+0]=scanlineBuffer[_i],data[offset+1]=scanlineBuffer[_i+scanlineWidth],data[offset+2]=scanlineBuffer[_i+2*scanlineWidth],data[offset+3]=scanlineBuffer[_i+3*scanlineWidth],offset+=4;numScanlines--}}function parseHdr(buffer){buffer instanceof ArrayBuffer&&(buffer=new Uint8Array(buffer));for(var fileOffset=0,bufferLength=buffer.length,NEW_LINE=10,width=0,height=0,exposure=1,rle=!1,i=0;i<20;i++){var line=function(){var buf=\"\";do{var b=buffer[fileOffset];if(b===NEW_LINE){++fileOffset;break}buf+=String.fromCharCode(b)}while(++fileOffset<bufferLength);return buf}(),match=void 0;if(match=line.match(radiancePattern));else if(match=line.match(formatPattern))rle=!0;else if(match=line.match(exposurePattern))exposure=Number(match[1]);else if(match=line.match(commentPattern));else if(match=line.match(widthHeightPattern)){height=Number(match[1]),width=Number(match[2]);break}}if(!rle)throw new Error(\"File is not run length encoded!\");var data=new Uint8Array(width*height*4);readPixelsRawRLE(buffer,data,0,fileOffset,width,height);for(var floatData=new Float32Array(width*height*4),offset=0;offset<data.length;offset+=4){var r=data[offset+0]/255,g=data[offset+1]/255,b=data[offset+2]/255,e=data[offset+3],f=Math.pow(2,e-128);r*=f,g*=f,b*=f;var floatOffset=offset;floatData[floatOffset+0]=r,floatData[floatOffset+1]=g,floatData[floatOffset+2]=b,floatData[floatOffset+3]=1}return{shape:[width,height],exposure:exposure,gamma:1,data:floatData}}Object.defineProperty(exports,\"__esModule\",{value:!0});var radiancePattern=\"#\\\\?RADIANCE\",commentPattern=\"#.*\",exposurePattern=\"EXPOSURE=\\\\s*([0-9]*[.][0-9]*)\",formatPattern=\"FORMAT=32-bit_rle_rgbe\",widthHeightPattern=\"-Y ([0-9]+) \\\\+X ([0-9]+)\";exports.default=parseHdr},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,\"__esModule\",{value:!0});var _colladaParser=__webpack_require__(68),_colladaParser2=_interopRequireDefault(_colladaParser),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),generateMesh=function(meshes){var caches={};meshes.forEach(function(mesh){var _mesh$mesh=mesh.mesh,vertices=_mesh$mesh.vertices,normals=_mesh$mesh.normals,coords=_mesh$mesh.coords,triangles=_mesh$mesh.triangles,name=_mesh$mesh.name;if(!caches[name]){var glMesh=(new _Mesh2.default).bufferFlattenData(vertices,\"aVertexPosition\",3).bufferFlattenData(coords,\"aTextureCoord\",2).bufferFlattenData(normals,\"aNormal\",3).bufferIndex(triangles);caches[name]=glMesh}mesh.glMesh=caches[name]})},parse=function(mData){var meshes=_colladaParser2.default.parse(mData);return generateMesh(meshes),meshes},load=function(mPath,mCallback){_colladaParser2.default.load(mPath,function(meshes){generateMesh(meshes),mCallback(meshes)})},ColladaParser={parse:parse,load:load};exports.default=ColladaParser},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var _Collada=__webpack_require__(69),_Collada2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Collada),_glMatrix=__webpack_require__(1),parseData=function(mData){function getMaterial(id){var mat=void 0;for(var _s in materials)_s===id&&(mat=materials[_s]);var oMaterial={};return mat.diffuse&&(oMaterial.diffuseColor=mat.diffuse),oMaterial.diffuseColor=mat.diffuse||[0,0,0],oMaterial.shininess=mat.shininess||0,mat.textures&&(mat.textures.diffuse&&(oMaterial.diffuseMapID=mat.textures.diffuse.map_id),mat.textures.normal&&(oMaterial.normalMapID=mat.textures.normal.map_id)),oMaterial}function walk(node,mtxParent){var m=_glMatrix.mat4.create();if(node.model?_glMatrix.mat4.multiply(m,mtxParent,node.model):_glMatrix.mat4.copy(m,mtxParent),node.children.length>0&&node.children.forEach(function(child){walk(child,m)}),node.mesh){var _oMesh={};_oMesh.modelMatrix=m,_oMesh.mesh=meshes[node.mesh],_oMesh.id=node.id,_oMesh.name=node.name,_oMesh.material=getMaterial(node.material),meshObjs.push(_oMesh)}}var materials=mData.materials,meshes=mData.meshes,meshObjs=[],allMeshes=[];for(var s in meshes){var oMesh=meshes[s],vertices=oMesh.vertices,normals=oMesh.normals,coords=oMesh.coords,triangles=oMesh.triangles,buffers={vertices:vertices,normals:normals,coords:coords,triangles:triangles};allMeshes.push({id:s,buffers:buffers})}var mtx=_glMatrix.mat4.create();return walk(mData.root,mtx),meshObjs},parse=function(mFile){var o=_Collada2.default.parse(mFile);return parseData(o)},load=function(mPath,mCallBack){_Collada2.default.load(mPath,function(mData){mCallBack(parseData(mData))})},ColladaParser={load:load,parse:parse};exports.default=ColladaParser,module.exports=exports.default},function(module,exports,__webpack_require__){\"use strict\";(function(global){function request(url,callback){var req=new XMLHttpRequest;req.onload=function(){this.response;200==this.status&&callback&&callback(this.response)},req.open(\"get\",url,!0),req.send()}Object.defineProperty(exports,\"__esModule\",{value:!0});var _glMatrix=__webpack_require__(1),isWorker=void 0===global.document,DEG2RAD=2*Math.PI/360,temp_mat4=null,temp_vec2=null,temp_vec3=null,temp_vec4=null,temp_quat=null,Collada={libsPath:\"./\",workerPath:\"./\",no_flip:!0,use_transferables:!0,onerror:null,verbose:!1,config:{forceParser:!1},init:function(config){config=config||{};for(var i in config)this[i]=config[i];if(this.config=config,isWorker)try{importScripts(this.libsPath+\"gl-matrix-min.js\",this.libsPath+\"tinyxml.js\")}catch(err){Collada.throwException(Collada.LIBMISSING_ERROR)}temp_mat4=_glMatrix.mat4.create(),temp_vec2=vec3.create(),temp_vec3=vec3.create(),temp_vec4=vec3.create(),temp_quat=_glMatrix.quat.create(),isWorker&&console.log(\"Collada worker ready\")},load:function(url,callback){request(url,function(data){callback(data?Collada.parse(data):null)})},_xmlroot:null,_nodes_by_id:null,_transferables:null,_controllers_found:null,_geometries_found:null,safeString:function(str){return str?this.convertID?this.convertID(str):str.replace(/ /g,\"_\"):\"\"},LIBMISSING_ERROR:\"Libraries loading error, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath\",NOXMLPARSER_ERROR:\"TinyXML not found, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath (Workers do not allow to access the native XML DOMParser)\",throwException:function(msg){throw isWorker?self.postMessage({action:\"exception\",msg:msg}):Collada.onerror&&Collada.onerror(msg),msg},getFilename:function(filename){var pos=filename.lastIndexOf(\"\\\\\");return-1!=pos&&(filename=filename.substr(pos+1)),pos=filename.lastIndexOf(\"/\"),-1!=pos&&(filename=filename.substr(pos+1)),filename},last_name:0,generateName:function(v){v=v||\"name_\";var name=v+this.last_name;return this.last_name++,name},parse:function(data,options,filename){options=options||{},filename=filename||\"_dae_\"+Date.now()+\".dae\";var xmlparser=null,root=null;if(this._transferables=[],this.verbose&&console.log(\" - XML parsing...\"),global.DOMParser&&!this.config.forceParser)xmlparser=new DOMParser,root=xmlparser.parseFromString(data,\"text/xml\"),this.verbose&&console.log(\" - XML parsed\");else{if(!global.DOMImplementation)return Collada.throwException(Collada.NOXMLPARSER_ERROR);try{xmlparser=new DOMImplementation}catch(err){return Collada.throwException(Collada.NOXMLPARSER_ERROR)}root=xmlparser.loadXML(data),this.verbose&&console.log(\" - XML parsed\");for(var by_ids=root._nodes_by_id={},i=0,l=root.all.length;i<l;++i){var node=root.all[i];by_ids[node.id]=node,node.getAttribute(\"sid\")&&(by_ids[node.getAttribute(\"sid\")]=node)}this.extra_functions||(this.extra_functions=!0,DOMDocument.prototype.querySelector=DOMElement.prototype.querySelector=function(selector){for(var tags=selector.split(\" \"),current_element=this;tags.length;){var current=tags.shift(),tokens=current.split(\"#\"),tagname=tokens[0],id=tokens[1],elements=tagname?current_element.getElementsByTagName(tagname):current_element.childNodes;if(id){for(var i=0;i<elements.length;i++)if(elements.item(i).getAttribute(\"id\")==id){if(0==tags.length)return elements.item(i);current_element=elements.item(i);break}}else{if(0==tags.length)return elements.item(0);current_element=elements.item(0)}}return null},DOMDocument.prototype.querySelectorAll=DOMElement.prototype.querySelectorAll=function(selector){function inner(root,tags){if(tags){var current=tags.shift(),elements=root.getElementsByTagName(current);if(0!=tags.length)for(var i=0;i<elements.length;i++)inner(elements.item(i),tags.concat());else for(var i=0;i<elements.length;i++)result.push(elements.item(i))}}var tags=selector.split(\" \");if(1==tags.length)return this.getElementsByTagName(selector);var result=[];inner(this,tags);var list=new DOMNodeList(this.documentElement);return list._nodes=result,list.length=result.length,list},Object.defineProperty(DOMElement.prototype,\"textContent\",{get:function(){return this.getChildNodes().item(0).toString()},set:function(){}}))}this._xmlroot=root;var xmlcollada=root.querySelector(\"COLLADA\");xmlcollada&&(this._current_DAE_version=xmlcollada.getAttribute(\"version\"),console.log(\"DAE Version:\"+this._current_DAE_version));var xmlvisual_scene=root.getElementsByTagName(\"visual_scene\").item(0);if(!xmlvisual_scene)throw\"visual_scene XML node not found in DAE\";this._nodes_by_id={},this._controllers_found={},this._geometries_found={};var scene={object_type:\"SceneTree\",light:null,materials:{},meshes:{},resources:{},root:{children:[]},external_files:{}},xmlasset=root.getElementsByTagName(\"asset\")[0];xmlasset&&(scene.metadata=this.readAsset(xmlasset));for(var xmlnodes=xmlvisual_scene.childNodes,i=0;i<xmlnodes.length;i++)if(\"node\"==xmlnodes.item(i).localName){var node=this.readNodeTree(xmlnodes.item(i),scene,0,!1);node&&scene.root.children.push(node)}for(var i=0;i<xmlnodes.length;i++)\"node\"==xmlnodes.item(i).localName&&this.readNodeInfo(xmlnodes.item(i),scene,0,!1);this.readLibraryControllers(scene);var animations=this.readAnimations(root,scene);if(animations){var animations_name=\"#animations_\"+filename.substr(0,filename.indexOf(\".\"));scene.resources[animations_name]=animations,scene.root.animations=animations_name}return scene.images=this.readImages(root),this._nodes_by_id={},this._controllers_found={},this._geometries_found={},this._xmlroot=null,scene},readAsset:function(xmlasset){for(var metadata={},i=0;i<xmlasset.childNodes.length;i++){var xmlchild=xmlasset.childNodes.item(i);if(1==xmlchild.nodeType)switch(xmlchild.localName){case\"contributor\":var tool=xmlchild.querySelector(\"authoring_tool\");tool&&(metadata.authoring_tool=tool.textContext);break;case\"unit\":metadata.unit=xmlchild.getAttribute(\"name\");break;default:metadata[xmlchild.localName]=xmlchild.textContent}}return metadata},readNodeTree:function(xmlnode,scene,level,flip){var node_id=this.safeString(xmlnode.getAttribute(\"id\")),node_sid=this.safeString(xmlnode.getAttribute(\"sid\"));if(!node_id&&!node_sid)return null;var node={id:node_sid||node_id,children:[],_depth:level},node_type=xmlnode.getAttribute(\"type\");node_type&&(node.type=node_type);var node_name=xmlnode.getAttribute(\"name\");node_name&&(node.name=node_name),this._nodes_by_id[node.id]=node,node_id&&(this._nodes_by_id[node_id]=node),node_sid&&(this._nodes_by_id[node_sid]=node),node.model=this.readTransform(xmlnode,level,flip);for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if(\"node\"!=xmlchild.localName);else{var child_node=this.readNodeTree(xmlchild,scene,level+1,flip);child_node&&node.children.push(child_node)}}return node},readNodeInfo:function(xmlnode,scene,level,flip,parent){var node,node_id=this.safeString(xmlnode.getAttribute(\"id\")),node_sid=this.safeString(xmlnode.getAttribute(\"sid\"));if(node_id||node_sid)node=this._nodes_by_id[node_id||node_sid];else{if(!parent)return null;node=this._nodes_by_id[parent.id||parent.sid]}if(!node)return console.warn(\"Collada: Node not found by id: \"+(node_id||node_sid)),null;for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if(\"node\"!=xmlchild.localName){if(\"instance_geometry\"==xmlchild.localName){var url=xmlchild.getAttribute(\"url\"),mesh_id=url.toString().substr(1);if(node.mesh=mesh_id,!scene.meshes[url]){var mesh_data=this.readGeometry(url,flip);mesh_data&&(mesh_data.name=mesh_id,scene.meshes[mesh_id]=mesh_data)}var xmlmaterials=xmlchild.querySelectorAll(\"instance_material\");if(xmlmaterials)for(var iMat=0;iMat<xmlmaterials.length;++iMat){var xmlmaterial=xmlmaterials.item(iMat);if(xmlmaterial){var matname=xmlmaterial.getAttribute(\"target\").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}else console.warn(\"instance_material not found: \"+i)}}if(\"instance_controller\"==xmlchild.localName){var url=xmlchild.getAttribute(\"url\"),xmlcontroller=this._xmlroot.querySelector(\"controller\"+url);if(xmlcontroller){var mesh_data=this.readController(xmlcontroller,flip,scene),xmlbind_material=xmlchild.querySelector(\"bind_material\");if(xmlbind_material)for(var xmltechniques=xmlbind_material.querySelectorAll(\"technique_common\"),iTec=0;iTec<xmltechniques.length;iTec++)for(var xmltechnique=xmltechniques.item(iTec),xmlinstance_materials=xmltechnique.querySelectorAll(\"instance_material\"),iMat=0;iMat<xmlinstance_materials.length;iMat++){var xmlinstance_material=xmlinstance_materials.item(iMat);if(xmlinstance_material){var matname=xmlinstance_material.getAttribute(\"target\").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}else console.warn(\"instance_material for controller not found: \"+xmlinstance_material)}if(mesh_data){var mesh=mesh_data;\"morph\"==mesh_data.type&&(mesh=mesh_data.mesh,node.morph_targets=mesh_data.morph_targets),mesh.name=url.toString(),node.mesh=url.toString(),scene.meshes[url]=mesh}}}if(\"instance_light\"==xmlchild.localName){var url=xmlchild.getAttribute(\"url\");this.readLight(node,url)}if(\"instance_camera\"==xmlchild.localName){var url=xmlchild.getAttribute(\"url\");this.readCamera(node,url)}}else this.readNodeInfo(xmlchild,scene,level+1,flip,xmlnode)}},material_translate_table:{},light_translate_table:{point:\"omni\",directional:\"directional\",spot:\"spot\"},camera_translate_table:{xfov:\"fov\",aspect_ratio:\"aspect\",znear:\"near\",zfar:\"far\"},querySelectorAndId:function(root,selector,id){for(var nodes=root.querySelectorAll(selector),i=0;i<nodes.length;i++){var attr_id=nodes.item(i).getAttribute(\"id\");if(attr_id&&(attr_id=attr_id.toString())==id)return nodes.item(i)}return null},getFirstChildElement:function(root,localName){for(var c=root.childNodes,i=0;i<c.length;++i){var item=c.item(i);if(item.localName&&!localName||localName&&localName==item.localName)return item}return null},readMaterial:function(url){var xmlmaterial=this.querySelectorAndId(this._xmlroot,\"library_materials material\",url);if(!xmlmaterial)return null;var xmleffect=xmlmaterial.querySelector(\"instance_effect\");if(!xmleffect)return null;var effect_url=xmleffect.getAttribute(\"url\").substr(1),xmleffects=this.querySelectorAndId(this._xmlroot,\"library_effects effect\",effect_url);if(!xmleffects)return null;var xmltechnique=xmleffects.querySelector(\"technique\");if(!xmltechnique)return null;for(var xmlnewparams=xmleffects.querySelectorAll(\"newparam\"),newparams={},i=0;i<xmlnewparams.length;i++){var parent,init_from=xmlnewparams[i].querySelector(\"init_from\");if(init_from)parent=init_from.innerHTML;else{parent=xmlnewparams[i].querySelector(\"source\").innerHTML}newparams[xmlnewparams[i].getAttribute(\"sid\")]={parent:parent}}var material={},images=this.readImages(this._xmlroot),xmlphong=xmltechnique.querySelector(\"phong\");if(xmlphong||(xmlphong=xmltechnique.querySelector(\"blinn\")),xmlphong||(xmlphong=xmltechnique.querySelector(\"lambert\")),!xmlphong)return null;for(var i=0;i<xmlphong.childNodes.length;++i){var xmlparam=xmlphong.childNodes.item(i);if(xmlparam.localName){var param_name=xmlparam.localName.toString();this.material_translate_table[param_name]&&(param_name=this.material_translate_table[param_name]);var xmlparam_value=this.getFirstChildElement(xmlparam);if(xmlparam_value)if(\"color\"!=xmlparam_value.localName.toString())if(\"float\"!=xmlparam_value.localName.toString()){if(\"texture\"==xmlparam_value.localName.toString()){material.textures||(material.textures={});var map_id=xmlparam_value.getAttribute(\"texture\");if(!map_id)continue;-1===map_id.indexOf(\".\")&&(map_id=this.getParentParam(newparams,map_id),images[map_id]&&(map_id=images[map_id].path));var map_info={map_id:map_id},uvs=xmlparam_value.getAttribute(\"texcoord\");map_info.uvs=uvs,material.textures[param_name]=map_info}}else material[param_name]=this.readContentAsFloats(xmlparam_value)[0];else{var value=this.readContentAsFloats(xmlparam_value);\"RGB_ZERO\"==xmlparam.getAttribute(\"opaque\")?material[param_name]=value.subarray(0,4):material[param_name]=value.subarray(0,3)}}}return material.object_type=\"Material\",material},getParentParam:function(newparams,param){return newparams[param]&&newparams[param].parent?this.getParentParam(newparams,newparams[param].parent):param},readLight:function(node,url){function parse_params(light,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);if(child&&1==child.nodeType)switch(child.localName){case\"color\":light.color=Collada.readContentAsFloats(child);break;case\"falloff_angle\":light.angle_end=Collada.readContentAsFloats(child)[0],light.angle=light.angle_end-10}}}var light={},xmlnode=null;if(url.length>1)xmlnode=this._xmlroot.querySelector(\"library_lights \"+url);else{var xmlliblights=this._xmlroot.querySelector(\"library_lights\");xmlnode=this.getFirstChildElement(xmlliblights,\"light\")}if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector(\"technique_common\");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var xmls=xmlnode.querySelectorAll(\"technique\"),i=0;i<xmls.length;i++)for(var xml2=xmls.item(i),j=0;j<xml2.childNodes.length;j++)1==xml2.childNodes.item(j).nodeType&&children.push(xml2.childNodes.item(j));for(var i=0;i<children.length;i++){var xml=children[i];switch(xml.localName){case\"point\":case\"directional\":case\"spot\":light.type=this.light_translate_table[xml.localName],parse_params(light,xml);break;case\"intensity\":light.intensity=this.readContentAsFloats(xml)[0]}}if(node.model){light.position=[node.model[12],node.model[13],node.model[14]];var forward=[-node.model[8],-node.model[9],-node.model[10]];light.target=[light.position[0]+forward[0],light.position[1]+forward[1],light.position[2]+forward[2]]}else console.warn(\"Could not read light position for light: \"+node.name+\". Setting defaults.\"),light.position=[0,0,0],light.target=[0,-1,0];node.light=light},readCamera:function(node,url){var camera={},xmlnode=this._xmlroot.querySelector(\"library_cameras \"+url);if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector(\"technique_common\");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var i=0;i<children.length;i++){var tag=children[i];!function(camera,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);child&&1==child.nodeType&&(camera[Collada.camera_translate_table[child.localName]||child.localName]=parseFloat(child.textContent))}}(camera,tag)}camera.yfov&&!camera.fov&&(camera.aspect?camera.fov=camera.yfov*camera.aspect:console.warn(\"Could not convert camera yfov to xfov because aspect ratio not set\")),node.camera=camera},readTransform:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),temp=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if(xml&&1==xml.nodeType){if(\"matrix\"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if(\"translate\"!=xml.localName)if(\"rotate\"!=xml.localName){if(\"scale\"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.scale(matrix,matrix,values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute(\"sid\");if(\"jointOrientX\"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.mat4.fromQuat(temp,tmpq),_glMatrix.mat4.multiply(matrix,matrix,temp))}}else{var values=this.readContentAsFloats(xml);if(flip&&level>0){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.translate(matrix,matrix,values)}}}return matrix},readTransform2:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),rotation=_glMatrix.quat.create(),tmpmatrix=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),translate=vec3.create(),scale=vec3.fromValues(1,1,1),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if(\"matrix\"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if(\"translate\"!=xml.localName)if(\"rotate\"!=xml.localName){if(\"scale\"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}scale.set(values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute(\"sid\");if(\"jointOrientX\"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.quat.multiply(rotation,rotation,tmpq))}}else{var values=this.readContentAsFloats(xml);translate.set(values)}}if(flip&&level>0){var tmp=translate[1];translate[1]=translate[2],translate[2]=-tmp}return _glMatrix.mat4.translate(matrix,matrix,translate),_glMatrix.mat4.fromQuat(tmpmatrix,rotation),_glMatrix.mat4.multiply(matrix,matrix,tmpmatrix),_glMatrix.mat4.scale(matrix,matrix,scale),matrix},readGeometry:function(id,flip,scene){if(void 0!==this._geometries_found[id])return this._geometries_found[id];var xmlgeometry=this._xmlroot.getElementById(id.substr(1));if(!xmlgeometry)return console.warn(\"readGeometry: geometry not found: \"+id),this._geometries_found[id]=null,null;if(\"controller\"==xmlgeometry.localName){var geometry=this.readController(xmlgeometry,flip,scene);return this._geometries_found[id]=geometry,geometry}if(\"geometry\"!=xmlgeometry.localName)return console.warn(\"readGeometry: tag should be geometry, instead it was found: \"+xmlgeometry.localName),this._geometries_found[id]=null,null;var xmlmesh=xmlgeometry.querySelector(\"mesh\");if(!xmlmesh)return console.warn(\"readGeometry: mesh not found in geometry: \"+id),this._geometries_found[id]=null,null;for(var sources={},xmlsources=xmlmesh.querySelectorAll(\"source\"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){var float_array=xmlsource.querySelector(\"float_array\");if(float_array){var floats=this.readContentAsFloats(float_array),xmlaccessor=xmlsource.querySelector(\"accessor\"),stride=parseInt(xmlaccessor.getAttribute(\"stride\"));sources[xmlsource.getAttribute(\"id\")]={stride:stride,data:floats}}}}var xmlvertices=xmlmesh.querySelector(\"vertices input\"),vertices_source=sources[xmlvertices.getAttribute(\"source\").substr(1)];sources[xmlmesh.querySelector(\"vertices\").getAttribute(\"id\")]=vertices_source;var mesh=null,xmlpolygons=xmlmesh.querySelector(\"polygons\");if(xmlpolygons&&(mesh=this.readTriangles(xmlpolygons,sources)),!mesh){var xmltriangles=xmlmesh.querySelectorAll(\"triangles\");xmltriangles&&xmltriangles.length&&(mesh=this.readTriangles(xmltriangles,sources))}if(!mesh){var xmlpolylist=xmlmesh.querySelector(\"polylist\");xmlpolylist&&(mesh=this.readPolylist(xmlpolylist,sources))}if(!mesh){var xmllinestrip=xmlmesh.querySelector(\"linestrips\");xmllinestrip&&(mesh=this.readLineStrip(sources,xmllinestrip))}if(!mesh)return console.log(\"no polygons or triangles in mesh: \"+id),this._geometries_found[id]=null,null;if(flip&&!this.no_flip){for(var tmp=0,array=mesh.vertices,i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp;array=mesh.normals;for(var i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp}if(isWorker&&this.use_transferables)for(var i in mesh){var data=mesh[i];data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return mesh.filename=id,mesh.object_type=\"Mesh\",this._geometries_found[id]=mesh,mesh},readTriangles:function(xmltriangles,sources){for(var groups=[],buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],last_start=0,material_name=\"\",tris=0;tris<xmltriangles.length;tris++){var xml_shape_root=xmltriangles.item(tris),triangles=\"triangles\"==xml_shape_root.localName;material_name=xml_shape_root.getAttribute(\"material\"),0==tris&&(buffers=this.readShapeInputs(xml_shape_root,sources));for(var xmlps=xml_shape_root.querySelectorAll(\"p\"),i=(buffers.length,0);i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;var data=xmlp.textContent.trim().split(\" \"),first_index=-1,current_index=-1,prev_index=-1,num_values_per_vertex=1;for(var b in buffers)num_values_per_vertex=Math.max(num_values_per_vertex,buffers[b][4]+1);for(var k=0,l=data.length;k<l;k+=num_values_per_vertex){var vertex_id=data.slice(k,k+num_values_per_vertex).join(\" \");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],array=buffer[1],source=buffer[3],index=parseInt(data[k+buffer[4]]);0==j&&(vertex_remap[array.length/buffer[2]]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x){if(void 0===source[index+x])throw\"UNDEFINED!\";array.push(source[index+x])}}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}triangles||(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index)}}var group={name:\"group\"+tris,start:last_start,length:indicesArray.length-last_start,material:material_name||\"\"};last_start=indicesArray.length,groups.push(group)}var mesh={vertices:new Float32Array(buffers[0][1]),info:{groups:groups},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readPolylist:function(xml_shape_root,sources){var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[];xml_shape_root.getAttribute(\"material\"),buffers=this.readShapeInputs(xml_shape_root,sources);for(var xmlvcount=xml_shape_root.querySelector(\"vcount\"),vcount=this.readContentAsUInt32(xmlvcount),xmlp=xml_shape_root.querySelector(\"p\"),data=this.readContentAsUInt32(xmlp),num_data_vertex=buffers.length,pos=0,i=0,l=vcount.length;i<l;++i)for(var num_vertices=vcount[i],first_index=-1,current_index=-1,prev_index=-1,k=0;k<num_vertices;++k){var vertex_id=data.subarray(pos,pos+num_data_vertex).join(\" \");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[pos+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}num_vertices>3&&(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index),pos+=num_data_vertex}var mesh={vertices:new Float32Array(buffers[0][1]),info:{},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readShapeInputs:function(xml_shape_root,sources){for(var buffers=[],xmlinputs=xml_shape_root.querySelectorAll(\"input\"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute(\"semantic\").toUpperCase(),stream_source=sources[xmlinput.getAttribute(\"source\").substr(1)],offset=parseInt(xmlinput.getAttribute(\"offset\")),data_set=0;xmlinput.getAttribute(\"set\")&&(data_set=parseInt(xmlinput.getAttribute(\"set\"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}return buffers},transformMeshInfo:function(mesh,buffers,indicesArray){for(var translator={normal:\"normals\",texcoord:\"coords\"},i=1;i<buffers.length;++i){var name=buffers[i][0].toLowerCase(),data=buffers[i][1];data.length&&(translator[name]&&(name=translator[name]),mesh[name]&&(name+=buffers[i][5]),mesh[name]=new Float32Array(data))}return indicesArray&&indicesArray.length&&(mesh.vertices.length>65536?mesh.triangles=new Uint32Array(indicesArray):mesh.triangles=new Uint16Array(indicesArray)),mesh},readLineStrip:function(sources,xmllinestrip){for(var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],xmlinputs=xmllinestrip.querySelectorAll(\"input\"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute(\"semantic\").toUpperCase(),stream_source=sources[xmlinput.getAttribute(\"source\").substr(1)],offset=parseInt(xmlinput.getAttribute(\"offset\")),data_set=0;xmlinput.getAttribute(\"set\")&&(data_set=parseInt(xmlinput.getAttribute(\"set\"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}for(var xmlps=xmllinestrip.querySelectorAll(\"p\"),num_data_vertex=buffers.length,i=0;i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;for(var data=xmlp.textContent.trim().split(\" \"),current_index=-1,k=0,l=data.length;k<l;k+=num_data_vertex){var vertex_id=data.slice(k,k+num_data_vertex).join(\" \");if(current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[k+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}indicesArray.push(current_index)}}var mesh={primitive:\"line_strip\",vertices:new Float32Array(buffers[0][1]),info:{}};return this.transformMeshInfo(mesh,buffers,indicesArray)},findXMLNodeById:function(root,nodename,id){if(this._xmlroot._nodes_by_id){var n=this._xmlroot._nodes_by_id[id];if(n&&n.localName==nodename)return n}else{var n=this._xmlroot.getElementById(id);if(n)return n}for(var childs=root.childNodes,i=0;i<childs.length;++i){var xmlnode=childs.item(i);if(1==xmlnode.nodeType&&xmlnode.localName==nodename){if(xmlnode.getAttribute(\"id\")==id)return xmlnode}}return null},readImages:function(root){var xmlimages=root.querySelector(\"library_images\");if(!xmlimages)return null;for(var images={},xmlimages_childs=xmlimages.childNodes,i=0;i<xmlimages_childs.length;++i){var xmlimage=xmlimages_childs.item(i);if(1==xmlimage.nodeType){var xmlinitfrom=xmlimage.querySelector(\"init_from\");if(xmlinitfrom&&xmlinitfrom.textContent){var filename=this.getFilename(xmlinitfrom.textContent),id=xmlimage.getAttribute(\"id\");images[id]={filename:filename,map:id,name:xmlimage.getAttribute(\"name\"),path:xmlinitfrom.textContent}}}}return images},readAnimations:function(root,scene){var xmlanimations=root.querySelector(\"library_animations\");if(!xmlanimations)return null;for(var xmlanimation_childs=xmlanimations.childNodes,animations={object_type:\"Animation\",takes:{}},default_take={tracks:[]},tracks=default_take.tracks,i=0;i<xmlanimation_childs.length;++i){var xmlanimation=xmlanimation_childs.item(i);if(1==xmlanimation.nodeType&&\"animation\"==xmlanimation.localName){if(xmlanimation.getAttribute(\"id\"))this.readAnimation(xmlanimation,tracks);else{var xmlanimation2_childs=xmlanimation.querySelectorAll(\"animation\");if(xmlanimation2_childs.length)for(var j=0;j<xmlanimation2_childs.length;++j){var xmlanimation2=xmlanimation2_childs.item(j);this.readAnimation(xmlanimation2,tracks)}else this.readAnimation(xmlanimation,tracks)}}}if(!tracks.length)return null;for(var max_time=0,i=0;i<tracks.length;++i)max_time<tracks[i].duration&&(max_time=tracks[i].duration);return default_take.name=\"default\",default_take.duration=max_time,animations.takes[default_take.name]=default_take,animations},readAnimation:function(xmlanimation,result){if(\"animation\"!=xmlanimation.localName)return null;var xmlchannel_list=(xmlanimation.getAttribute(\"id\"),xmlanimation.querySelectorAll(\"channel\"));if(!xmlchannel_list.length)return null;for(var tracks=result||[],i=0;i<xmlchannel_list.length;++i){var anim=this.readChannel(xmlchannel_list.item(i),xmlanimation);anim&&tracks.push(anim)}return tracks},readChannel:function(xmlchannel,xmlanimation){if(\"channel\"!=xmlchannel.localName||\"animation\"!=xmlanimation.localName)return null;var source=xmlchannel.getAttribute(\"source\"),target=xmlchannel.getAttribute(\"target\"),xmlsampler=this.findXMLNodeById(xmlanimation,\"sampler\",source.substr(1));if(!xmlsampler)return console.error(\"Error DAE: Sampler not found in \"+source),null;for(var inputs={},params={},sources={},xmlinputs=xmlsampler.querySelectorAll(\"input\"),time_data=null,j=0;j<xmlinputs.length;j++){var xmlinput=xmlinputs.item(j),source_name=xmlinput.getAttribute(\"source\"),semantic=xmlinput.getAttribute(\"semantic\"),xmlsource=this.findXMLNodeById(xmlanimation,\"source\",source_name.substr(1));if(xmlsource){var xmlparam=xmlsource.querySelector(\"param\");if(xmlparam){var type=xmlparam.getAttribute(\"type\");inputs[semantic]={source:source_name,type:type};var data_array=null;if(\"float\"==type||\"float4x4\"==type){var xmlfloatarray=xmlsource.querySelector(\"float_array\"),floats=this.readContentAsFloats(xmlfloatarray);sources[source_name]=floats,data_array=floats;var param_name=xmlparam.getAttribute(\"name\");\"TIME\"==param_name&&(time_data=data_array),\"OUTPUT\"==semantic&&(param_name=semantic),param_name?params[param_name]=type:console.warn(\"Collada: <param> without name attribute in <animation>\")}}}}if(!time_data)return console.error(\"Error DAE: no TIME info found in <channel>: \"+xmlchannel.getAttribute(\"source\")),null;var path=target.split(\"/\"),anim={},nodename=path[0],node=this._nodes_by_id[nodename],locator=node.id+\"/\"+path[1];anim.name=path[1],anim.property=locator;var type=\"number\",element_size=1,param_type=params.OUTPUT;switch(param_type){case\"float\":element_size=1;break;case\"float3x3\":element_size=9,type=\"mat3\";break;case\"float4x4\":element_size=16,type=\"mat4\"}anim.type=type,anim.value_size=element_size,anim.duration=time_data[time_data.length-1];var value_data=sources[inputs.OUTPUT.source];if(!value_data)return null;for(var num_samples=time_data.length,sample_size=element_size+1,anim_data=new Float32Array(num_samples*sample_size),j=0;j<time_data.length;++j){anim_data[j*sample_size]=time_data[j];var value=value_data.subarray(j*element_size,(j+1)*element_size);\"float4x4\"==param_type&&this.transformMatrix(value,node?0==node._depth:0),anim_data.set(value,j*sample_size+1)}if(isWorker&&this.use_transferables){var data=anim_data;data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return anim.data=anim_data,anim},findNode:function(root,id){if(root.id==id)return root;if(root.children)for(var i in root.children){var ret=this.findNode(root.children[i],id);if(ret)return ret}return null},readLibraryControllers:function(scene){var xmllibrarycontrollers=this._xmlroot.querySelector(\"library_controllers\");if(!xmllibrarycontrollers)return null;for(var xmllibrarycontrollers_childs=xmllibrarycontrollers.childNodes,i=0;i<xmllibrarycontrollers_childs.length;++i){var xmlcontroller=xmllibrarycontrollers_childs.item(i);if(1==xmlcontroller.nodeType&&\"controller\"==xmlcontroller.localName){var id=xmlcontroller.getAttribute(\"id\");this._controllers_found[id]||this.readController(xmlcontroller,null,scene)}}},readController:function(xmlcontroller,flip,scene){if(\"controller\"==!xmlcontroller.localName)return console.warn(\"readController: not a controller: \"+xmlcontroller.localName),null;var id=xmlcontroller.getAttribute(\"id\");if(this._controllers_found[id])return this._controllers_found[id];var mesh=null,xmlskin=xmlcontroller.querySelector(\"skin\");xmlskin&&(mesh=this.readSkinController(xmlskin,flip,scene));var xmlmorph=xmlcontroller.querySelector(\"morph\");return xmlmorph&&(mesh=this.readMorphController(xmlmorph,flip,scene,mesh)),this._controllers_found[id]?id+=\"_1blah\":this._controllers_found[id]=mesh,mesh},readSkinController:function(xmlskin,flip,scene){var id_geometry=xmlskin.getAttribute(\"source\"),mesh=this.readGeometry(id_geometry,flip,scene);if(!mesh)return null;var sources=this.readSources(xmlskin,flip);if(!sources)return null;var bind_matrix=null,xmlbindmatrix=xmlskin.querySelector(\"bind_shape_matrix\");xmlbindmatrix?(bind_matrix=this.readContentAsFloats(xmlbindmatrix),this.transformMatrix(bind_matrix,!0,!0)):bind_matrix=_glMatrix.mat4.create();var joints=[],xmljoints=xmlskin.querySelector(\"joints\");if(xmljoints){for(var joints_source=null,inv_bind_source=null,xmlinputs=xmljoints.querySelectorAll(\"input\"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs[i],sem=xmlinput.getAttribute(\"semantic\").toUpperCase(),src=xmlinput.getAttribute(\"source\"),source=sources[src.substr(1)];\"JOINT\"==sem?joints_source=source:\"INV_BIND_MATRIX\"==sem&&(inv_bind_source=source)}if(!inv_bind_source||!joints_source)return console.error(\"Error DAE: no joints or inv_bind sources found\"),null;for(var i in joints_source){var inv_mat=inv_bind_source.subarray(16*i,16*i+16),nodename=joints_source[i],node=this._nodes_by_id[nodename];node?(this.transformMatrix(inv_mat,0==node._depth,!0),joints.push([nodename,inv_mat])):console.warn(\"Node \"+nodename+\" not found\")}}var xmlvertexweights=xmlskin.querySelector(\"vertex_weights\");if(xmlvertexweights){for(var weights_indexed_array=null,xmlinputs=xmlvertexweights.querySelectorAll(\"input\"),i=0;i<xmlinputs.length;i++)\"WEIGHT\"==xmlinputs[i].getAttribute(\"semantic\").toUpperCase()&&(weights_indexed_array=sources[xmlinputs.item(i).getAttribute(\"source\").substr(1)]);if(!weights_indexed_array)throw\"no weights found\";for(var xmlvcount=xmlvertexweights.querySelector(\"vcount\"),vcount=this.readContentAsUInt32(xmlvcount),xmlv=xmlvertexweights.querySelector(\"v\"),v=this.readContentAsUInt32(xmlv),num_vertices=mesh.vertices.length/3,weights_array=new Float32Array(4*num_vertices),bone_index_array=new Uint8Array(4*num_vertices),pos=0,remap=mesh._remap,max_bone=0,i=0,l=vcount.length;i<l;++i){for(var num_bones=vcount[i],offset=pos,b=bone_index_array.subarray(4*i,4*i+4),w=weights_array.subarray(4*i,4*i+4),sum=0,j=0;j<num_bones&&j<4;++j)b[j]=v[offset+2*j],b[j]>max_bone&&(max_bone=b[j]),w[j]=weights_indexed_array[v[offset+2*j+1]],sum+=w[j];if(num_bones>4&&sum<1)for(var inv_sum=1/sum,j=0;j<4;++j)w[j]*=inv_sum;pos+=2*num_bones}for(var final_weights=new Float32Array(4*num_vertices),final_bone_indices=new Uint8Array(4*num_vertices),used_joints=[],i=0;i<num_vertices;++i){for(var p=4*remap[i],w=weights_array.subarray(p,p+4),b=bone_index_array.subarray(p,p+4),k=0;k<3;++k){for(var max_pos=k,max_value=w[k],j=k+1;j<4;++j)w[j]<=max_value||(max_pos=j,max_value=w[j]);if(max_pos!=k){var tmp=w[k];w[k]=w[max_pos],w[max_pos]=tmp,tmp=b[k],b[k]=b[max_pos],b[max_pos]=tmp}}final_weights.set(w,4*i),final_bone_indices.set(b,4*i),w[0]&&(used_joints[b[0]]=!0),w[1]&&(used_joints[b[1]]=!0),w[2]&&(used_joints[b[2]]=!0),w[3]&&(used_joints[b[3]]=!0)}max_bone>=joints.length&&console.warn(\"Mesh uses higher bone index than bones found\");for(var new_bones=[],bones_translation={},i=0;i<used_joints.length;++i)used_joints[i]&&(bones_translation[i]=new_bones.length,new_bones.push(joints[i]));if(new_bones.length<joints.length){for(var i=0;i<final_bone_indices.length;i++)final_bone_indices[i]=bones_translation[final_bone_indices[i]];joints=new_bones}mesh.weights=final_weights,mesh.bone_indices=final_bone_indices,mesh.bones=joints,mesh.bind_matrix=bind_matrix}return mesh},readMorphController:function(xmlmorph,flip,scene,mesh){var id_geometry=xmlmorph.getAttribute(\"source\"),base_mesh=this.readGeometry(id_geometry,flip,scene);if(!base_mesh)return null;var sources=this.readSources(xmlmorph,flip),morphs=[],xmltargets=xmlmorph.querySelector(\"targets\");if(!xmltargets)return null;for(var xmlinputs=xmltargets.querySelectorAll(\"input\"),targets=null,weights=null,i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i),semantic=xmlinput.getAttribute(\"semantic\").toUpperCase(),data=sources[xmlinput.getAttribute(\"source\").substr(1)];\"MORPH_TARGET\"==semantic?targets=data:\"MORPH_WEIGHT\"==semantic&&(weights=data)}if(!targets||!weights)return console.warn(\"Morph controller without targets or weights. Skipping it.\"),null;for(var i in targets){var id=\"#\"+targets[i],geometry=this.readGeometry(id,flip,scene);scene.meshes[id]=geometry,morphs.push({mesh:id,weight:weights[i]})}return base_mesh.morph_targets=morphs,base_mesh},readBindMaterials:function(xmlbind_material,mesh){for(var materials=[],xmltechniques=xmlbind_material.querySelectorAll(\"technique_common\"),i=0;i<xmltechniques.length;i++)for(var xmltechnique=xmltechniques.item(i),xmlinstance_materials=xmltechnique.querySelectorAll(\"instance_material\"),j=0;j<xmlinstance_materials.length;j++){var xmlinstance_material=xmlinstance_materials.item(j);xmlinstance_material&&materials.push(xmlinstance_material.getAttribute(\"symbol\"))}return materials},readSources:function(xmlnode,flip){for(var sources={},xmlsources=xmlnode.querySelectorAll(\"source\"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){if(xmlsource.querySelector(\"float_array\")){var floats=this.readContentAsFloats(xmlsource);sources[xmlsource.getAttribute(\"id\")]=floats}else{var name_array=xmlsource.querySelector(\"Name_array\");if(name_array){var names=this.readContentAsStringsArray(name_array);if(!names)continue;sources[xmlsource.getAttribute(\"id\")]=names}else{var ref_array=xmlsource.querySelector(\"IDREF_array\");if(ref_array){var names=this.readContentAsStringsArray(ref_array);if(!names)continue;sources[xmlsource.getAttribute(\"id\")]=names}else;}}}}return sources},readContentAsUInt32:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;if(text=text.replace(/\\n/gi,\" \"),text=text.trim(),0==text.length)return null;for(var numbers=text.split(\" \"),floats=new Uint32Array(numbers.length),k=0;k<numbers.length;k++)floats[k]=parseInt(numbers[k]);return floats},readContentAsFloats:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\\n/gi,\" \"),text=text.replace(/\\s\\s+/gi,\" \"),text=text.replace(/\\t/gi,\"\"),text=text.trim();for(var numbers=text.split(\" \"),count=xmlnode.getAttribute(\"count\"),length=count?parseInt(count):numbers.length,floats=new Float32Array(length),k=0;k<numbers.length;k++)floats[k]=parseFloat(numbers[k]);return floats},readContentAsStringsArray:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\\n/gi,\" \"),text=text.replace(/\\s\\s/gi,\" \"),text=text.trim();for(var words=text.split(\" \"),k=0;k<words.length;k++)words[k]=words[k].trim();if(xmlnode.getAttribute(\"count\")&&parseInt(xmlnode.getAttribute(\"count\"))!=words.length){var merged_words=[],name=\"\";for(var i in words)name?name+=\" \"+words[i]:name=words[i],this._nodes_by_id[this.safeString(name)]&&(merged_words.push(this.safeString(name)),name=\"\");var count=parseInt(xmlnode.getAttribute(\"count\"));return merged_words.length==count?merged_words:(console.error(\"Error: bone names have spaces, avoid using spaces in names\"),null)}return words},max3d_matrix_0:new Float32Array([0,-1,0,0,0,0,-1,0,1,0,0,-0,0,0,0,1]),transformMatrix:function(matrix,first_level,inverted){if(_glMatrix.mat4.transpose(matrix,matrix),this.no_flip)return matrix;if(first_level){var temp=new Float32Array(matrix.subarray(4,8));matrix.set(matrix.subarray(8,12),4),matrix.set(temp,8),temp=matrix.subarray(8,12),vec4.scale(temp,temp,-1)}else{var M=_glMatrix.mat4.create(),m=matrix;M.set([m[0],m[2],-m[1]],0),M.set([m[8],m[10],-m[9]],4),M.set([-m[4],-m[6],m[5]],8),M.set([m[12],m[14],-m[13]],12),m.set(M)}return matrix}};exports.default=Collada,module.exports=exports.default}).call(exports,__webpack_require__(70))},function(module,exports,__webpack_require__){\"use strict\";var g,_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};g=function(){return this}();try{g=g||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"===(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Pass=__webpack_require__(9),_GLTool=(_interopRequireDefault(_Pass),__webpack_require__(0)),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),EffectComposer=function(){function EffectComposer(mWidth,mHeight){arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,EffectComposer),this._width=mWidth||_GLTool2.default.width,this._height=mHeight||_GLTool2.default.height,this._params={},this.setSize(mWidth,mHeight),this._mesh=_Geom2.default.bigTriangle(),this._passes=[],this._returnTexture}return _createClass(EffectComposer,[{key:\"addPass\",value:function(pass){if(pass.passes)return void this.addPass(pass.passes);if(pass.length)for(var i=0;i<pass.length;i++)this._passes.push(pass[i]);else this._passes.push(pass)}},{key:\"render\",value:function(mSource){var _this=this,source=mSource,fboTarget=void 0;return this._passes.forEach(function(pass){fboTarget=pass.hasFbo?pass.fbo:_this._fboTarget,fboTarget.bind(),_GLTool2.default.clear(0,0,0,0),pass.render(source),_GLTool2.default.draw(_this._mesh),fboTarget.unbind(),pass.hasFbo?source=pass.fbo.getTexture():(_this._swap(),source=_this._fboCurrent.getTexture())}),this._returnTexture=source,source}},{key:\"_swap\",value:function(){var tmp=this._fboCurrent;this._fboCurrent=this._fboTarget,this._fboTarget=tmp,this._current=this._fboCurrent,this._target=this._fboTarget}},{key:\"setSize\",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this._fboCurrent=new _FrameBuffer2.default(this._width,this._height,this._params),this._fboTarget=new _FrameBuffer2.default(this._width,this._height,this._params)}},{key:\"getTexture\",value:function(){return this._returnTexture}},{key:\"passes\",get:function(){return this._passes}}]),EffectComposer}();exports.default=EffectComposer},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _PassVBlur=__webpack_require__(37),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(39),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassMacro2=__webpack_require__(36),_PassMacro3=_interopRequireDefault(_PassMacro2),PassBlur=function(_PassMacro){function PassBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];_classCallCheck(this,PassBlur);var _this=_possibleConstructorReturn(this,(PassBlur.__proto__||Object.getPrototypeOf(PassBlur)).call(this)),vBlur=new _PassVBlur2.default(mQuality,mWidth,mHeight,mParams),hBlur=new _PassHBlur2.default(mQuality,mWidth,mHeight,mParams);return _this.addPass(vBlur),_this.addPass(hBlur),_this}return _inherits(PassBlur,_PassMacro),PassBlur}(_PassMacro3.default);exports.default=PassBlur},function(module,exports){module.exports=\"// blur5.frag\\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\\n\\n#define SHADER_NAME BLUR_5\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform vec2 uDirection;\\nuniform vec2 uResolution;\\n\\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\\n\\tvec4 color = vec4(0.0);\\n\\tvec2 off1 = vec2(1.3333333333333333) * direction;\\n\\tcolor += texture2D(image, uv) * 0.29411764705882354;\\n\\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\\n\\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\\n\\treturn color; \\n}\\n\\n\\nvoid main(void) {\\n    gl_FragColor = blur5(texture, vTextureCoord, uResolution, uDirection);\\n}\"},function(module,exports){module.exports=\"// blur9.frag\\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\\n\\n#define SHADER_NAME BLUR_9\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform vec2 uDirection;\\nuniform vec2 uResolution;\\n\\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\\n\\tvec4 color = vec4(0.0);\\n\\tvec2 off1 = vec2(1.3846153846) * direction;\\n\\tvec2 off2 = vec2(3.2307692308) * direction;\\n\\tcolor += texture2D(image, uv) * 0.2270270270;\\n\\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\\n\\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\\n\\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\\n\\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\\n\\treturn color;\\n}\\n\\n\\nvoid main(void) {\\n    gl_FragColor = blur9(texture, vTextureCoord, uResolution, uDirection);\\n}\"},function(module,exports){module.exports=\"// blur13.frag\\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\\n\\n#define SHADER_NAME BLUR_13\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform vec2 uDirection;\\nuniform vec2 uResolution;\\n\\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\\n\\tvec4 color = vec4(0.0);\\n\\tvec2 off1 = vec2(1.411764705882353) * direction;\\n\\tvec2 off2 = vec2(3.2941176470588234) * direction;\\n\\tvec2 off3 = vec2(5.176470588235294) * direction;\\n\\tcolor += texture2D(image, uv) * 0.1964825501511404;\\n\\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\\n\\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\\n\\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\\n\\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\\n\\tcolor += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\\n\\tcolor += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\\n\\treturn color;\\n}\\n\\n\\nvoid main(void) {\\n    gl_FragColor = blur13(texture, vTextureCoord, uResolution, uDirection);\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(9),_Pass3=_interopRequireDefault(_Pass2),_fxaa=__webpack_require__(40),_fxaa2=_interopRequireDefault(_fxaa),PassFxaa=function(_Pass){function PassFxaa(){_classCallCheck(this,PassFxaa);var _this=_possibleConstructorReturn(this,(PassFxaa.__proto__||Object.getPrototypeOf(PassFxaa)).call(this,_fxaa2.default));return _this.uniform(\"uResolution\",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_this}return _inherits(PassFxaa,_Pass),PassFxaa}(_Pass3.default);exports.default=PassFxaa},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(18),fs=__webpack_require__(19),BatchCopy=function(_Batch){function BatchCopy(){_classCallCheck(this,BatchCopy);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchCopy.__proto__||Object.getPrototypeOf(BatchCopy)).call(this,mesh,shader));return shader.bind(),shader.uniform(\"texture\",\"uniform1i\",0),_this}return _inherits(BatchCopy,_Batch),_createClass(BatchCopy,[{key:\"draw\",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchCopy.prototype.__proto__||Object.getPrototypeOf(BatchCopy.prototype),\"draw\",this).call(this)}}]),BatchCopy}(_Batch3.default);exports.default=BatchCopy},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(79),fs=__webpack_require__(80),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],colors=[],indices=[0,1,2,3,4,5],r=9999;positions.push([-r,0,0]),positions.push([r,0,0]),positions.push([0,-r,0]),positions.push([0,r,0]),positions.push([0,0,-r]),positions.push([0,0,r]),colors.push([1,0,0]),colors.push([1,0,0]),colors.push([0,1,0]),colors.push([0,1,0]),colors.push([0,0,1]),colors.push([0,0,1]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferIndex(indices),mesh.bufferData(colors,\"aColor\",3);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports){module.exports=\"// axis.vert\\n\\n#define SHADER_NAME BASIC_VERTEX\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec3 aColor;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\n\\nvarying vec3 vColor;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\\n    vColor = aColor;\\n    vNormal = aNormal;\\n}\"},function(module,exports){module.exports=\"// axis.frag\\n\\n#define SHADER_NAME SIMPLE_TEXTURE\\n\\nprecision lowp float;\\n#define GLSLIFY 1\\nvarying vec3 vColor;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n\\t// vec3 color = vNormal;\\n\\tvec3 color = vColor + vNormal * 0.0001;\\n    gl_FragColor = vec4(color, 1.0);\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(33),fs=__webpack_require__(10),BatchBall=function(_Batch){function BatchBall(){_classCallCheck(this,BatchBall);var mesh=_Geom2.default.sphere(1,24),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchBall.__proto__||Object.getPrototypeOf(BatchBall)).call(this,mesh,shader))}return _inherits(BatchBall,_Batch),_createClass(BatchBall,[{key:\"draw\",value:function(){var position=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.shader.bind(),this.shader.uniform(\"position\",\"uniform3fv\",position),this.shader.uniform(\"scale\",\"uniform3fv\",scale),this.shader.uniform(\"color\",\"uniform3fv\",color),this.shader.uniform(\"opacity\",\"uniform1f\",opacity),_get(BatchBall.prototype.__proto__||Object.getPrototypeOf(BatchBall.prototype),\"draw\",this).call(this)}}]),BatchBall}(_Batch3.default);exports.default=BatchBall},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(83),fs=__webpack_require__(10),BatchDotsPlane=function(_Batch){function BatchDotsPlane(){_classCallCheck(this,BatchDotsPlane);var positions=[],indices=[],index=0,i=void 0,j=void 0;for(i=-100;i<100;i+=1)for(j=-100;j<100;j+=1)positions.push([i,j,0]),indices.push(index),index++,positions.push([i,0,j]),indices.push(index),index++;var mesh=new _Mesh2.default(_GLTool2.default.POINTS);mesh.bufferVertex(positions),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchDotsPlane.__proto__||Object.getPrototypeOf(BatchDotsPlane)).call(this,mesh,shader));return _this.color=[1,1,1],_this.opacity=.5,_this}return _inherits(BatchDotsPlane,_Batch),_createClass(BatchDotsPlane,[{key:\"draw\",value:function(){this.shader.bind(),this.shader.uniform(\"color\",\"uniform3fv\",this.color),this.shader.uniform(\"opacity\",\"uniform1f\",this.opacity),_get(BatchDotsPlane.prototype.__proto__||Object.getPrototypeOf(BatchDotsPlane.prototype),\"draw\",this).call(this)}}]),BatchDotsPlane}(_Batch3.default);exports.default=BatchDotsPlane},function(module,exports){module.exports=\"// basic.vert\\n\\n#define SHADER_NAME DOTS_PLANE_VERTEX\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\n\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition + aNormal * 0.000001, 1.0);\\n    gl_PointSize = 1.0;\\n    vNormal = aNormal;\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(11),fs=__webpack_require__(10),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],indices=[0,1],coords=[[0,0],[1,1]];positions.push([0,0,0]),positions.push([0,0,0]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),_createClass(BatchAxis,[{key:\"draw\",value:function(mPositionA,mPositionB){var color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._mesh.bufferVertex([mPositionA,mPositionB]),this._shader.bind(),this._shader.uniform(\"color\",\"vec3\",color),this._shader.uniform(\"opacity\",\"float\",opacity),_get(BatchAxis.prototype.__proto__||Object.getPrototypeOf(BatchAxis.prototype),\"draw\",this).call(this)}}]),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(34),fs=__webpack_require__(35),BatchSkybox=function(_Batch){function BatchSkybox(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;_classCallCheck(this,BatchSkybox);var mesh=_Geom2.default.skybox(size),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSkybox.__proto__||Object.getPrototypeOf(BatchSkybox)).call(this,mesh,shader))}return _inherits(BatchSkybox,_Batch),_createClass(BatchSkybox,[{key:\"draw\",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSkybox.prototype.__proto__||Object.getPrototypeOf(BatchSkybox.prototype),\"draw\",this).call(this)}}]),BatchSkybox}(_Batch3.default);exports.default=BatchSkybox},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(87),fs=__webpack_require__(19),BatchSky=function(_Batch){function BatchSky(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,seg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;_classCallCheck(this,BatchSky);var mesh=_Geom2.default.sphere(size,seg,!0),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSky.__proto__||Object.getPrototypeOf(BatchSky)).call(this,mesh,shader))}return _inherits(BatchSky,_Batch),_createClass(BatchSky,[{key:\"draw\",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSky.prototype.__proto__||Object.getPrototypeOf(BatchSky.prototype),\"draw\",this).call(this)}}]),BatchSky}(_Batch3.default);exports.default=BatchSky},function(module,exports){module.exports=\"// sky.vert\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n\\tmat4 matView = uViewMatrix;\\n\\tmatView[3][0] = 0.0;\\n\\tmatView[3][1] = 0.0;\\n\\tmatView[3][2] = 0.0;\\n\\t\\n    gl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\\n    vTextureCoord = aTextureCoord;\\n    vNormal = aNormal;\\n}\"},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if(\"value\"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(18),fs=__webpack_require__(40),BatchFXAA=function(_Batch){function BatchFXAA(){_classCallCheck(this,BatchFXAA);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchFXAA.__proto__||Object.getPrototypeOf(BatchFXAA)).call(this,mesh,shader));return shader.bind(),shader.uniform(\"texture\",\"uniform1i\",0),_this}return _inherits(BatchFXAA,_Batch),_createClass(BatchFXAA,[{key:\"draw\",value:function(texture){this.shader.bind(),texture.bind(0),this.shader.uniform(\"uResolution\",\"vec2\",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_get(BatchFXAA.prototype.__proto__||Object.getPrototypeOf(BatchFXAA.prototype),\"draw\",this).call(this)}}]),BatchFXAA}(_Batch3.default);exports.default=BatchFXAA},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_CameraPerspective=__webpack_require__(16),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),Scene=function(){function Scene(){var _this=this;_classCallCheck(this,Scene),this._children=[],this._matrixIdentity=mat4.create(),_GLTool2.default.enableAlphaBlending(),this._init(),this._initTextures(),this._initViews(),this._efIndex=_scheduling2.default.addEF(function(){return _this._loop()}),window.addEventListener(\"resize\",function(){return _this.resize()})}return _createClass(Scene,[{key:\"update\",value:function(){}},{key:\"render\",value:function(){}},{key:\"stop\",value:function(){-1!==this._efIndex&&(this._efIndex=_scheduling2.default.removeEF(this._efIndex))}},{key:\"start\",value:function(){var _this2=this;-1===this._efIndex&&(this._efIndex=_scheduling2.default.addEF(function(){return _this2._loop()}))}},{key:\"resize\",value:function(){_GLTool2.default.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(_GLTool2.default.aspectRatio)}},{key:\"addChild\",value:function(mChild){this._children.push(mChild)}},{key:\"removeChild\",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn(\"Child no exist\");this._children.splice(index,1)}},{key:\"_initTextures\",value:function(){}},{key:\"_initViews\",value:function(){}},{key:\"_renderChildren\",value:function(){for(var child=void 0,i=0;i<this._children.length;i++)child=this._children[i],child.toRender();_GLTool2.default.rotate(this._matrixIdentity)}},{key:\"_init\",value:function(){this.camera=new _CameraPerspective2.default,this.camera.setPerspective(45*Math.PI/180,_GLTool2.default.aspectRatio,.1,100),this.orbitalControl=new _OrbitalControl2.default(this.camera,window,15),this.orbitalControl.radius.value=10,this.cameraOrtho=new _CameraOrtho2.default}},{key:\"_loop\",value:function(){_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),_GLTool2.default.setMatrices(this.camera),this.update(),this._renderChildren(),this.render()}}]),Scene}();exports.default=Scene},function(module,exports,__webpack_require__){\"use strict\";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLShader),View=function(){function View(mStrVertex,mStrFrag){_classCallCheck(this,View),this.shader=new _GLShader2.default(mStrVertex,mStrFrag),this._init()}return _createClass(View,[{key:\"_init\",value:function(){}},{key:\"render\",value:function(){}}]),View}();exports.default=View},function(module,exports,__webpack_require__){\"use strict\";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!call||\"object\"!=typeof call&&\"function\"!=typeof call?self:call}function _inherits(subClass,superClass){if(\"function\"!=typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,\"value\"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Object3D2=__webpack_require__(31),_Object3D3=_interopRequireDefault(_Object3D2),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),View3D=function(_Object3D){function View3D(mStrVertex,mStrFrag){_classCallCheck(this,View3D);var _this=_possibleConstructorReturn(this,(View3D.__proto__||Object.getPrototypeOf(View3D)).call(this));return _this._children=[],_this.shader=new _GLShader2.default(mStrVertex,mStrFrag),_this._init(),_this._matrixTemp=mat4.create(),_this}return _inherits(View3D,_Object3D),_createClass(View3D,[{key:\"_init\",value:function(){}},{key:\"addChild\",value:function(mChild){this._children.push(mChild)}},{key:\"removeChild\",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn(\"Child no exist\");this._children.splice(index,1)}},{key:\"toRender\",value:function(matrix){void 0===matrix&&(matrix=mat4.create()),mat4.mul(this._matrixTemp,matrix,this.matrix),_GLTool2.default.rotate(this._matrixTemp),this.render();for(var i=0;i<this._children.length;i++){this._children[i].toRender(this.matrix)}}},{key:\"render\",value:function(){}}]),View3D}(_Object3D3.default);exports.default=View3D}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/alfrid/build/alfrid.js\n// module id = 0\n// module chunks = 0","// Config.js\n\nexport default {\n\tnumParticles:256*2,\n\tnumParticleSets:2,\n\tskipCount:1,\n\tmaxRadius:5,\n\tringSize:0.5,\n\tringRadius:5.5,\n\tzOffset:2,\n\timage:'nebula4',\n\tbackgroundOpacity:0.25,\n\tparticleContrast:2.25,\n\tshowDimensions:false,\n\tfadeRange:0.2,\n\tcentred:false,\n\tparticleScale:1.15,\n\tlineColor:[195, 255, 255],\n\tlineWidth:1,\n\tshowLines:true,\n\tshowParticles:true,\n\tshowCenterBall:false,\n\tpullingForce:1.75,\n\tlightX:0,\n\tlightY:1,\n\tlightZ:7,\n\tnumTrails:64,\n\ttrailLength:14,\n\tnumTrailSets:4,\n\toverlayOpacity:.25,\n\tbloomStrength:.25,\n\tgradientMap:0.25,\n\tradius:0.1,\n\tdistance:1.05,\n\tfps:10,\n\ttargetFps:30,\n\tfadeOutOffset:0.0,\n\tprogress:0.01,\n\texportFrame:true,\n\tfullscaleCanvas:false,\n\tburstForce:1.0,\n\tdebugVisual:true\n\t\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Config.js","// FlowControl.js\n\nimport TweenNumber from './utils/TweenNumber';\nimport Time from './Time';\nimport Config from './Config';\n\nconst delaySimulationStart = 5;\n\n// const targetFps = 30;\n\n\nclass FlowControl {\n\n\tconstructor() {\n\t}\n\n\tinit() {\n\t\tthis.FPS = Config.fps;\n\t\tconst { targetFps } = Config;\n\n\t\tconst totalFrames = 2 * 60 * targetFps;\n\t\tconsole.log('totalFrames', totalFrames, targetFps);\n\n\t\tthis.totalFrames = totalFrames;\n\t\tthis.speedRatio = 60 / targetFps;\n\n\t\tconsole.log('this.speedRatio', this.speedRatio);\n\n\t\tthis._bgOpeningOffset = new TweenNumber(0, 'sineIn', 0.001 * this.speedRatio);\n\t\tthis._speedOffset = new TweenNumber(0, 'circularOut', 0.005 * this.speedRatio);\n\t\tthis.respwan = true;\n\t\tthis._bloomStrength = new TweenNumber(0.25, 'expInOut', 0.01 * this.speedRatio);\n\n\t\tthis._list = [\n\t\t\tthis._bgOpeningOffset,\n\t\t\tthis._speedOffset\n\t\t];\n\n\n\t\tthis._isCrazy = false;\n\n\t\twindow.addEventListener('keydown', (e) => {\n\t\t\tif(e.keyCode === 32 && Time.frame > 500 && !this._isCrazy) {\n\t\t\t\tthis.accelerate();\n\t\t\t}\n\t\t});\n\t}\n\n\n\tstart() {\n\t\tthis.respwan = true;\n\t\tthis._bloomStrength.setTo(0.25);\n\t\tthis._speedOffset.setTo(0);\n\t\tthis._bgOpeningOffset.easing = 'circularInOut';\n\n\t\tthis._bgOpeningOffset.value = 1;\n\t\t// setTimeout(()=> {\n\t\t\t\n\t\t// }, 500);\n\n\t\t\n\t}\n\n\tplayParticles() {\n\t\tconsole.log('Play particles');\n\t\tthis._speedOffset.easing = 'circularOut';\n\t\tthis._speedOffset.value = 1;\n\t}\n\n\n\taccelerate() {\n\t\tthis._isCrazy = true;\n\t\tconsole.log('Speed UP !');\n\t\tthis._speedOffset.speed = 0.01 * this.speedRatio;\n\t\tthis._speedOffset.easing = 'circularIn';\n\t\tthis._speedOffset.value = 2;\n\t\tthis._bloomStrength.value = 2;\n\n\t\tsetTimeout(()=> {\n\t\t\tthis._speedOffset.speed = 0.01 * this.speedRatio;\n\t\t\tthis._speedOffset.easing = 'sineOut';\n\t\t\tthis._speedOffset.value = 1;\n\t\t\tthis._bloomStrength.value = 1;\n\t\t}, 5000);\n\n\t\tsetTimeout(()=> {\n\t\t\tthis._isCrazy = false;\n\t\t}, 6000);\n\t}\n\n\n\tend() {\n\t\tconsole.log('End');\n\t\tthis._speedOffset.speed = 0.01 * this.speedRatio;\n\t\tthis._speedOffset.easing = 'circularIn';\n\t\tthis._speedOffset.value = 2;\n\t\tthis._bloomStrength.value = 2;\n\n\t\t// const delayToEnd = 4000;\n\n\t\t// setTimeout(()=> {\n\t\t// \tthis.respwan = false;\n\t\t// }, delayToEnd);\n\n\t\t// setTimeout(()=>this.close(), delayToEnd + 4000);\n\t}\n\n\n\tclose() {\n\t\tconsole.log('Close');\n\t\tthis._bgOpeningOffset.speed = 0.01 * this.speedRatio;\n\t\tthis._bgOpeningOffset.easing = 'circularInOut';\n\t\tthis._bgOpeningOffset.value = 0;\t\n\t}\n\n\n\t_updateAllNumbers() {\n\t\tthis._list.forEach( n => n.update() );\n\t}\n\n\n\tupdate() {\n\t\tconst _fps = 30;\n\t\tConfig.progress = Math.floor(Time.frame / this.totalFrames * 1000) / 10;\n\t\tconst frameParticleStart = 5 * _fps;\n\n\t\tconst timeClose = 17;\n\t\tconst frameEndStart = this.totalFrames - timeClose * _fps;\n\t\tconst frameStopSpwan = this.totalFrames - Math.floor((timeClose - 1.8) * _fps);\n\t\tconst frameCloseStart = this.totalFrames - Math.floor((timeClose - 12.6) * _fps);\n\n\n\t\tif(Time.frame === frameParticleStart) {\n\t\t\tthis.playParticles();\n\t\t}\n\n\n\t\tif(Time.frame === frameEndStart) {\n\t\t\tthis.end();\n\t\t}\n\n\n\t\t// if(Time.frame === frameStopSpwan) {\n\t\t// \tthis.respwan = false;\n\t\t// \tconsole.log('Stop spwan particles');\n\t\t// }\n\n\n\t\t// if(Time.frame === frameCloseStart) {\n\t\t// \tthis.close();\n\t\t// }\n\t\t// console.log('Current time :', Time.frame);\n\t\tthis._updateAllNumbers()\n\t}\n\n\n\t// getter & setters\n\n\tget bgOpeningOffset() {\n\t\treturn this._bgOpeningOffset.value;\n\t}\n\n\tget speedOffset() {\n\t\treturn this._speedOffset.value;\n\t}\n\n\tget bloomStrength() {\n\t\treturn ths._bloomStrength.value;\n\t}\n\n}\n\nconst _instance = new FlowControl();\n\nexport default _instance;\n\n\n// WEBPACK FOOTER //\n// ./src/js/FlowControl.js","// Assets.js\n\nimport assetsToLoad from './asset-list';\nimport alfrid, { GLTexture, GLCubeTexture, Mesh, ObjLoader } from 'alfrid';\n\nconst Assets = {};\nlet _assets = [];\n\nconst getAsset = function(id) {\n\treturn assets.find( (a) => a.id === id).file;\n}\n\nconst getExtension = function(mFile) {\n\tconst ary = mFile.split('.');\n\treturn ary[ary.length - 1];\n}\n\nAssets.init = function() {\n\tlet hdrCubemaps = {};\n\t_assets = assetsToLoad.map((o)=> {\n\t\tconst ext = getExtension(o.url);\n\t\tconst file = getAsset(o.id);\n\t\tlet texture;\n\n\t\tswitch(ext) {\n\t\t\tcase 'jpg':\n\t\t\tcase 'png':\n\t\t\t\ttexture = new GLTexture(file);\n\t\t\t\treturn {\n\t\t\t\t\tid:o.id,\n\t\t\t\t\tfile:texture\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tcase 'hdr':\n\t\t\t\tlet cubemapName = o.id.split('_')[0];\n\t\t\t\ttexture = alfrid.HDRLoader.parse(file);\n\n\t\t\t\tconst oAsset = {\n\t\t\t\t\tid:o.id,\n\t\t\t\t\tfile:texture\n\t\t\t\t};\n\n\t\t\t\tif(!hdrCubemaps[cubemapName]) {\n\t\t\t\t\thdrCubemaps[cubemapName] = [];\n\t\t\t\t}\n\n\t\t\t\thdrCubemaps[cubemapName].push(oAsset);\n\t\t\t\treturn oAsset;\n\n\t\t\t\tbreak;\n\t\t\tcase 'dds':\n\t\t\t\ttexture = GLCubeTexture.parseDDS(file);\n\t\t\t\treturn {\n\t\t\t\t\tid:o.id,\n\t\t\t\t\tfile:texture\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tcase 'obj':\n\t\t\t\tconst mesh = ObjLoader.parse(file);\n\t\t\t\treturn {\n\t\t\t\t\tid:o.id,\n\t\t\t\t\tfile:mesh\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t});\n\n\tfor(let s in hdrCubemaps) {\n\t\tif(hdrCubemaps[s].length == 6) {\n\t\t\tconsole.log('Generate Cubemap :', s);\n\n\t\t\tconst ary = [\n\t\t\t\tAssets.get(`${s}_posx`),\n\t\t\t\tAssets.get(`${s}_negx`),\n\t\t\t\tAssets.get(`${s}_posy`),\n\t\t\t\tAssets.get(`${s}_negy`),\n\t\t\t\tAssets.get(`${s}_posz`),\n\t\t\t\tAssets.get(`${s}_negz`)\n\t\t\t];\n\n\t\t\tconst texture = new alfrid.GLCubeTexture(ary);\n\t\t\t_assets.push({\n\t\t\t\tid:s,\n\t\t\t\tfile:texture\n\t\t\t})\n\t\t}\n\t}\n\n\tif(_assets.length > 0) {\n\t\tconsole.debug('ASSETS:');\n\t\tconsole.table(_assets);\t\n\t}\n\t\n}\n\nAssets.get = function(mId) {\n\treturn _assets.find((a) => {\n\t\treturn a.id === mId;\n\t}).file;\n}\n\nexport default Assets;\n\n\n// WEBPACK FOOTER //\n// ./src/js/Assets.js","// Time.js\n\nimport Config from './Config';\n\nclass Time {\n\tconstructor() {\n\t\tconst _fps = Config.targetFps;\n\t\tconst speedRatio = 60 / _fps;\n\t\tthis._value = 0;\n\t\tthis.speed = 0.01 * speedRatio;\n\n\t\tthis._isRunning = true;\n\n\t\tthis.frame = 0;\n\t}\n\n\tpause() {\n\t\tthis._isRunning = false;\n\t}\n\n\tresume() {\n\t\tthis._isRunning = true;\n\t}\n\n\ttick() {\n\t\tthis.frame++;\n\t\tthis._value += this.speed;\n\t}\n\n\n\tget current() {\n\t\treturn this._value;\n\t}\n}\n\n\nconst _instance = new Time();\n\nexport default _instance;\n\n\n// WEBPACK FOOTER //\n// ./src/js/Time.js","// ViewSave.js\n\nimport alfrid, { GL } from 'alfrid';\nimport vs from 'shaders/save.vert';\nimport fs from 'shaders/save.frag';\nimport Config from './Config';\nimport { random } from 'randomutils';\n\nclass ViewSave extends alfrid.View {\n\t\n\tconstructor(numParticles, zOffset = 0) {\n\t\tsuper(vs, fs);\n\n\t\tthis._numParticles = numParticles;\n\t\tthis._zOffset = zOffset;\n\n\t\tthis._initMesh();\n\t}\n\n\n\t_initMesh() {\n\t\tlet positions = [];\n\t\tlet coords = [];\n\t\tlet indices = []; \n\t\tlet extras = [];\n\t\tlet count = 0;\n\n\t\tlet numParticles = Config.numParticles || this._numParticles;\n\t\tlet ux, uy;\n\t\tlet range = 3;\n\t\tconst m = mat4.create();\n\n\t\tconst { ringSize, ringRadius, zOffset } = Config;\n\n\t\tconst getPos = () => {\n\t\t\tlet a = random(Math.PI * 2);\n\t\t\tlet r = Math.sqrt(Math.random()) * ringSize;\n\t\t\tlet x = Math.cos(a) * r;\n\t\t\tlet z = Math.sin(a) * r;\n\n\t\t\tlet v = vec3.fromValues(x + ringRadius, 0, z + zOffset + this._zOffset);\n\t\t\tmat4.identity(m);\n\t\t\ta = random(Math.PI * 2);\n\t\t\tmat4.rotateZ(m, m, a);\n\t\t\tvec3.transformMat4(v, v, m);\n\n\t\t\treturn v;\n\t\t}\n\n\t\tfor(let j = 0; j < numParticles; j++) {\n\t\t\tfor(let i = 0; i < numParticles; i++) {\n\t\t\t\t// positions.push([random(-range, range), random(-range, range), random(-range, range)]);\n\t\t\t\tpositions.push(getPos());\n\n\t\t\t\tux = i / numParticles * 2.0 - 1.0 + .5 / numParticles;\n\t\t\t\tuy = j / numParticles * 2.0 - 1.0 + .5 / numParticles;\n\n\t\t\t\textras.push([Math.random(), Math.random(), Math.random()]);\n\t\t\t\tcoords.push([ux, uy]);\n\t\t\t\tindices.push(count);\n\t\t\t\tcount ++;\n\n\t\t\t}\n\t\t}\n\n\n\t\tthis.mesh = new alfrid.Mesh(GL.POINTS);\n\t\tthis.mesh.bufferVertex(positions);\n\t\tthis.mesh.bufferData(extras, 'aExtra', 3);\n\t\tthis.mesh.bufferTexCoord(coords);\n\t\tthis.mesh.bufferIndex(indices);\n\t}\n\n\n\trender(state = 0) {\n\t\tthis.shader.bind();\n\t\tGL.draw(this.mesh);\n\t}\n\n\n}\n\nexport default ViewSave;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewSave.js","// ViewSim.js\n\nimport alfrid, { GL } from 'alfrid';\nimport fs from 'shaders/sim.frag';\nimport Config from './Config';\nimport Time from './Time';\nimport FlowControl from './FlowControl';\n\n\nclass ViewSim extends alfrid.View {\n\t\n\tconstructor(mSpeed=1, mLife=1, mIsLine=false) {\n\t\tsuper(alfrid.ShaderLibs.bigTriangleVert, fs);\n\t\tthis.time = Math.random() * 0xFF;\n\t\tthis._speed = mSpeed;\n\t\tthis._life = mLife;\n\t\tthis._isLine = mIsLine;\n\n\t\tconsole.log('isLine ? ', this._isLine);\n\t}\n\n\n\t_init() {\n\t\tthis.mesh = alfrid.Geom.bigTriangle();\n\n\t\tthis.shader.bind();\n\t\tthis.shader.uniform('textureVel', 'uniform1i', 0);\n\t\tthis.shader.uniform('texturePos', 'uniform1i', 1);\n\t\tthis.shader.uniform('textureExtra', 'uniform1i', 2);\n\t\tthis.shader.uniform(\"textureOrg\", \"uniform1i\", 3);\n\t\t\n\n\t}\n\n\n\trender(textureVel, texturePos, textureExtra, textureOrg, mIsLine=false) {\n\t\t// this.time += .01;\n\t\tthis.shader.bind();\n\t\tthis.shader.uniform('time', 'float', Time.current);\n\t\tthis.shader.uniform('maxRadius', 'float', Config.maxRadius);\n\n\t\t\n\n\t\tthis.shader.uniform(\"uPullingForce\", \"float\", Config.pullingForce);\n\t\tthis.shader.uniform(\"uSpeed\", \"float\", this._speed);\n\t\tthis.shader.uniform(\"uLifeScale\", \"float\", this._life);\n\t\tthis.shader.uniform(\"uIsLine\", \"float\", mIsLine ? 1.0 : 0.0);\n\t\tthis.shader.uniform(\"uBurstForce\", \"float\", Config.burstForce);\n\t\tthis.shader.uniform(\"uSpeedOffset\", \"float\", FlowControl.speedOffset);\n\t\ttextureVel.bind(0);\n\t\ttexturePos.bind(1);\n\t\ttextureExtra.bind(2);\n\t\ttextureOrg.bind(3);\n\n\t\t//\tFlow\n\t\tlet speedMultiplier = this._isLine ? 2 : 1;\n\t\tlet speed;\n\t\tif(FlowControl.speedOffset > 1) {\n\t\t\tspeed = (FlowControl.speedOffset - 1) * speedMultiplier + 1;\n\t\t}  else {\n\t\t\tspeed = FlowControl.speedOffset;\n\t\t}\n\t\t\n\t\tthis.shader.uniform(\"uGeneralSpeed\", \"float\", FlowControl.speedOffset );\n\t\tthis.shader.uniform(\"uSpwan\", \"float\", FlowControl.respwan ? 1.0 : 0.0);\n\n\t\tGL.draw(this.mesh);\n\t}\n\n\n}\n\nexport default ViewSim;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewSim.js","// index.js\n\nvar random = function(a, b) {\n    if(b === undefined) {\n        b = 0;\n    }\n    return a + Math.random() * (b - a);\n}\n\n\nvar randomFloor = function(a, b) {\n    return Math.floor(random(a, b));\n}\n\n\nvar randomGaussian = function(n) {\n    if( n === undefined) n = 6;\n    var rand = 0;\n  \n    for (var i = 0; i < n; i += 1) {\n        rand += Math.random();\n    }\n  \n    return rand / n\n}\n\nvar getRandomElement = function(ary) {\n    return ary[randomFloor(ary.length)];\n}\n\n\nvar randomUtils = {\n    random,\n    randomFloor,\n    randomGaussian,\n    getRandomElement\n}\n\n\nmodule.exports = randomUtils;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/randomutils/index.js\n// module id = 7\n// module chunks = 0","module.exports = \"// render.vert\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\nuniform mat4 uShadowMatrix;\\nuniform sampler2D textureCurr;\\nuniform sampler2D textureExtra;\\nuniform sampler2D textureOrg;\\nuniform sampler2D textureBg1;\\nuniform sampler2D textureBg2;\\nuniform float uParticleScale;\\nuniform vec2 uViewport;\\n\\nvarying vec4 vColor;\\nvarying vec3 vNormal;\\nvarying vec3 vExtra;\\nvarying vec3 vWsPosition;\\nvarying vec4 vScreenPosition;\\n\\nvarying vec4 vShadowCoord;\\n\\nconst float radius = 0.03;\\n\\nvoid main(void) {\\n\\tvec2 uv            = aVertexPosition.xy;\\n\\tvec3 pos           = texture2D(textureCurr, uv).rgb;\\n\\t\\n\\tvec3 extra         = texture2D(textureExtra, uv).rgb;\\n\\tvec4 wsPosition    = uModelMatrix * vec4(pos, 1.0);\\n\\tvWsPosition        = wsPosition.xyz;\\n\\tgl_Position        = uProjectionMatrix * uViewMatrix * wsPosition;\\n\\t\\n\\tvec3 posOrg        = texture2D(textureOrg, uv).rgb;\\n\\tvec4 posOrgMVP     = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(posOrg, 1.0);\\n\\tvScreenPosition    = posOrgMVP;\\n\\tfloat distToCenter = length(vWsPosition.xy);\\n\\tvColor             = vec4(1.0);\\n\\t\\n\\tfloat distOffset   = uViewport.y * uProjectionMatrix[1][1] * radius / gl_Position.w;\\n\\t\\n\\tfloat scale        = smoothstep(0.95, 0.25, extra.x);\\n\\tfloat scaleOffset  = smoothstep(6.0, 4.0, distToCenter);\\n\\tscaleOffset        = mix(scaleOffset, 1.0, .25);\\n\\tgl_PointSize       = distOffset * (1.0 + extra.g * 2.0) * scale * uParticleScale * scaleOffset;\\n\\t\\n\\tvNormal            = aNormal;\\n\\tvShadowCoord       = uShadowMatrix * wsPosition;\\n\\tvExtra             = extra;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/render.vert\n// module id = 8\n// module chunks = 0","\nconst assetsToLoad = [\n\t{\"id\":\"bg\",\"url\":\"assets/img/bg.jpg\",\"type\":\"jpg\"},\n\t{\"id\":\"gradientMap\",\"url\":\"assets/img/gradientMap.png\",\"type\":\"png\"},\n\t{\"id\":\"nebula3\",\"url\":\"assets/img/nebula3.jpg\",\"type\":\"jpg\"},\n\t{\"id\":\"nebula4\",\"url\":\"assets/img/nebula4.jpg\",\"type\":\"jpg\"},\n\t{\"id\":\"noise\",\"url\":\"assets/img/noise.jpg\",\"type\":\"jpg\"}\n];\n\n\nexport default assetsToLoad;\n\n\n// WEBPACK FOOTER //\n// ./src/js/asset-list.js","// FboPingPong.js\n\nimport alfrid from 'alfrid';\nimport FboFarray from './FboArray';\n\nclass FboPingPong extends FboFarray{\n\tconstructor(width, height, params={}, mNumTargets=1) {\n\t\tsuper(2, width, height, params, mNumTargets)\n\t}\n}\n\nexport default FboPingPong;\n\n\n// WEBPACK FOOTER //\n// ./src/js/FboPingPong.js","// FboArray.js\n\nimport alfrid from 'alfrid';\n\nclass FboArray {\n\n\tconstructor(mNum, width, height, params={}, mNumTargets=1) {\n\t\tthis._fbos = [];\n\n\n\t\tfor(let i=0; i<mNum; i++) {\n\t\t\tconst fbo = new alfrid.FrameBuffer(width, height, params, mNumTargets);\n\t\t\tthis._fbos.push(fbo);\n\t\t}\n\n\t}\n\n\n\tswap() {\n\t\tconst a = this._fbos.shift();\n\t\tthis._fbos.push(a);\n\t}\n\n\n\tget read() {\n\t\treturn this._fbos[this._fbos.length - 1];\n\t}\n\n\n\tget write() {\n\t\treturn this._fbos[0];\n\t}\n\n\n\tget all() {\n\t\treturn this._fbos;\n\t}\n\n}\n\n\nexport default FboArray;\n\n\n// WEBPACK FOOTER //\n// ./src/js/FboArray.js","module.exports = \"// copy.frag\\n\\n#define SHADER_NAME SIMPLE_TEXTURE\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n    gl_FragColor = vec4(vNormal * .5 + .5, 1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/normal.frag\n// module id = 12\n// module chunks = 0","// index.js\n\nexport { saveImage } from './saveImage'\n\n\nexport const formNumber = (v, numDigis=6) => {\n\tlet s = v.toString();\n\twhile(s.length < numDigis) {\n\t\ts = '0' + s;\n\t}\n\n\treturn s;\n}\n\n\nexport const biasMatrix = mat4.fromValues(\n\t0.5, 0.0, 0.0, 0.0,\n\t0.0, 0.5, 0.0, 0.0,\n\t0.0, 0.0, 0.5, 0.0,\n\t0.5, 0.5, 0.5, 1.0\n);\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/index.js","'use strict';\n\nvar EventEmitter = require('events').EventEmitter;\n\nfunction Emitter() {\n    EventEmitter.call(this);\n    this.setMaxListeners(20);\n}\n\nEmitter.prototype = Object.create(EventEmitter.prototype);\nEmitter.prototype.constructor = Emitter;\n\nEmitter.prototype.off = function(type, listener) {\n    if (listener) {\n        return this.removeListener(type, listener);\n    }\n    if (type) {\n        return this.removeAllListeners(type);\n    }\n    return this.removeAllListeners();\n};\n\nmodule.exports = Emitter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assets-loader/src/emitter.js\n// module id = 14\n// module chunks = 0","'use strict';\n\nmodule.exports = {\n    mbs: 0,\n    secs: 0,\n    update: function(request, startTime, url, log) {\n        var length;\n        var headers = request.getAllResponseHeaders();\n        if (headers) {\n            var match = headers.match(/content-length: (\\d+)/i);\n            if (match && match.length) {\n                length = match[1];\n            }\n        }\n        // var length = request.getResponseHeader('Content-Length');\n        if (length) {\n            length = parseInt(length, 10);\n            var mbs = length / 1024 / 1024;\n            var secs = (Date.now() - startTime) / 1000;\n            this.secs += secs;\n            this.mbs += mbs;\n            if (log) {\n                this.log(url, mbs, secs);\n            }\n        } else if(log) {\n            console.warn.call(console, 'Can\\'t get Content-Length:', url);\n        }\n    },\n    log: function(url, mbs, secs) {\n        if (url) {\n            var file = 'File loaded: ' +\n                url.substr(url.lastIndexOf('/') + 1) +\n                ' size:' + mbs.toFixed(2) + 'mb' +\n                ' time:' + secs.toFixed(2) + 's' +\n                ' speed:' + (mbs / secs).toFixed(2) + 'mbps';\n\n            console.log.call(console, file);\n        }\n        var total = 'Total loaded: ' + this.mbs.toFixed(2) + 'mb' +\n            ' time:' + this.secs.toFixed(2) + 's' +\n            ' speed:' + this.getMbps().toFixed(2) + 'mbps';\n        console.log.call(console, total);\n    },\n    getMbps: function() {\n        return this.mbs / this.secs;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assets-loader/src/stats.js\n// module id = 15\n// module chunks = 0","// Settings.js\n\nimport Config from './Config';\nimport url from 'fast-url-parser';\nurl.queryString = require(\"querystringparser\");\n\nlet enabled = true;\n\n\nconst reload = () => {\n\tif(!enabled) {\n\t\treturn;\n\t}\n\twindow.location.href = window.location.origin+window.location.pathname + '?config=' + JSON.stringify(Config);\n}\n\nconst refresh = () => {\n\tif(!enabled) {\n\t\treturn;\n\t}\n\twindow.history.pushState('experiment', 'Title', window.location.origin+window.location.pathname + '?config=' + JSON.stringify(Config));\t\n}\n\n\nlet delayIndex = -1;\n\nconst delayReload = () => {\n\tif(!enabled) {\n\t\treturn;\n\t}\n\twindow.clearTimeout(delayIndex);\n\n\tdelayIndex = window.setTimeout(()=> {\n\t\twindow.location.href = window.location.origin+window.location.pathname + '?config=' + JSON.stringify(Config);\n\t}, 500);\n}\n\n\nconst init = (mEnabled=true) => {\n\tenabled = mEnabled;\n\tconst parsed = url.parse(window.location.search, true);\n\n\tif(parsed.query.config) {\n\t\tconst oConfig = JSON.parse(parsed.query.config);\n\n\t\tfor(let key in oConfig) {\n\t\t\tConfig[key] = oConfig[key];\n\t\t}\n\t}\n\n\tconsole.log('Config :', Config);\n\trefresh();\n}\n\n\nexport default {\n\tenabled,\n\treload,\n\trefresh,\n\tdelayReload,\n\tinit\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Settings.js","import '../scss/global.scss';\nimport debugPolyfill from './debug/debugPolyfill';\nimport alfrid, { GL } from 'alfrid';\nimport SceneApp from './SceneApp';\nimport AssetsLoader from 'assets-loader';\nimport Settings from './Settings';\nimport assets from './asset-list';\nimport Assets from './Assets';\n\nimport Capture from './utils/Capture';\nimport addControls from './debug/addControls';\n\nif(document.body) {\n\t_init();\n} else {\n\twindow.addEventListener('DOMContentLoaded', _init);\n}\n\n\nfunction _init() {\n\n\t//\tLOADING ASSETS\n\tif(assets.length > 0) {\n\t\tdocument.body.classList.add('isLoading');\n\n\t\tconst loader = new AssetsLoader({\n\t\t\tassets:assets\n\t\t})\n\t\t.on('error', (error)=>{\n\t\t\tconsole.log('Error :', error);\n\t\t})\n\t\t.on('progress', (p) => {\n\t\t\t// console.log('Progress : ', p);\n\t\t\tconst loader = document.body.querySelector('.Loading-Bar');\n\t\t\tif(loader) loader.style.width = `${(p * 100)}%`;\n\t\t})\n\t\t.on('complete', _onImageLoaded)\n\t\t.start();\n\n\t} else {\n\t\t_init3D();\n\t}\n}\n\n\nfunction _onImageLoaded(o) {\n\t//\tASSETS\n\tconsole.log('Image Loaded : ', o);\n\twindow.assets = o;\n\tconst loader = document.body.querySelector('.Loading-Bar');\n\tconsole.log('Loader :', loader);\n\tloader.style.width = '100%';\n\n\t_init3D();\n\n\tsetTimeout(()=> {\n\t\tdocument.body.classList.remove('isLoading');\n\t}, 250);\n}\n\n\nfunction _init3D() {\n\tconsole.log('IS_DEVELOPMENT', !!window.isDevelopment);\n\tif(window.isDevelopment) { \n\t\tSettings.init();\t \n\t}\n\n\t//\tCREATE CANVAS\n\tconst canvas = document.createElement('canvas');\n\tconst container = document.body.querySelector('.container');\n\tcanvas.className = 'Main-Canvas';\n\tcontainer.appendChild(canvas);\n\n\t//\tINIT 3D TOOL\n\tGL.init(canvas, {ignoreWebgl2:true, preserveDrawingBuffer:true, alpha:false});\n\n\t//\tINIT ASSETS\n\tAssets.init();\n\n\t//\tCREATE SCENE\n\tconst scene = new SceneApp();\n\n\tif(window.isDevelopment) { \n\t\taddControls(scene);\n\t}\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/app.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scss/global.scss\n// module id = 18\n// module chunks = 0","// debugPolyfill.js\n\nwindow.gui = {\n\tadd:()=>{\n\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/debug/debugPolyfill.js","// SceneApp.js\n\nimport alfrid, { Scene, GL } from 'alfrid';\nimport ViewSave from './ViewSave';\nimport ViewRender from './ViewRender';\nimport ViewRenderShadow from './ViewRenderShadow';\nimport ViewSim from './ViewSim';\nimport ViewBackground from './ViewBackground';\nimport ViewComposeBg from './ViewComposeBg';\n// import ViewDimensions from './ViewDimensions';\nimport FlowControl from './FlowControl';\nimport FboPingPong from './FboPingPong';\n\nimport PassBloom from './PassBloom';\nimport ViewFXAA from './ViewFXAA';\nimport Trails from './Trails';\nimport ParticleSimulation from './ParticleSimulation';\n\nimport Assets from './Assets';\nimport Time from './Time';\n\nimport fs from 'shaders/normal.frag';\nimport Config from './Config';\nimport ParticleTexture from './ParticleTexture';\n\nimport { saveImage, formNumber, biasMatrix } from './utils';\n\n\nconst graphSize = 2000;\nlet fboScale = 1;\n\nwindow.getAsset = function(id) {\n\treturn assets.find( (a) => a.id === id).file;\n}\n\nconst GENERAL_SCALE = 2;\nconst TARGET_WIDTH = 1920 * GENERAL_SCALE;\nconst TARGET_HEIGHT = 1080/2 * GENERAL_SCALE;\n// const FPS = 1;\n\nclass SceneApp extends alfrid.Scene {\n\tconstructor() {\n\t\tsuper();\n\t\tFlowControl.init();\n\t\tGL.enableAlphaBlending();\n\n\n\n\t\tthis._isRunning = false;\n\t\tthis.camera.setPerspective(Math.PI/2, 1, .1, 100);\n\t\tthis.orbitalControl.radius.value = 9.5;\n\t\t// const r = 0.2;\n\t\t// this.orbitalControl.rx.limit(-r, r);\n\t\t// this.orbitalControl.ry.limit(-r, r);\n\t\tthis.orbitalControl.lock();\n\n\t\tthis._cameraLight = new alfrid.CameraOrtho();\n\t\tconst s = 15;\n\t\tthis._cameraLight.ortho(-s, s, -s, s, 1, 50);\n\t\tthis._cameraLight.lookAt([Config.lightX, Config.lightY, Config.lightZ], [0, 0, 0]);\n\n\t\tthis._shadowMatrix = mat4.create();\n\t\tmat4.multiply(this._shadowMatrix, this._cameraLight.projection, this._cameraLight.viewMatrix);\n\t\tmat4.multiply(this._shadowMatrix, biasMatrix, this._shadowMatrix);\n\n\n\t\tthis._fboBg1.bind();\n\t\tGL.clear(0, 0, 0, 0);\n\t\tthis._vBg.render();\n\t\tthis._fboBg1.unbind();\n\n\t\tthis.mtxModel = mat4.create();\n\t\tthis.touch = [0, 0, 0];\n\n\t\tif(!Config.debugVisual) {\n\t\t\tsetInterval(()=>this.loop(), 1000/Config.fps);\t\n\t\t} else {\n\t\t\tthis.start();\n\t\t}\n\n\t\tthis.resize();\n\n\n\t\twindow.addEventListener('mousemove', (e) => {\n\t\t\tlet r = 0.3;\n\t\t\tlet x = e.clientX / GL.width - 0.5;\n\t\t\tlet y = e.clientY / GL.height - 0.5;\n\n\t\t\tthis.orbitalControl.rx.value = y * r * 0.5;\n\t\t\tthis.orbitalControl.ry.value = x * r;\n\n\t\t})\n\t}\n\n\n\tupdateLight() {\n\t\tmat4.identity(this._shadowMatrix);\n\t\tthis._cameraLight.lookAt([Config.lightX, Config.lightY, Config.lightZ], [0, 0, 0]);\n\t\tmat4.multiply(this._shadowMatrix, this._cameraLight.projection, this._cameraLight.viewMatrix);\n\t\tmat4.multiply(this._shadowMatrix, biasMatrix, this._shadowMatrix);\n\t}\n\n\n\t_initTextures() {\n\t\tthis.resize();\n\n\n\t\tconst oSettings = {\tminFilter:GL.LINEAR, magFilter:GL.LINEAR };\n\t\tthis._fboShadow = new alfrid.FrameBuffer(1024, 1024, oSettings);\n\n\n\t\tconst fboSize = 2048;\n\n\t\tthis._fboBg1 = new alfrid.FrameBuffer(fboSize, fboSize, oSettings);\n\t\tthis._fboBg2 = new alfrid.FrameBuffer(fboSize, fboSize, oSettings);\n\n\t\tthis._fboRender = new alfrid.FrameBuffer(GL.width * fboScale, GL.height * fboScale);\n\n\t\tthis._textureParticle = new ParticleTexture();\n\t}\n\n\n\t_initViews() {\n\t\t//\thelpers\n\t\tthis._bCopy = new alfrid.BatchCopy();\n\t\t// this._bBall = new alfrid.BatchBall();\n\n\t\tthis._vBg = new ViewBackground();\n\t\tthis._vBgCompose = new ViewComposeBg();\n\t\t// this._vDimensions = new ViewDimensions();\n\n\t\t//\tpost effects\n\t\tthis._vFxaa     = new ViewFXAA();\n\t\tthis._passBloom = new PassBloom(5, 1);\n\n\n\t\t//\tviews\n\t\tthis._vRender = new ViewRender();\n\t\tthis._vRenderShadow = new ViewRenderShadow();\n\t\tthis._vSim \t  = new ViewSim();\n\n\t\tthis._vSave = new ViewSave();\n\n\n\t\tthis._particleSets = [];\n\n\t\tlet i = Config.numParticleSets \n\t\twhile(i--) {\n\t\t\tconst particleSim = new ParticleSimulation();\n\t\t\tthis._particleSets.push(particleSim);\n\t\t}\n\t\tthis._trail = new Trails();\n\n\t\tGL.setMatrices(this.camera);\n\t}\n\n\n\tupdateFbo(fboParticle) {\n\t\tfboParticle.write.bind();\n\t\tGL.clear(0, 0, 0, 1);\n\t\tthis._vSim.render(\n\t\t\tfboParticle.read.getTexture(1), \n\t\t\tfboParticle.read.getTexture(0), \n\t\t\tfboParticle.read.getTexture(2),\n\t\t\tfboParticle.read.getTexture(3),\n\t\t\tfalse\n\t\t\t);\n\t\tfboParticle.write.unbind();\n\t\tfboParticle.swap();\n\n\n\t}\n\n\t_renderParticles(fboParticle) {\n\t\tthis._vRender.render(\n\t\t\tfboParticle.read.getTexture(0), \n\t\t\tfboParticle.read.getTexture(2),\n\t\t\tthis._shadowMatrix, \n\t\t\tthis._fboShadow.getDepthTexture(),\n\t\t\tthis.textureParticle,\n\t\t\tfboParticle.read.getTexture(3),\n\t\t\tthis._fboBg1.getTexture(),\n\t\t\tthis._fboBg2.getTexture(),\n\t\t);\n\t}\n\n\t_renderShadowMap(fboParticle) {\n\t\tthis._fboShadow.bind();\n\t\tGL.clear(0, 0, 0, 0);\n\t\tGL.setMatrices(this._cameraLight);\n\t\tthis._vRenderShadow.render(\n\t\t\tfboParticle.read.getTexture(0),\n\t\t\tfboParticle.read.getTexture(2),\n\t\t);\n\t\tthis._fboShadow.unbind();\n\t}\n\n\n\tstart() {\n\t\tFlowControl.start();\n\t\tthis.resume();\n\t}\n\n\n\tpause() {\tthis._isRunning = false;\t}\n\n\n\tresume() {\tthis._isRunning = true;\t}\n\n\n\trender() {\n\t\tif(Config.debugVisual) {\n\t\t\tthis.loop();\n\t\t}\n\t}\n\n\n\tloop() {\n\t\n\t\tif(!this._isRunning ) {\n\t\t\treturn;\n\t\t}\n\t\tTime.tick();\n\t\tif(Time.frame > FlowControl.totalFrames + 10) {\n\t\t\treturn;\n\t\t}\n\t\tFlowControl.update();\n\t\tthis._particleSets.forEach( particleSim => particleSim.update());\n\n\t\tthis._trail.update(this.touch);\n\n\t\tGL.enable(GL.DEPTH_TEST);\n\t\tthis._particleSets.forEach( particleSim => {\n\t\t\tthis._renderShadowMap(particleSim.fboParticle);\n\t\t});\n\n\n\t\tthis._fboRender.bind();\n\n\t\tGL.clear(0, 0, 0, 1);\n\t\tGL.setMatrices(this.camera);\n\n\t\tGL.disable(GL.DEPTH_TEST);\n\n\t\t\n\t\tthis._vBgCompose.render(Assets.get('bg'));\n\t\t// if(Config.showDimensions) {\tthis._vDimensions.render();\t\t}\n\n\t\tGL.enable(GL.DEPTH_TEST);\n\n\t\tlet size = graphSize;\n\t\tlet x = TARGET_WIDTH * 0.5 * this._canvasScale - size/2;\n\t\tlet y = TARGET_HEIGHT * 0.5 * this._canvasScale - size/2;\n\n\t\tGL.viewport(x * this._innerScale, y * this._innerScale, size * this._innerScale, size * this._innerScale);\n\n\n\t\tif(Config.showLines) {\tthis._trail.render(this._fboBg1.getTexture(), this._fboBg2.getTexture());\t}\n\t\tif(Config.showParticles) {\t\n\t\t\tthis._particleSets.forEach( particleSim => {\n\t\t\t\tthis._renderParticles(particleSim.fboParticle);\n\t\t\t});\n\t\t}\n\t\t\n\t\t\n\t\tlet s = 0.2;\n\t\t// this._bBall.draw(this.touch, [s, s, s], [1, 1, 1]);\n\n\t\tthis._fboRender.unbind();\n\n\t\tGL.disable(GL.DEPTH_TEST);\n\n\n\t\t//\tPOST EFFECTS\n\n\t\tthis._passBloom.render(this._fboRender.getTexture());\n\t\tthis._vFxaa.render(this._fboRender.getTexture(), this._passBloom.getTexture());\n\n\t\tif(Config.exportFrame && !Config.debugVisual) {\n\t\t\tconst num = formNumber(Time.frame)\n\t\t\tsaveImage(GL.canvas, `BlackHole${num}`);\t\n\t\t}\n\t\t\n\t}\n\n\n\tresize(w, h) {\n\t\tlet width = TARGET_WIDTH;\n\t\tlet height = TARGET_HEIGHT;\n\n\t\tthis._toReize( w || width, h || height);\n\t}\n\n\t_toReize(width, height) {\n\t\tconst { innerWidth, innerHeight, devicePixelRatio } = window;\n\t\tconst ratio = width / height;\n\n\t\tlet sx = innerWidth / width;\n\t\tlet sy = innerHeight / height;\n\t\tlet scale = Math.min(sx, sy);\n\t\tthis._canvasScale = innerWidth / TARGET_WIDTH;\n\n\t\tlet w = width * scale;\n\t\tlet h = height * scale;\n\n\t\tscale = TARGET_HEIGHT / h;\n\t\t// scale = Math.min(scale, 3.0);\n\n\n\t\tif(!Config.fullscaleCanvas) {\n\t\t\tscale = 1;\n\t\t}\n\n\t\tthis._innerScale = scale;\n\t\tconsole.log('this._innerScale', this._innerScale);\n\n\t\tGL.setSize(w * scale, h * scale);\n\t\tGL.canvas.style.width = `${w}px`;\n\t\tGL.canvas.style.height = `${h}px`;\n\t\tGL.canvas.style.top = `${(innerHeight - h) * 0.5}px`;\n\t\tGL.canvas.style.left = `${(innerWidth - w) * 0.5}px`;\n\n\t\tif(this._fboBg1) {\n\t\t\tthis._fboBg1.bind();\n\t\t\tGL.clear(0, 0, 0, 0);\n\t\t\tthis._vBg.render();\n\t\t\tthis._fboBg1.unbind();\n\n\t\t\tthis._fboBg2.bind();\n\t\t\tGL.clear(0, 0, 0, 0);\n\t\t\tthis._vBg.render(Assets.get('nebula3'));\n\t\t\tthis._fboBg2.unbind();\t\n\t\t}\n\t\t\n\t}\n\n\n\tget textureParticle() {\n\t\treturn this._textureParticle.getTexture();\n\t}\n}\n\n\nexport default SceneApp;\n\n\n// WEBPACK FOOTER //\n// ./src/js/SceneApp.js","module.exports = \"// save.vert\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\nattribute vec3 aExtra;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vColor;\\nvarying vec3 vNormal;\\nvarying vec3 vExtra;\\n\\nvoid main(void) {\\n\\tvColor       = aVertexPosition;\\n\\tvec3 pos     = vec3(aTextureCoord, 0.0);\\n\\tgl_Position  = vec4(pos, 1.0);\\n\\t\\n\\tgl_PointSize = 1.0;\\n\\t\\n\\tvNormal      = aNormal;\\n\\tvExtra       = aExtra;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/save.vert\n// module id = 21\n// module chunks = 0","module.exports = \"// save.frag\\n\\n#extension GL_EXT_draw_buffers : require \\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvarying vec3 vColor;\\nvarying vec3 vExtra;\\n\\nvoid main(void) {\\n    gl_FragData[0] = vec4(vColor, 1.0);\\n    gl_FragData[1] = vec4(0.0, 0.0, 0.0, 1.0);\\n    gl_FragData[2] = vec4(vExtra, 1.0);\\n    gl_FragData[3] = vec4(vColor, 1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/save.frag\n// module id = 22\n// module chunks = 0","// ViewRender.js\n\nimport alfrid, { GL } from 'alfrid';\nimport vs from 'shaders/render.vert';\nimport fs from 'shaders/render.frag';\nimport Config from './Config';\nimport FlowControl from './FlowControl';\n\nclass ViewRender extends alfrid.View {\n\t\n\tconstructor() {\n\t\tsuper(vs, fs);\n\t\tthis.time = Math.random() * 0xFFF;\n\t}\n\n\n\t_init() {\n\t\tlet positions    = [];\n\t\tlet coords       = [];\n\t\tlet indices      = []; \n\t\tlet count        = 0;\n\t\tlet numParticles = Config.numParticles;\n\t\tlet ux, uy;\n\n\t\tfor(let j = 0; j < numParticles; j++) {\n\t\t\tfor(let i = 0; i < numParticles; i++) {\n\t\t\t\tux = i / numParticles;\n\t\t\t\tuy = j / numParticles;\n\t\t\t\tpositions.push([ux, uy, 0]);\n\t\t\t\tindices.push(count);\n\t\t\t\tcount ++;\n\n\t\t\t}\n\t\t}\n\n\t\tthis.mesh = new alfrid.Mesh(GL.POINTS);\n\t\tthis.mesh.bufferVertex(positions);\n\t\tthis.mesh.bufferIndex(indices);\n\t}\n\n\n\trender(textureCurr, textureExtra, mShadowMatrix, mTextureDepth, textureParticle, textureOrg, textureBg1, textureBg2) {\n\t\tthis.time += 0.1;\n\t\tthis.shader.bind();\n\n\t\tthis.shader.uniform('textureCurr', 'uniform1i', 0);\n\t\ttextureCurr.bind(0);\n\n\t\tthis.shader.uniform('textureExtra', 'uniform1i', 1);\n\t\ttextureExtra.bind(1);\n\n\t\tthis.shader.uniform(\"textureParticle\", \"uniform1i\", 2);\n\t\ttextureParticle.bind(2);\n\n\t\tthis.shader.uniform(\"textureDepth\", \"uniform1i\", 3);\n\t\tmTextureDepth.bind(3);\n\n\t\tthis.shader.uniform(\"textureOrg\", \"uniform1i\", 4);\n\t\ttextureOrg.bind(4);\n\n\t\tthis.shader.uniform(\"textureBg1\", \"uniform1i\", 5);\n\t\ttextureBg1.bind(5);\n\n\t\tthis.shader.uniform(\"textureBg2\", \"uniform1i\", 6);\n\t\ttextureBg2.bind(6);\n\n\n\t\tthis.shader.uniform(\"uShadowMatrix\", \"mat4\", mShadowMatrix);\n\t\tthis.shader.uniform('uViewport', 'vec2', [GL.width, GL.height]);\n\t\tthis.shader.uniform('uContrast', 'float', Config.particleContrast);\n\t\tthis.shader.uniform('time', 'float', this.time);\n\t\tthis.shader.uniform(\"uOpacity\", \"float\", FlowControl.bgOpeningOffset);\n\t\tthis.shader.uniform(\"uOffsetFadeOut\", \"float\", Config.fadeOutOffset);\n\t\tthis.shader.uniform(\"uLight\", \"vec3\", [Config.lightX, Config.lightY, Config.lightZ]);\n\n\t\tconst s = Config.centred ? (1/3) : 1;\n\t\tthis.shader.uniform(\"uParticleScale\", \"float\", Config.particleScale * s);\n\n\t\tGL.draw(this.mesh);\n\t}\n\n}\n\nexport default ViewRender;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewRender.js","module.exports = \"precision highp float;\\n#define GLSLIFY 1\\n\\nvarying vec4 vColor;\\nvarying vec4 vShadowCoord;\\nvarying vec3 vWsPosition;\\nvarying vec3 vExtra;\\nvarying vec4 vScreenPosition;\\n\\nuniform sampler2D textureDepth;\\nuniform sampler2D textureParticle;\\nuniform float uContrast;\\nuniform float uOpacity;\\nuniform vec3 uLight;\\nuniform float time;\\n\\nuniform sampler2D textureBg1;\\nuniform sampler2D textureBg2;\\nuniform float uOffsetFadeOut;\\n\\n#define uMapSize vec2(1024.0)\\n#define FOG_DENSITY 0.2\\n#define LIGHT_POS vec3(0.0, 10.0, 0.0)\\n\\n\\n// snoise.glsl\\n\\nvec4 permute_1_0(vec4 x) {  return mod(((x*34.0)+1.0)*x, 289.0);    }\\nvec4 taylorInvSqrt_1_1(vec4 r) {    return 1.79284291400159 - 0.85373472095314 * r; }\\n\\nfloat snoise_1_2(vec3 v){\\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\\n    const vec4  D_1_3 = vec4(0.0, 0.5, 1.0, 2.0);\\n    \\n    vec3 i  = floor(v + dot(v, C.yyy) );\\n    vec3 x0 = v - i + dot(i, C.xxx) ;\\n    \\n    vec3 g_1_4 = step(x0.yzx, x0.xyz);\\n    vec3 l = 1.0 - g_1_4;\\n    vec3 i1 = min( g_1_4.xyz, l.zxy );\\n    vec3 i2 = max( g_1_4.xyz, l.zxy );\\n    \\n    vec3 x1 = x0 - i1 + 1.0 * C.xxx;\\n    vec3 x2 = x0 - i2 + 2.0 * C.xxx;\\n    vec3 x3 = x0 - 1. + 3.0 * C.xxx;\\n    \\n    i = mod(i, 289.0 );\\n    vec4 p = permute_1_0( permute_1_0( permute_1_0( i.z + vec4(0.0, i1.z, i2.z, 1.0 )) + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\\n    \\n    float n_ = 1.0/7.0;\\n    vec3  ns = n_ * D_1_3.wyz - D_1_3.xzx;\\n    \\n    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);\\n    \\n    vec4 x_ = floor(j * ns.z);\\n    vec4 y_ = floor(j - 7.0 * x_ );\\n    \\n    vec4 x = x_ *ns.x + ns.yyyy;\\n    vec4 y = y_ *ns.x + ns.yyyy;\\n    vec4 h = 1.0 - abs(x) - abs(y);\\n    \\n    vec4 b0 = vec4( x.xy, y.xy );\\n    vec4 b1 = vec4( x.zw, y.zw );\\n    \\n    vec4 s0 = floor(b0)*2.0 + 1.0;\\n    vec4 s1 = floor(b1)*2.0 + 1.0;\\n    vec4 sh = -step(h, vec4(0.0));\\n    \\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\\n    vec4 a1_1_5 = b1.xzyw + s1.xzyw*sh.zzww ;\\n    \\n    vec3 p0_1_6 = vec3(a0.xy,h.x);\\n    vec3 p1 = vec3(a0.zw,h.y);\\n    vec3 p2 = vec3(a1_1_5.xy,h.z);\\n    vec3 p3 = vec3(a1_1_5.zw,h.w);\\n    \\n    vec4 norm = taylorInvSqrt_1_1(vec4(dot(p0_1_6,p0_1_6), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\\n    p0_1_6 *= norm.x;\\n    p1 *= norm.y;\\n    p2 *= norm.z;\\n    p3 *= norm.w;\\n    \\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\\n    m = m * m;\\n    return 42.0 * dot( m*m, vec4( dot(p0_1_6,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );\\n}\\n\\nfloat snoise_1_2(float x, float y, float z){\\n    return snoise_1_2(vec3(x, y, z));\\n}\\n\\n\\n\\n\\nfloat rand(vec4 seed4) {\\n\\tfloat dot_product = dot(seed4, vec4(12.9898,78.233,45.164,94.673));\\n\\treturn fract(sin(dot_product) * 43758.5453);\\n}\\n\\n\\nfloat PCFShadow(sampler2D depths, vec2 size, vec4 shadowCoord) {\\n\\tfloat result = 0.0;\\n\\tfloat bias = 0.005;\\n\\tvec2 uv = shadowCoord.xy;\\n\\n\\tfor(int x=-1; x<=1; x++){\\n\\t\\tfor(int y=-1; y<=1; y++){\\n\\t\\t\\tvec2 off = vec2(x,y) + rand(vec4(gl_FragCoord.xy, float(x), float(y)));\\n\\t\\t\\toff /= size;\\n\\n\\t\\t\\tfloat d = texture2D(depths, uv + off).r;\\n\\t\\t\\tif(d < shadowCoord.z - bias) {\\n\\t\\t\\t\\tresult += 1.0;\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\t}\\n\\treturn 1.0 -result/9.0;\\n\\n}\\n\\nfloat fogFactorExp2(const float dist, const float density) {\\n\\tconst float LOG2 = -1.442695;\\n\\tfloat d = density * dist;\\n\\treturn 1.0 - clamp(exp2(d * d * LOG2), 0.0, 1.0);\\n}\\n\\n\\nfloat diffuse(vec3 N, vec3 L) {\\n\\treturn max(dot(N, normalize(L)), 0.0);\\n}\\n\\n\\nvec3 diffuse(vec3 N, vec3 L, vec3 C) {\\n\\treturn diffuse(N, L) * C;\\n}\\n\\n\\nvec3 getPolarCoord(vec3 pos) {\\n\\tfloat a = atan(pos.y, pos.x);\\n\\tfloat l = length(pos.xy);\\n\\treturn vec3(a, l, pos.z);\\n}\\n\\nvoid main(void) {\\n\\t// if(distance(gl_PointCoord, vec2(.5)) > .5) discard;\\n\\tvec2 uv            = gl_PointCoord;\\n\\tuv.y               = 1.0 - uv.y;\\n\\tvec4 colorMap      = texture2D(textureParticle, uv);\\n\\tif(colorMap.r      <= 0.0) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 N             = colorMap.rgb * 2.0 - 1.0;\\n\\t\\n\\tvec4 shadowCoord   = vShadowCoord / vShadowCoord.w;\\n\\tfloat s            = PCFShadow(textureDepth, uMapSize, shadowCoord);\\n\\ts                  = mix(s, 1.0, .1);\\n\\t\\n\\tvec3 light         = mix(normalize(uLight), normalize(LIGHT_POS), .5);\\n\\t\\n\\tfloat d            = diffuse(N, light);\\n\\td                  = mix(d, 1.0, .2);\\n\\t\\n\\t\\n\\tfloat distToCenter = length(vWsPosition.xy);\\n\\t\\n\\tfloat numWaves     = 6.0 + sin(cos(time * 2.32443589) * 0.7435987) * 2.0;\\n\\tvec3 posPolar      = getPolarCoord(vWsPosition);\\n\\tposPolar.x         = sin(posPolar.x * numWaves + posPolar.y) * 2.0;\\n\\tfloat noiseSeed    = snoise_1_2(vec3(posPolar + time * 0.15));\\n\\tfloat noise        = snoise_1_2(vec3(vWsPosition.xy * 0.5, noiseSeed));\\n\\t\\n\\tvec2 uvScreen      = vScreenPosition.xy / vScreenPosition.w * .5 + .5;\\t\\n\\t// float start     = 2.25 + (vExtra.b - 0.5) * 1.2;\\n\\tfloat start        = mix(1.0, 3.0, vExtra.b);\\n\\t// float leng      = (1.0 + (vExtra.r - 0.5) * 1.5) * 3.0;\\n\\tfloat leng         = mix(2.5, 4.0, vExtra.r);\\n\\tfloat p            = smoothstep(start, start + leng + noise * 0.1, distToCenter);\\n\\tuvScreen.x         = abs(uvScreen.x - 0.5) + 0.5;\\n\\tuvScreen           += (vExtra.gb - 0.5) * 0.4;\\n\\tvec4 color1        = texture2D(textureBg1, uvScreen);\\n\\tvec4 color2        = texture2D(textureBg2, uvScreen);\\n\\t\\n\\tvec4 color         = vec4(vec3(d), 1.0);\\n\\tcolor              *= mix(color2, color1, p);\\n\\tcolor.rgb          *= s * vColor.rgb * uContrast;\\n\\tcolor.rgb          *= mix(vExtra.g, 1.5, .5);\\n\\t\\n\\t\\n\\tfloat opacity      = smoothstep(6.0+uOffsetFadeOut, 3.0+uOffsetFadeOut, distToCenter);\\n\\t// float opacity0  = smoothstep(0.75, 2.0, distToCenter);\\n\\tfloat zThreshold   = -3.25;\\n\\tfloat opacityZ     = smoothstep(zThreshold-0.5, zThreshold, vWsPosition.z);\\n\\t\\n\\tfloat opacityOpen  = smoothstep(0.0, 0.5, uOpacity);\\n\\tcolor              *= opacity * opacityZ * opacityOpen;\\n\\t\\n\\tgl_FragColor       = color;\\n\\t// gl_FragColor       = vec4(vec3(noise), 1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/render.frag\n// module id = 24\n// module chunks = 0","// TweenNumber.js\n\n// TweenNumber.js\n\n'use strict';\n\nimport Scheduler from 'scheduling';\n\nconst Easing = {\n\tLinear: {\n\t\tNone(k) {\n\t\t\treturn k;\n\t\t}\n\t},\n\tQuadratic: {\n\t\tIn(k) {\n\t\t\treturn k * k;\n\t\t},\n\t\tOut(k) {\n\t\t\treturn k * (2 - k);\n\t\t},\n\t\tInOut(k) {\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\t\t}\n\t},\n\tCubic: {\n\t\tIn(k) {\n\t\t\treturn k * k * k;\n\t\t},\n\t\tOut(k) {\n\t\t\treturn --k * k * k + 1;\n\t\t},\n\t\tInOut(k) {\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\t\t}\n\t},\n\tQuartic: {\n\t\tIn(k) {\n\t\t\treturn k * k * k * k;\n\t\t},\n\t\tOut(k) {\n\t\t\treturn 1 - (--k * k * k * k);\n\t\t},\n\t\tInOut(k) {\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\t\t}\n\t},\n\tQuintic: {\n\t\tIn(k) {\n\t\t\treturn k * k * k * k * k;\n\t\t},\n\t\tOut(k) {\n\t\t\treturn --k * k * k * k * k + 1;\n\t\t},\n\t\tInOut(k) {\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\t\t}\n\t},\n\tSinusoidal: {\n\t\tIn(k) {\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\t\t},\n\t\tOut(k) {\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\t\t},\n\t\tInOut(k) {\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\t\t}\n\t},\n\tExponential: {\n\t\tIn(k) {\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\t\t},\n\t\tOut(k) {\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\t\t},\n\t\tInOut(k) {\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\t\t}\n\t},\n\tCircular: {\n\t\tIn(k) {\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\t\t},\n\t\tOut(k) {\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\t\t},\n\t\tInOut(k) {\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\t\t}\n\t},\n\tElastic: {\n\t\tIn(k) {\n\t\t\tlet s;\n\t\t\tlet a = 0.1;\n\t\t\tconst p = 0.4;\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\t\t\treturn - (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n\t\t},\n\t\tOut(k) {\n\t\t\tlet s;\n\t\t\tlet a = 0.1;\n\t\t\tconst p = 0.4;\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\t\t\treturn (a * Math.pow(2, - 10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n\t\t},\n\t\tInOut(k) {\n\t\t\tlet s;\n\t\t\tlet a = 0.1;\n\t\t\tconst p = 0.4;\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t}\n\t},\n\tBack: {\n\t\tIn(k) {\n\t\t\tconst s = 1.70158;\n\t\t\treturn k * k * ((s + 1) * k - s);\n\t\t},\n\t\tOut(k) {\n\t\t\tconst s = 1.70158;\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\t\t},\n\t\tInOut(k) {\n\t\t\tconst s = 1.70158 * 1.525;\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\t\t}\n\t},\n\tBounce: {\n\t\tin(k) {\n\t\t\treturn 1 - Easing.Bounce.out(1 - k);\n\t\t},\n\t\tout(k) {\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\t\t},\n\t\tinOut(k) {\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn Easing.Bounce.in(k * 2) * 0.5;\n\t\t\t}\n\t\t\treturn Easing.Bounce.out(k * 2 - 1) * 0.5 + 0.5;\n\t\t}\n\t}\n};\n\nfunction getFunc(mEasing) {\n\tswitch (mEasing) {\n\tdefault:\n\tcase 'linear' :\n\t\treturn Easing.Linear.None;\n\tcase 'expIn' :\n\t\treturn Easing.Exponential.In;\n\tcase 'expOut' :\n\t\treturn Easing.Exponential.Out;\n\tcase 'expInOut' :\n\t\treturn Easing.Exponential.InOut;\n\n\tcase 'cubicIn' :\n\t\treturn Easing.Cubic.In;\n\tcase 'cubicOut' :\n\t\treturn Easing.Cubic.Out;\n\tcase 'cubicInOut' :\n\t\treturn Easing.Cubic.InOut;\n\n\tcase 'quarticIn' :\n\t\treturn Easing.Quartic.In;\n\tcase 'quarticOut' :\n\t\treturn Easing.Quartic.Out;\n\tcase 'quarticInOut' :\n\t\treturn Easing.Quartic.InOut;\n\n\tcase 'quinticIn' :\n\t\treturn Easing.Quintic.In;\n\tcase 'quinticOut' :\n\t\treturn Easing.Quintic.Out;\n\tcase 'quinticInOut' :\n\t\treturn Easing.Quintic.InOut;\n\n\tcase 'sinusoidalIn' :\n\t\treturn Easing.Sinusoidal.In;\n\tcase 'sinusoidalOut' :\n\t\treturn Easing.Sinusoidal.Out;\n\tcase 'sinusoidalInOut' :\n\t\treturn Easing.Sinusoidal.InOut;\n\n\tcase 'circularIn' :\n\t\treturn Easing.Circular.In;\n\tcase 'circularOut' :\n\t\treturn Easing.Circular.Out;\n\tcase 'circularInOut' :\n\t\treturn Easing.Circular.InOut;\n\n\tcase 'elasticIn' :\n\t\treturn Easing.Elastic.In;\n\tcase 'elasticOut' :\n\t\treturn Easing.Elastic.Out;\n\tcase 'elasticInOut' :\n\t\treturn Easing.Elastic.InOut;\n\n\tcase 'backIn' :\n\t\treturn Easing.Back.In;\n\tcase 'backOut' :\n\t\treturn Easing.Back.Out;\n\tcase 'backInOut' :\n\t\treturn Easing.Back.InOut;\n\n\tcase 'bounceIn' :\n\t\treturn Easing.Bounce.in;\n\tcase 'bounceOut' :\n\t\treturn Easing.Bounce.out;\n\tcase 'bounceInOut' :\n\t\treturn Easing.Bounce.inOut;\n\t}\n}\n\nclass TweenNumber {\n\tconstructor(mValue, mEasing = 'expOut', mSpeed = 0.01) {\n\t\tthis._value = mValue;\n\t\tthis._startValue = mValue;\n\t\tthis._targetValue = mValue;\n\t\tthis._counter = 1;\n\t\tthis.speed = mSpeed;\n\t\tthis.easing = mEasing;\n\t\tthis._needUpdate = true;\n\n\t\t// this._efIndex     = Scheduler.addEF(()=> this._update());\n\t}\n\n\n\tupdate() {\n\t\tlet newCounter = this._counter + this.speed;\n\t\tif(newCounter > 1) { newCounter = 1; }\n\t\tif(this._counter === newCounter) {\n\t\t\tthis._needUpdate = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._counter = newCounter;\n\t\tthis._needUpdate = true;\n\t}\n\n\n\tlimit(mMin, mMax) {\n\t\tif(mMin > mMax) {\n\t\t\tthis.limit(mMax, mMin);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._min = mMin;\n\t\tthis._max = mMax;\n\n\t\tthis._checkLimit();\n\t}\n\n\tsetTo(mValue) {\n\t\tthis._value = mValue;\n\t\tthis._targetValue = mValue;\n\t\tthis._counter = 1;\n\t}\n\n\n\t_checkLimit() {\n\t\tif(this._min !== undefined && this._targetValue < this._min) {\n\t\t\tthis._targetValue = this._min;\n\t\t} \n\n\t\tif(this._max !== undefined && this._targetValue > this._max) {\n\t\t\tthis._targetValue = this._max;\n\t\t} \n\t}\n\n\n\tdestroy() {\n\t\tScheduler.removeEF(this._efIndex);\n\t}\n\n\t//\tGETTERS / SETTERS\n\n\tset value(mValue) {\n\t\tthis._startValue = this._value;\n\t\tthis._targetValue = mValue;\n\t\tthis._checkLimit();\n\t\tthis._counter = 0;\n\t}\n\n\tget value() {\n\t\tif(this._needUpdate) {\n\t\t\tconst f = getFunc(this.easing);\n\t\t\tconst p = f(this._counter);\n\t\t\tthis._value = this._startValue + p * (this._targetValue - this._startValue);\n\t\t\tthis._needUpdate = false;\n\t\t}\n\t\treturn this._value;\n\t}\n\n\tget targetValue() {\n\t\treturn this._targetValue;\n\t}\n}\n\n\nexport default TweenNumber;\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/TweenNumber.js","// Scheduler.js\nconst FRAMERATE = 60;\n\nclass Scheduler {\n\n\tconstructor() {\n\t\tthis._delayTasks = [];\n\t\tthis._nextTasks = [];\n\t\tthis._deferTasks = [];\n\t\tthis._highTasks = [];\n\t\tthis._usurpTask = [];\n\t\tthis._enterframeTasks = [];\n\t\tthis._idTable = 0;\n\n\t\tthis._startTime = new Date().getTime();\n\n\t\tthis._deltaTime = 0;\n\t\tthis._internalTime = 0;\n\t\tthis._isPaused = false;\n\n\n\t\tthis._loop();\n\t}\n\n\n\t//  PUBLIC METHODS\n\n\taddEF(func, params) {\n\t\tparams = params || [];\n\t\tconst id = this._idTable;\n\t\tthis._enterframeTasks[id] = { func, params };\n\t\tthis._idTable ++;\n\t\treturn id;\n\t}\n\n\tremoveEF(id) {\n\t\tif (this._enterframeTasks[id] !== undefined) {\n\t\t\tthis._enterframeTasks[id] = null;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tdelay(func, params, delay) {\n\t\tconst time = new Date().getTime();\n\t\tconst t = { func, params, delay, time };\n\t\tthis._delayTasks.push(t);\n\t}\n\n\tdefer(func, params) {\n\t\tconst t = { func, params };\n\t\tthis._deferTasks.push(t);\n\t}\n\n\tnext(func, params) {\n\t\tconst t = { func, params };\n\t\tthis._nextTasks.push(t);\n\t}\n\n\tusurp(func, params) {\n\t\tconst t = { func, params };\n\t\tthis._usurpTask.push(t);\n\t}\n\n\n\tpause() {\n\t\tthis._isPaused = true;\n\t}\n\n\n\tadvance() {\n\t\tthis._internalTime += 1 / FRAMERATE;\n\t}\n\n\n\tresume() {\n\t\tthis._isPaused = false;\n\t}\n\n\t//  PRIVATE METHODS\n\n\t_process() {\n\t\tlet i = 0;\n\t\tlet task;\n\t\tlet interval;\n\t\tlet current;\n\t\tfor (i = 0; i < this._enterframeTasks.length; i++) {\n\t\t\ttask = this._enterframeTasks[i];\n\t\t\tif (task !== null && task !== undefined) {\n\t\t\t\ttask.func(task.params);\n\t\t\t}\n\t\t}\n\n\t\twhile (this._highTasks.length > 0) {\n\t\t\ttask = this._highTasks.pop();\n\t\t\ttask.func(task.params);\n\t\t}\n\n\n\t\tlet startTime = new Date().getTime();\n\t\tlet _startTime = this._deltaTime;\n\t\tthis._deltaTime = (startTime - this._startTime)/1000;\n\n\t\tfor (i = 0; i < this._delayTasks.length; i++) {\n\t\t\ttask = this._delayTasks[i];\n\t\t\tif (startTime - task.time > task.delay) {\n\t\t\t\ttask.func(task.params);\n\t\t\t\tthis._delayTasks.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tstartTime = new Date().getTime();\n\t\tthis._deltaTime = (startTime - this._startTime)/1000;\n\t\tinterval = 1000 / FRAMERATE;\n\t\twhile (this._deferTasks.length > 0) {\n\t\t\ttask = this._deferTasks.shift();\n\t\t\tcurrent = new Date().getTime();\n\t\t\tif (current - startTime < interval) {\n\t\t\t\ttask.func(task.params);\n\t\t\t} else {\n\t\t\t\tthis._deferTasks.unshift(task);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\n\t\tstartTime = new Date().getTime();\n\t\tthis._deltaTime = (startTime - this._startTime)/1000;\n\t\tinterval = 1000 / FRAMERATE;\n\t\twhile (this._usurpTask.length > 0) {\n\t\t\ttask = this._usurpTask.shift();\n\t\t\tcurrent = new Date().getTime();\n\t\t\tif (current - startTime < interval) {\n\t\t\t\ttask.func(task.params);\n\t\t\t}\n\t\t}\n\n\t\tthis._highTasks = this._highTasks.concat(this._nextTasks);\n\t\tthis._nextTasks = [];\n\t\tthis._usurpTask = [];\n\n\t\tif(!this._isPaused) {\n\t\t\tthis._internalTime += this._deltaTime - _startTime;\n\t\t}\n\t}\n\n\n\t_loop() {\n\t\tthis._process();\n\t\twindow.requestAnimationFrame(() => this._loop());\n\t}\n\n\tget intervalTime() {\n\t\treturn this._internalTime;\n\t}\n\n\tget deltaTime() {\n\t\treturn this._deltaTime;\n\t}\n}\n\nconst scheduler = new Scheduler();\n\nexport default scheduler;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/scheduling/src/scheduler.js\n// module id = 26\n// module chunks = 0","// ViewRender.js\n\nimport alfrid, { GL } from 'alfrid';\nimport vs from 'shaders/render.vert';\nimport fs from 'shaders/renderShadow.frag';\nimport Config from './Config';\n\nclass ViewRender extends alfrid.View {\n\t\n\tconstructor() {\n\t\tsuper(vs, fs);\n\t\tthis.time = Math.random() * 0xFFF;\n\t}\n\n\n\t_init() {\n\t\tlet positions    = [];\n\t\tlet coords       = [];\n\t\tlet indices      = []; \n\t\tlet count        = 0;\n\t\tlet numParticles = Config.numParticles;\n\t\tlet ux, uy;\n\n\t\tfor(let j = 0; j < numParticles; j++) {\n\t\t\tfor(let i = 0; i < numParticles; i++) {\n\t\t\t\tux = i / numParticles;\n\t\t\t\tuy = j / numParticles;\n\t\t\t\tpositions.push([ux, uy, 0]);\n\t\t\t\tindices.push(count);\n\t\t\t\tcount ++;\n\n\t\t\t}\n\t\t}\n\n\t\tthis.mesh = new alfrid.Mesh(GL.POINTS);\n\t\tthis.mesh.bufferVertex(positions);\n\t\tthis.mesh.bufferIndex(indices);\n\t}\n\n\n\trender(textureCurr, textureExtra) {\n\t\tthis.time += 0.1;\n\t\tthis.shader.bind();\n\n\t\tthis.shader.uniform('textureCurr', 'uniform1i', 0);\n\t\ttextureCurr.bind(0);\n\n\t\tthis.shader.uniform('textureExtra', 'uniform1i', 1);\n\t\ttextureExtra.bind(1);\n\n\t\tthis.shader.uniform('uViewport', 'vec2', [GL.width, GL.height]);\n\t\tthis.shader.uniform('time', 'float', this.time);\n\t\tthis.shader.uniform(\"uParticleScale\", \"float\", Config.particleScale);\n\t\tGL.draw(this.mesh);\n\t}\n\n\n}\n\nexport default ViewRender;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewRenderShadow.js","module.exports = \"precision highp float;\\n#define GLSLIFY 1\\n\\nvarying vec4 vColor;\\n\\nvoid main(void) {\\n\\tif(distance(gl_PointCoord, vec2(.5)) > .5) discard;\\n\\n\\tgl_FragColor = vec4(1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/renderShadow.frag\n// module id = 28\n// module chunks = 0","module.exports = \"// sim.frag\\n\\n#extension GL_EXT_draw_buffers : require \\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvarying vec2 vTextureCoord;\\nuniform sampler2D textureVel;\\nuniform sampler2D texturePos;\\nuniform sampler2D textureExtra;\\nuniform sampler2D textureOrg;\\nuniform float time;\\nuniform float maxRadius;\\nuniform float uPullingForce;\\nuniform float uSpeed;\\nuniform float uLifeScale;\\nuniform float uIsLine;\\nuniform float uGeneralSpeed;\\nuniform float uSpwan;\\nuniform float uSpeedOffset;\\nuniform float uBurstForce;\\n\\n#define tmp vec3(1.0, 0.0, -1.0)\\n#define PI 3.141592653\\n\\n// rotate.glsl\\n\\n\\nvec2 rotate_1_0(vec2 v, float a) {\\n\\tfloat s = sin(a);\\n\\tfloat c = cos(a);\\n\\tmat2 m = mat2(c, -s, s, c);\\n\\treturn m * v;\\n}\\n\\n\\nmat4 rotationMatrix_1_1(vec3 axis, float angle) {\\n    axis = normalize(axis);\\n    float s = sin(angle);\\n    float c = cos(angle);\\n    float oc = 1.0 - c;\\n    \\n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\\n                0.0,                                0.0,                                0.0,                                1.0);\\n}\\n\\nvec3 rotate_1_0(vec3 v, vec3 axis, float angle) {\\n\\tmat4 m = rotationMatrix_1_1(axis, angle);\\n\\treturn (m * vec4(v, 1.0)).xyz;\\n}\\n\\n\\n\\n// curlnoise.glsl\\n\\n// snoise.glsl\\n\\nvec4 permute_3_2(vec4 x) {  return mod(((x*34.0)+1.0)*x, 289.0);    }\\nvec4 taylorInvSqrt_3_3(vec4 r) {    return 1.79284291400159 - 0.85373472095314 * r; }\\n\\nfloat snoise_3_4(vec3 v){\\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\\n    const vec4  D_3_5 = vec4(0.0, 0.5, 1.0, 2.0);\\n    \\n    vec3 i  = floor(v + dot(v, C.yyy) );\\n    vec3 x0 = v - i + dot(i, C.xxx) ;\\n    \\n    vec3 g_3_6 = step(x0.yzx, x0.xyz);\\n    vec3 l = 1.0 - g_3_6;\\n    vec3 i1 = min( g_3_6.xyz, l.zxy );\\n    vec3 i2 = max( g_3_6.xyz, l.zxy );\\n    \\n    vec3 x1 = x0 - i1 + 1.0 * C.xxx;\\n    vec3 x2 = x0 - i2 + 2.0 * C.xxx;\\n    vec3 x3 = x0 - 1. + 3.0 * C.xxx;\\n    \\n    i = mod(i, 289.0 );\\n    vec4 p = permute_3_2( permute_3_2( permute_3_2( i.z + vec4(0.0, i1.z, i2.z, 1.0 )) + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\\n    \\n    float n_ = 1.0/7.0;\\n    vec3  ns = n_ * D_3_5.wyz - D_3_5.xzx;\\n    \\n    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);\\n    \\n    vec4 x_ = floor(j * ns.z);\\n    vec4 y_ = floor(j - 7.0 * x_ );\\n    \\n    vec4 x = x_ *ns.x + ns.yyyy;\\n    vec4 y = y_ *ns.x + ns.yyyy;\\n    vec4 h = 1.0 - abs(x) - abs(y);\\n    \\n    vec4 b0 = vec4( x.xy, y.xy );\\n    vec4 b1 = vec4( x.zw, y.zw );\\n    \\n    vec4 s0 = floor(b0)*2.0 + 1.0;\\n    vec4 s1 = floor(b1)*2.0 + 1.0;\\n    vec4 sh = -step(h, vec4(0.0));\\n    \\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\\n    vec4 a1_3_7 = b1.xzyw + s1.xzyw*sh.zzww ;\\n    \\n    vec3 p0_3_8 = vec3(a0.xy,h.x);\\n    vec3 p1 = vec3(a0.zw,h.y);\\n    vec3 p2 = vec3(a1_3_7.xy,h.z);\\n    vec3 p3 = vec3(a1_3_7.zw,h.w);\\n    \\n    vec4 norm = taylorInvSqrt_3_3(vec4(dot(p0_3_8,p0_3_8), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\\n    p0_3_8 *= norm.x;\\n    p1 *= norm.y;\\n    p2 *= norm.z;\\n    p3 *= norm.w;\\n    \\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\\n    m = m * m;\\n    return 42.0 * dot( m*m, vec4( dot(p0_3_8,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );\\n}\\n\\nfloat snoise_3_4(float x, float y, float z){\\n    return snoise_3_4(vec3(x, y, z));\\n}\\n\\n\\n\\n\\nvec3 mod289_2_9(vec3 x) {\\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\\t}\\n\\nvec4 mod289_2_9(vec4 x) {\\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\\t}\\n\\nvec3 snoiseVec3_2_10( vec3 x ){\\n\\n  float s  = snoise_3_4(vec3( x ));\\n  float s1 = snoise_3_4(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));\\n  float s2 = snoise_3_4(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));\\n  vec3 c = vec3( s , s1 , s2 );\\n  return c;\\n\\n}\\n\\n\\nvec3 curlNoise_2_11( vec3 p ){\\n  \\n  const float e = .1;\\n  vec3 dx = vec3( e   , 0.0 , 0.0 );\\n  vec3 dy = vec3( 0.0 , e   , 0.0 );\\n  vec3 dz = vec3( 0.0 , 0.0 , e   );\\n\\n  vec3 p_x0 = snoiseVec3_2_10( p - dx );\\n  vec3 p_x1 = snoiseVec3_2_10( p + dx );\\n  vec3 p_y0 = snoiseVec3_2_10( p - dy );\\n  vec3 p_y1 = snoiseVec3_2_10( p + dy );\\n  vec3 p_z0 = snoiseVec3_2_10( p - dz );\\n  vec3 p_z1 = snoiseVec3_2_10( p + dz );\\n\\n  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;\\n  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;\\n  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;\\n\\n  const float divisor = 1.0 / ( 2.0 * e );\\n  return normalize( vec3( x , y , z ) * divisor );\\n\\n}\\n\\n\\n\\nfloat cubicOut_4_12(float t) {\\n  float f = t - 1.0;\\n  return f * f * f + 1.0;\\n}\\n\\n\\n\\n\\n\\nvec3 getPolarCoord(vec3 pos) {\\n\\tfloat a = atan(pos.y, pos.x);\\n\\tfloat l = length(pos.xy);\\n\\treturn vec3(a, l, pos.z);\\n}\\n\\nvoid main(void) {\\n\\tvec3 pos           = texture2D(texturePos, vTextureCoord).rgb;\\n\\tvec3 vel           = texture2D(textureVel, vTextureCoord).rgb;\\n\\tvec3 extra         = texture2D(textureExtra, vTextureCoord).rgb;\\n\\tvec3 posOrg        = texture2D(textureOrg, vTextureCoord).rgb;\\n\\tfloat posOffset    = mix(extra.b, 1.0, .95) * .5;\\n\\t\\n\\tfloat life         = extra.x;\\n\\tfloat distToCenter = length(pos);\\n\\t\\n\\t//\\tget polar coordinate\\n\\tfloat numWaves     = 6.0 + sin(cos(time * 2.32443589) * 0.7435987) * 2.0;\\n\\tvec3 posPolar      = getPolarCoord(pos);\\n\\tposPolar.x         = sin(posPolar.x * numWaves + posPolar.y * 4.0) * 2.0;\\n\\tposPolar.y         *= 2.0;\\n\\tposPolar.z         *= 0.1;\\n\\t\\n\\t\\n\\t//\\tnoise force\\n\\tfloat f            = smoothstep(7.0, 5.0, distToCenter);\\n\\tvec3 acc           = curlNoise_2_11(posPolar * posOffset + time * 1.1) * 0.074 * f * vec3(vec2(1.0), 0.5);\\n\\tfloat speedOffset  = mix(extra.b, 1.0, .95);\\n\\t\\n\\t//\\trotate force\\n\\tvec3 dir           = normalize(pos) * vec3(1.0, 1.0, 0.0);\\n\\tdir.xy             = rotate_1_0(dir.xy, PI * 0.5);\\n\\tf                  = smoothstep(5.0, 0.5, distToCenter);\\n\\tacc                += dir * f * 0.5;\\n\\t\\n\\t\\n\\t//\\tpull force\\n\\tfloat pullForce    = uPullingForce;\\n\\tdir                = -normalize(pos);\\n\\tfloat zOffset      = smoothstep(6.0, 3.0, distToCenter);\\n\\tdir.z              -= pullForce * cubicOut_4_12(zOffset);\\n\\tf                  = smoothstep(8.0, 0.5, distToCenter) + 0.1;\\n\\tacc                += dir * f * 0.15;\\n\\t\\n\\t\\n\\t//\\tpush/burst force\\n\\tfloat r            = 3.5 + snoise_3_4(vec3(time * 3.0)) * 0.5;\\n\\tfloat t            = time;\\n\\tvec3 burstCenter   = vec3(cos(t) * r, sin(t) * r, -1.0);\\n\\t\\n\\tfloat dist         = distance(burstCenter, pos);\\n\\tfloat repelRadius  = 2.0;\\n\\tf                  = smoothstep(repelRadius, repelRadius * 0.5, dist);\\n\\tdir                = normalize(pos - burstCenter);\\n\\tfloat pushForce    = clamp(0.0, 1.0, snoise_3_4(vec3(burstCenter.xy * 0.1, time * 4.0)));\\n\\tpushForce          = pow(pushForce, 2.0);\\n\\tfloat offsetSpeed = smoothstep(2.0, 1.0, uSpeedOffset);\\n\\tacc                += dir * f * pushForce * uBurstForce * offsetSpeed;\\n\\n\\n\\n\\t//\\tlife\\n\\tfloat lifeOffset = smoothstep(1.0, 0.5, life);\\n\\n\\tconst float generalSpeed = 0.005;\\n\\tvel                  += acc * speedOffset * ( 1.0 + lifeOffset) * generalSpeed * (1.0 + zOffset * 0.5) * uSpeed * uGeneralSpeed;\\n\\t\\n\\tconst float decrease = .96;\\n\\tvel                  *= decrease;\\n\\t\\n\\tpos                  += vel;\\n\\tlife -= 0.008 * mix(extra.y, 1.0, .5) * uLifeScale;\\n\\tif(life < 0.0) {\\n\\n\\t\\tif(uSpwan > 0.5) {\\n\\t\\t\\tlife = 1.0;\\n\\t\\t\\tpos = posOrg;\\n\\t\\t\\tvel *= normalize(posOrg) * 0.1;\\t\\n\\t\\t} else {\\n\\t\\t\\tlife = 0.0;\\n\\t\\t}\\n\\t}\\n\\n\\textra.x = life;\\n\\n\\tgl_FragData[0] = vec4(pos, 1.0);\\n\\tgl_FragData[1] = vec4(vel, 1.0);\\n\\tgl_FragData[2] = vec4(extra, 1.0);\\n\\tgl_FragData[3] = vec4(posOrg, 1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/sim.frag\n// module id = 29\n// module chunks = 0","// ViewBackground.js\n\nimport alfrid, { GL } from 'alfrid';\nimport Assets from './Assets';\nimport Config from './Config';\nimport vs from 'shaders/bg.vert';\n\nclass ViewBackground extends alfrid.View {\n\t\n\tconstructor() {\n\t\tsuper(vs, alfrid.ShaderLibs.copyFrag);\n\t}\n\n\n\t_init() {\n\t\tthis.texture = Assets.get(Config.image)\n\t\tthis.ratio = this.texture.width / this.texture.height;\n\n\n\t\tthis.mesh = alfrid.Geom.plane(this.ratio, 1, 1);\n\n\t\tthis.resize();\n\t\twindow.addEventListener('resize', ()=>this.resize());\n\t}\n\n\n\trender(texture) {\n\t\tthis.shader.bind();\n\t\tthis.shader.uniform(\"texture\", \"uniform1i\", 0);\n\t\tif(texture) {\n\t\t\ttexture.bind(0);\n\t\t} else {\n\t\t\tthis.texture.bind(0);\t\n\t\t}\n\t\t\n\t\tthis.shader.uniform(\"uRatio\", \"float\", GL.aspectRatio);\n\t\tthis.shader.uniform(\"uScale\", \"float\", this._scale);\n\t\tGL.draw(this.mesh);\n\t}\n\n\n\tresize() {\n\t\t\n\t\tconst { width, height } = this.texture;\n\n\t\tconst sx = window.innerWidth / width;\n\t\tconst sy = window.innerHeight / height;\n\t\tthis._scale = Math.max(sx, sy);\n\t}\n\n}\n\nexport default ViewBackground;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewBackground.js","module.exports = \"// basic.vert\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\nuniform float uRatio;\\nuniform float uScale;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n\\tvec3 pos      = aVertexPosition;\\n\\tif(uRatio > 1.0) {\\n\\t\\tpos.x /= uRatio;\\n\\t} else {\\n\\t\\tpos.y *= uRatio;\\n\\t}\\n\\n\\tpos.xy        *= uScale * 4.0;\\n\\tgl_Position   = vec4(pos, 1.0);\\n\\tvTextureCoord = aTextureCoord;\\n\\tvNormal       = aNormal;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/bg.vert\n// module id = 31\n// module chunks = 0","// ViewComposeBg.js\n\nimport alfrid, { GL } from 'alfrid';\nimport Config from './Config';\nimport FlowControl from './FlowControl';\nimport fs from 'shaders/composeBg.frag';\n\nclass ViewComposeBg extends alfrid.View {\n\t\n\tconstructor() {\n\t\tsuper(alfrid.ShaderLibs.bigTriangleVert, fs);\n\t}\n\n\n\t_init() {\n\t\tthis.mesh = alfrid.Geom.bigTriangle();\n\t}\n\n\n\trender(texture) {\n\t\t// console.log('FlowControl.bgOpeningOffset', FlowControl.bgOpeningOffset * 0.15 + 0.025);\n\t\tthis.shader.bind();\n\t\tthis.shader.uniform(\"texture\", \"uniform1i\", 0);\n\t\ttexture.bind(0);\n\t\tthis.shader.uniform(\"uRatio\", \"float\", GL.aspectRatio);\n\t\tthis.shader.uniform(\"uOpacity\", \"float\", Config.backgroundOpacity);\n\t\tthis.shader.uniform(\"uFadeRange\", \"float\", Config.fadeRange);\n\t\tthis.shader.uniform(\"uOffset\", \"float\", FlowControl.bgOpeningOffset);\n\n\t\tthis.shader.uniform(\"uRadius\", \"float\", FlowControl.bgOpeningOffset * 0.175);\n\t\tthis.shader.uniform(\"uDistance\", \"float\", Config.distance);\n\t\tGL.draw(this.mesh);\n\t}\n\n\n}\n\nexport default ViewComposeBg;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewComposeBg.js","module.exports = \"// copy.frag\\n\\n#define SHADER_NAME SIMPLE_TEXTURE\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform float uFadeRange;\\nuniform float uRatio;\\nuniform float uOpacity;\\nuniform float uOffset;\\n\\nuniform float uRadius;\\nuniform float uDistance;\\n\\n\\nvec2 rotate(vec2 v, float a) {\\n\\tfloat s = sin(a);\\n\\tfloat c = cos(a);\\n\\tmat2 m = mat2(c, -s, s, c);\\n\\treturn m * v;\\n}\\n\\n#define PI 3.141592653\\nfloat cubicIn_1_0(float t) {\\n  return t * t * t;\\n}\\n\\n\\n\\n\\n\\n\\n// #define uDistance 1.05\\n\\nvoid main(void) {\\n\\t// vec2 uTouch      = vec2(0.4324, 1.0 - 0.5765);\\n\\tvec2 uTouch      = vec2(0.5);\\n\\tvec2 uv          = vTextureCoord - uTouch;\\n\\tuv.y             /= uRatio;\\n\\tvec2 diff        = uv;\\n\\tfloat rad        = length(uv);\\n\\tfloat deform     = 1.0 / pow(rad * pow(uDistance, 0.5), 2.0) * uRadius * 0.1;\\n\\tuv               = uv * ( 1.0 - deform);\\n\\t\\n\\t\\n\\tfloat offsetRot  = smoothstep(uRadius * 1.25, 0.0, rad);\\n\\toffsetRot \\t\\t = sin(offsetRot * PI);\\n\\tfloat theta      = -offsetRot * PI * 4.0 * uOffset;\\n\\tuv               = rotate(uv, theta);\\n\\t\\n\\tuv.y             *= uRatio;\\n\\tuv               += uTouch;\\n\\t\\n\\tvec4 color       = texture2D(texture, uv);\\n\\tfloat t          = rad * uDistance;\\n\\tcolor.rgb        *= smoothstep(uRadius * 0.8, uRadius, t);\\n\\t\\n\\tfloat d          = smoothstep(0.2, 0.2 + uFadeRange, length(diff)) + 0.1;\\n\\td                = mix(1.0, d, uOffset);\\n\\n\\tfloat br = smoothstep(0.25, 1.0, uOffset);\\n\\tbr = cubicIn_1_0(br);\\n\\tfloat opacityAdd = 0.25 * ( 1.0 - br);\\n\\t\\n\\tcolor.rgb        *= d * uOpacity + opacityAdd;\\n\\t\\n\\tgl_FragColor     = color;\\n\\t// gl_FragColor     = vec4(vec3(offsetRot), 1.0);\\n\\t// gl_FragColor     = vec4(vec3(opacityAdd), 1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/composeBg.frag\n// module id = 33\n// module chunks = 0","// PassBloom.js\n\nimport alfrid, { GL } from 'alfrid';\nimport fsTreshold from '../shaders/threshold.frag';\nimport fsBloom from '../shaders/bloom.frag';\nimport fsCompose from '../shaders/bloomCompose.frag';\n\nclass PassBloom {\n\n\tconstructor(mNumMips = 5, mStartingScale = 0.5) {\n\t\tthis._numMips = Math.min(mNumMips, 5);\n\t\tthis._startingScale = mStartingScale;\n\t\tthis._initTextures();\n\t\tthis._initViews();\n\t}\n\n\n\t_initTextures(){\n\t\tlet width = Math.round(GL.width*this._startingScale);\n\t\tlet height = Math.round(GL.height*this._startingScale);\n\n\t\tthis._fbos = [];\n\t\tfor(let i=0; i<this._numMips; i++) {\n\t\t\tconst fboV = new alfrid.FrameBuffer(width, height);\n\t\t\tconst fboH = new alfrid.FrameBuffer(width, height);\n\t\t\tthis._fbos.push({fboV, fboH});\n\n\t\t\twidth = Math.round(width/2);\n\t\t\theight = Math.round(height/2);\n\t\t}\n\n\t\t// const scale = 0.5;\n\t\t// this._fboThreshold = new alfrid.FrameBuffer(GL.width * scale, GL.height * scale);\n\t\t// this._fboCompose = new alfrid.FrameBuffer(GL.width * scale, GL.height * scale);\n\n\t\t// const oSettings = {\n\t\t// \tminFilter:GL.NEAREST_MIPMAP_LINEAR,\n\t\t// \tmagFilter:GL.NEAREST_MIPMAP_LINEAR,\n\t\t// }\n\n\t\tconst oSettings = {\n\t\t\tminFilter:GL.LINEAR,\n\t\t\tmagFilter:GL.LINEAR,\n\t\t}\n\n\t\twindow.GL = GL;\n\n\t\tconst s = 512;\n\t\tthis._fboThreshold = new alfrid.FrameBuffer(s, s, oSettings);\n\t\tthis._fboCompose = new alfrid.FrameBuffer(s, s, oSettings);\n\t}\n\n\t_initViews() {\n\t\t//\tmesh\n\t\tthis.mesh = alfrid.Geom.bigTriangle();\n\n\t\tconst vsTri = alfrid.ShaderLibs.bigTriangleVert;\n\n\t\t// \tshaders - threshold\n\t\tthis.shaderThreshold = new alfrid.GLShader(vsTri, fsTreshold);\n\t\tthis.uniformsThreshold = {\n\t\t\tluminosityThreshold:0.15,\n\t\t\tsmoothWidth:0.01,\n\t\t\tdefaultOpacity:0,\n\t\t\tdefaultColor:[0, 0, 0]\n\t\t}\n\n\t\tthis.shaderThreshold.bind();\n\t\tthis.shaderThreshold.uniform(\"texture\", \"uniform1i\", 0);\n\t\tthis.shaderThreshold.uniform(this.uniformsThreshold);\n\n\t\t//\tshaders - mip bloom\n\t\tconst kernelSizeArray = [3, 5, 7, 9, 11];\n\t\tlet width = Math.round(GL.width*this._startingScale);\n\t\tlet height = Math.round(GL.height*this._startingScale);\n\n\t\tthis._shadersBloom = [];\n\t\tfor(let i=0; i<this._numMips; i++) {\n\t\t\tlet kernelSize = kernelSizeArray[i];\n\t\t\tlet fs = fsBloom.replace(/\\${kernelRadius}/g, kernelSize);\n\t\t\tconst shader = new alfrid.GLShader(vsTri, fs);\n\t\t\tshader.bind();\n\t\t\tshader.uniform(\"texSize\", \"vec2\", [width, height]);\n\t\t\tthis._shadersBloom.push(shader);\n\n\t\t\twidth = Math.round(width/2);\n\t\t\theight = Math.round(height/2);\n\t\t}\n\n\t\t//\tshader - compose\n\n\t\tthis.uniformsCompose = {\n\t\t\tbloomStrength:1.,\n\t\t\tbloomRadius:0.4\n\t\t}\n\n\t\tlet fs = fsCompose.replace(/\\${NUM_MIPS}/g, this._numMips);\n\n\t\tlet strBloom = '';\n\t\tfor(let i=0; i<this._numMips; i++) {\n\t\t\tstrBloom += `\\tcolor += lerpBloomFactor(bloomTintColors[${i}].a) * vec4(bloomTintColors[${i}].rgb, 1.0) * texture2D(blurTexture${i+1}, vTextureCoord);`;\n\t\t}\n\n\t\tfs = fs.replace(/\\${BLOOMS}/g, strBloom);\n\n\t\tlet tintColor = [];\n\t\tthis.shaderCompose = new alfrid.GLShader(vsTri, fs);\n\t\tthis.shaderCompose.bind();\n\t\tfor(let i=0; i<this._numMips; i++) {\n\t\t\tthis.shaderCompose.uniform(`blurTexture${i+1}`, \"uniform1i\", i);\n\t\t\ttintColor = tintColor.concat([1, 1, 1, 1.0-0.2*i]);\n\t\t}\n\n\t\tthis.shaderCompose.uniform('bloomTintColors', 'vec4', tintColor);\n\t\tthis.shaderCompose.uniform(this.uniformsCompose);\n\t}\n\n\trender(texture) {\n\t\tthis._fboThreshold.bind();\n\t\tGL.clear(0, 0, 0, 0);\n\t\tthis.shaderThreshold.bind();\n\t\t\n\t\tthis.shaderThreshold.uniform(this.uniformsThreshold);\n\t\ttexture.bind(0);\n\t\tGL.draw(this.mesh);\n\t\tthis._fboThreshold.unbind();\n\n\t\tlet inputTexture = this._fboThreshold.getTexture();\n\n\t\tfor(let i=0; i<this._numMips; i++) {\n\t\t\tconst {fboV, fboH} = this._fbos[i];\n\t\t\tconst shader = this._shadersBloom[i];\n\n\t\t\tshader.bind();\n\t\t\tshader.uniform(\"texture\", \"uniform1i\", 0);\n\n\t\t\t//\tbloom V\n\t\t\tfboV.bind();\n\t\t\tGL.clear(0, 0, 0, 0);\n\t\t\tshader.uniform(\"direction\", \"vec2\", [0, 1]);\n\t\t\tinputTexture.bind(0);\n\t\t\tGL.draw(this.mesh);\n\t\t\tfboV.unbind();\n\n\t\t\t//\tbloom H\n\t\t\tfboH.bind();\n\t\t\tGL.clear(0, 0, 0, 0);\n\t\t\tshader.uniform(\"direction\", \"vec2\", [1, 0]);\n\t\t\tfboV.getTexture().bind(0);\n\t\t\tGL.draw(this.mesh);\n\t\t\tfboH.unbind();\n\n\t\t\tinputTexture = fboH.getTexture();\n\t\t}\n\n\t\tthis._fboCompose.bind();\n\t\tGL.clear(0, 0, 0, 0);\n\t\tthis.shaderCompose.bind();\n\t\tfor(let i=0; i<this._numMips; i++) {\n\t\t\tconst { fboH } = this._fbos[i];\n\t\t\tfboH.getTexture().bind(i);\n\t\t}\n\t\tthis.shaderCompose.uniform(this.uniformsCompose);\n\t\tGL.draw(this.mesh);\n\t\tthis._fboCompose.unbind();\n\t}\n\n\tget fbos() {\n\t\treturn this._fbos;\n\t}\n\n\tgetTexture() {\n\t\treturn this._fboCompose.getTexture();\n\t}\n\n\tresize() {\n\t\t\n\t}\n}\n\nexport default PassBloom;\n\n\n// WEBPACK FOOTER //\n// ./src/js/PassBloom.js","module.exports = \"// copy.frag\\n\\n#define SHADER_NAME SIMPLE_TEXTURE\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform vec3 defaultColor;\\nuniform float defaultOpacity;\\nuniform float luminosityThreshold;\\nuniform float smoothWidth;\\n\\n\\nvoid main(void) {\\n\\n\\tvec4 texel       = texture2D( texture, vTextureCoord );\\n\\t\\n\\tvec3 luma        = vec3( 0.299, 0.587, 0.114 );\\n\\tfloat v          = dot( texel.xyz, luma );\\n\\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\\n\\tfloat alpha      = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\\n\\n\\tgl_FragColor = mix( outputColor, texel, alpha );\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/threshold.frag\n// module id = 35\n// module chunks = 0","module.exports = \"// bloom.frag\\n\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\n#define KERNEL_RADIUS ${kernelRadius}\\n#define SIGMA ${kernelRadius}\\n\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform vec2 texSize;\\nuniform vec2 direction;\\n\\nfloat gaussianPdf(in float x, in float sigma) {\\n\\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\n}\\n\\nvoid main() {\\n\\tvec2 invSize = 1.0 / texSize;\\n\\tfloat fSigma = float(SIGMA);\\n\\tfloat weightSum = gaussianPdf(0.0, fSigma);\\n\\tvec3 diffuseSum = texture2D( texture, vTextureCoord).rgb * weightSum;\\n\\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\n\\t\\tfloat x = float(i);\\n\\t\\tfloat w = gaussianPdf(x, fSigma);\\n\\t\\tvec2 uvOffset = direction * invSize * x;\\n\\t\\tvec3 sample1 = texture2D( texture, vTextureCoord + uvOffset).rgb;\\n\\t\\tvec3 sample2 = texture2D( texture, vTextureCoord - uvOffset).rgb;\\n\\t\\tdiffuseSum += (sample1 + sample2) * w;\\n\\t\\tweightSum += 2.0 * w;\\n\\t}\\n\\n\\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\t// gl_FragColor = texture2D(texture, vTextureCoord);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/bloom.frag\n// module id = 36\n// module chunks = 0","module.exports = \"// copy.frag\\n\\n#define SHADER_NAME SIMPLE_TEXTURE\\n\\n#define NUM_MIPS ${NUM_MIPS}\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D blurTexture1;\\nuniform sampler2D blurTexture2;\\nuniform sampler2D blurTexture3;\\nuniform sampler2D blurTexture4;\\nuniform sampler2D blurTexture5;\\n\\nuniform float bloomStrength;\\nuniform float bloomRadius;\\nuniform vec4 bloomTintColors[NUM_MIPS];\\n\\nfloat lerpBloomFactor(const in float factor) { \\n\\tfloat mirrorFactor = 1.2 - factor;\\n\\treturn mix(factor, mirrorFactor, bloomRadius);\\n}\\n\\nvec4 getBloom() {\\n\\tvec4 color = vec4(0.0);\\n\\t${BLOOMS}\\n\\treturn color;\\n}\\n\\nvoid main() {\\n\\tgl_FragColor = bloomStrength * getBloom();\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/bloomCompose.frag\n// module id = 37\n// module chunks = 0","// ViewFXAA.js\n\nimport alfrid, { GL } from 'alfrid';\n\nimport Assets from './Assets';\nimport Config from './Config';\nimport fs from 'shaders/fxaa.frag';\n\nclass ViewFXAA extends alfrid.View {\n\t\n\tconstructor() {\n\t\tsuper(alfrid.ShaderLibs.bigTriangleVert, fs);\n\t}\n\n\n\t_init() {\n\t\tthis.mesh = alfrid.Geom.bigTriangle();\n\t\tthis.textureNoise = Assets.get('noise');\n\t\tthis.textureNoise.wrapS = this.textureNoise.wrapT = GL.REPEAT;\n\t\tthis.textureNoise.minFilter = this.textureNoise.magFilter = GL.NEAREST;\n\n\t\tthis.textureMap = Assets.get('gradientMap');\n\t\tthis.textureMap.minFilter = this.textureMap.magFilter = GL.NEAREST;\n\t}\n\n\n\trender(texture, textureBloom) {\n\t\tthis.shader.bind();\n\t\tthis.shader.uniform(\"texture\", \"uniform1i\", 0);\n\t\ttexture.bind(0);\n\t\tthis.shader.uniform(\"textureNoise\", \"uniform1i\", 1);\n\t\tthis.textureNoise.bind(1);\n\t\tthis.shader.uniform(\"textureBloom\", \"uniform1i\", 2);\n\t\ttextureBloom.bind(2);\n\t\tthis.shader.uniform(\"textureMap\", \"uniform1i\", 3);\n\t\tthis.textureMap.bind(3);\n\t\tthis.shader.uniform(\"uResolution\", \"vec2\", [1/GL.width, 1/GL.height]);\n\t\tthis.shader.uniform(\"uOverlay\", \"float\", Config.overlayOpacity);\n\t\tthis.shader.uniform(\"uBloomStrength\", \"float\", Config.bloomStrength);\n\t\tthis.shader.uniform(\"uGradientMap\", \"float\", Config.gradientMap);\n\t\tGL.draw(this.mesh);\n\t}\n\n\n}\n\nexport default ViewFXAA;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewFXAA.js","module.exports = \"// fxaa.frag\\n\\n#define SHADER_NAME FXAA\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\nuniform sampler2D textureNoise;\\nuniform sampler2D textureBloom;\\nuniform sampler2D textureMap;\\nuniform vec2 uResolution;\\nuniform float uBloomStrength;\\nuniform float uOverlay;\\nuniform float uGradientMap;\\n\\n\\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#define FXAA_SPAN_MAX     8.0\\n\\n\\nvec4 applyFXAA(sampler2D tex) {\\n    vec4 color;\\n    vec2 fragCoord = gl_FragCoord.xy;\\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n\\n    vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n\\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n\\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n              dir * rcpDirMin)) * uResolution;\\n\\n    vec3 rgbA = 0.5 * (\\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\\n\\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, 1.0);\\n    else\\n        color = vec4(rgbB, 1.0);\\n    return color;\\n}\\n\\nvec3 blendOverlay(vec3 base, vec3 blend) {\\n    return mix(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, step(base, vec3(0.5)));\\n}\\n\\nvec3 blendOverlay(vec3 base, vec3 blend, float opacity) {\\n\\tvec3 blended = mix(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, step(base, vec3(0.5)));\\n\\treturn mix(base, blended, opacity);\\n}\\n\\nfloat luma(vec3 color) {\\n  return dot(color, vec3(0.299, 0.587, 0.114));\\n}\\n\\n\\nvoid main(void) {\\n    float t = abs(vTextureCoord.x - .5);\\n    t = smoothstep(0.3, 0.0, t);\\n\\n\\tvec4 color = applyFXAA(texture);\\n    vec3 bloom = texture2D(textureBloom, vTextureCoord).rgb;\\n    color.rgb += bloom.rgb * uBloomStrength * t;\\n\\n    float l = luma(color.rgb);\\n    vec2 uvGradient = vec2(l, .5);\\n    vec3 colorGraded = texture2D(textureMap, uvGradient).rgb;    \\n    color.rgb = mix(color.rgb, colorGraded, uGradientMap);\\n\\n\\tvec2 uv = vTextureCoord * 5.0;\\n\\tvec3 noise = texture2D(textureNoise, uv * vec2(6.5, 1.0) * 5.0).rgb;\\n\\tcolor.rgb = blendOverlay(color.rgb, noise, uOverlay);\\n\\n    \\n    \\n\\n\\tgl_FragColor = color;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/fxaa.frag\n// module id = 39\n// module chunks = 0","\nimport alfrid, { GL } from 'alfrid';\n\nimport Config from './Config';\nimport FboArray from './FboArray';\n\nimport ViewSave from './ViewSave';\nimport ViewSim from './ViewSim';\nimport ViewTrail from './ViewTrail';\nimport ViewTrialDebug from './ViewTrialDebug';\n\n\nclass Trail {\n\n\tconstructor() {\n\t\tconst { numTrails, trailLength, numTrailSets } = Config;\n\t\tconst o = {\n\t\t\tminFilter:GL.NEAREST,\n\t\t\tmagFilter:GL.NEAREST,\n\t\t\ttype:GL.FLOAT\n\t\t};\n\n\t\tconst numTextures = (trailLength - 1) * numTrailSets + 1;\n\n\t\tthis._fbo = new FboArray(numTextures, numTrails, numTrails, o, 4);\n\n\n\t\t//\tsave positions\n\t\tthis.cameraOrtho  = new alfrid.CameraOrtho();\n\t\tthis._vSim        = new ViewSim(0.5, 0.25, true);\n\t\tthis._vSave       = new ViewSave(numTrails, 0.0);\n\t\tthis._vTrail      = new ViewTrail();\n\t\tthis._vTrailDebug = new ViewTrialDebug();\n\n\t\tGL.setMatrices(this.cameraOrtho);\n\n\t\tthis._fbo.all.forEach(fbo => {\n\t\t\tfbo.bind();\n\t\t\tGL.clear(0, 0, 0, 0);\n\t\t\tthis._vSave.render();\n\t\t\tfbo.unbind();\n\t\t})\n\t}\n\n\n\tupdate(touch) {\n\t\tthis._fbo.write.bind();\n\t\tGL.clear(0, 0, 0, 0);\n\n\t\tthis._vSim.render(\n\t\t\tthis._fbo.read.getTexture(1), \n\t\t\tthis._fbo.read.getTexture(0), \n\t\t\tthis._fbo.read.getTexture(2),\n\t\t\tthis._fbo.read.getTexture(3),\n\t\t\tfalse,\n\t\t\ttouch\n\t\t);\n\n\t\tthis._fbo.write.unbind();\n\n\t\tthis._fbo.swap();\n\t}\n\n\n\trender(textureBg1, textureBg2) {\n\t\tthis._vTrail.render(this._fbo.all, textureBg1, textureBg2);\n\t\t// this._vTrailDebug.render(this._fbo.read.getTexture(0));\n\t}\n}\n\n\nexport default Trail;\n\n\n// WEBPACK FOOTER //\n// ./src/js/Trails.js","\nimport alfrid, { GL } from 'alfrid';\nimport Config from './Config';\nimport Assets from './Assets';\nimport FlowControl from './FlowControl';\nimport vs from 'shaders/trail.vert';\nimport fs from 'shaders/trail.frag';\nimport { random } from 'randomutils';\n\nclass ViewTrail extends alfrid.View {\n\t\n\tconstructor() {\n\t\tconst { trailLength } = Config;\n\t\tlet _textureUniforms = ``;\n\t\tlet _funcGetPos = ``;\n\n\t\tfor(let i=0; i<trailLength; i++) {\n\t\t\t_textureUniforms += `uniform sampler2D texture${i};\\n`;\n\n\t\t\tif(i < trailLength - 1) {\n\t\t\t_funcGetPos += `if(index < ${i}.5) {\n\t\tpos = texture2D(texture${i}, aUVOffset.xy).xyz;\n\t} else `\n\t\t\t} else {\n\t\t\t\t_funcGetPos += `{\n\t\tpos = texture2D(texture${i}, aUVOffset.xy).xyz;\n\t}`\t\t\n\t\t\t}\n\t\t}\n\n\n\t\tlet _vs = vs.replace('${TEXTURES}', _textureUniforms);\n\t\t_vs = _vs.replace('${FUN_POS}', _funcGetPos);\n\n\t\tsuper(_vs, fs);\n\t}\n\n\n\t_init() {\n\t\tconst { numTrails, trailLength, numTrailSets } = Config;\n\n\t\tconst positions = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\t\tlet count = 0;\n\n\t\tconst getPos = (i, j) => {\n\t\t\t// let x = i/numTrails - 0.5;\n\t\t\tlet x = i;\n\t\t\tlet y = j;\n\t\t}\n\n\t\tfor(let i=0; i<trailLength-1; i++) {\n\t\t\tpositions.push([i, -1, trailLength]);\n\t\t\tpositions.push([i+1, -1, trailLength]);\n\t\t\tpositions.push([i+1, 1, trailLength]);\n\t\t\tpositions.push([i, 1, trailLength]);\n\n\t\t\tuvs.push([i/trailLength, 0]);\n\t\t\tuvs.push([(i+1)/trailLength, 0]);\n\t\t\tuvs.push([(i+1)/trailLength, 1]);\n\t\t\tuvs.push([i/trailLength, 1]);\n\n\t\t\tindices.push(count * 4 + 0);\n\t\t\tindices.push(count * 4 + 1);\n\t\t\tindices.push(count * 4 + 2);\n\t\t\tindices.push(count * 4 + 0);\n\t\t\tindices.push(count * 4 + 2);\n\t\t\tindices.push(count * 4 + 3);\n\n\t\t\tcount ++;\n\t\t}\n\n\n\t\tthis.mesh = new alfrid.Mesh();\n\t\tthis.mesh.bufferVertex(positions);\n\t\tthis.mesh.bufferTexCoord(uvs);\n\t\tthis.mesh.bufferIndex(indices);\n\n\t\tconst m = mat4.create();\n\t\tconst { ringSize, ringRadius, zOffset } = Config;\n\t\tconst getPosOrg = () => {\n\t\t\tlet a = random(Math.PI * 2);\n\t\t\tlet r = Math.sqrt(Math.random()) * ringSize;\n\t\t\tlet x = Math.cos(a) * r;\n\t\t\tlet z = Math.sin(a) * r;\n\n\t\t\tlet v = vec3.fromValues(x + ringRadius, 0, z + 1.0);\n\t\t\tmat4.identity(m);\n\t\t\ta = random(Math.PI * 2);\n\t\t\tmat4.rotateZ(m, m, a);\n\t\t\tvec3.transformMat4(v, v, m);\n\t\t\treturn v;\n\t\t}\n\n\t\tconst uvOffset = [];\n\t\tconst extra = [];\n\t\tconst posOrg = [];\n\t\tlet ux, uy;\n\t\tfor(let j = 0; j < numTrails; j++) {\n\t\t\tfor(let i = 0; i < numTrails; i++) {\n\t\t\t\tux = i / numTrails;\n\t\t\t\tuy = j / numTrails;\n\t\t\t\tuvOffset.push([ux, uy, Math.random()]);\n\t\t\t\textra.push([Math.random(), Math.random(), Math.random()]);\n\t\t\t\tposOrg.push(getPosOrg());\n\t\t\t}\n\t\t}\n\n\n\t\tthis.mesh.bufferInstance(uvOffset, 'aUVOffset');\n\t\tthis.mesh.bufferInstance(extra, 'aExtra');\n\t\tthis.mesh.bufferInstance(posOrg, 'aPosOrg');\n\n\t\tthis._length = (trailLength - 1) * numTrailSets + 1;\n\t}\n\n\n\trender(fbos, textureBg1, textureBg2) {\n\t\tconst { numTrailSets, trailLength } = Config;\n\n\t\tGL.disable(GL.CULL_FACE);\n\t\tthis.shader.bind();\n\n\t\tthis.shader.uniform(\"uOpacity\", \"float\", FlowControl.bgOpeningOffset);\n\t\tthis.shader.uniform(\"uLength\", \"float\", this._length);\n\n\t\tthis.shader.uniform(\"textureBg1\", \"uniform1i\", 14);\n\t\ttextureBg1.bind(14);\n\n\t\tthis.shader.uniform(\"textureBg2\", \"uniform1i\", 15);\n\t\ttextureBg2.bind(15);\n\n\t\tthis.shader.uniform(\"uNumSeg\", \"float\", trailLength);\n\t\tthis.shader.uniform(\"uOffsetFadeOut\", \"float\", Config.fadeOutOffset);\n\n\t\tfor(let j=0; j<numTrailSets; j++) {\n\t\t\tthis.shader.uniform(\"uSetIndex\", \"float\", j);\n\t\t\tfor(let i=0; i<trailLength; i++) {\n\t\t\t\tlet textureIndex = i + j * (trailLength-1);\n\t\t\t\tthis.shader.uniform(`texture${i}`, \"uniform1i\", i);\n\t\t\t\tfbos[textureIndex].getTexture(0).bind(i);\t\n\t\t\t}\n\n\t\t\tGL.draw(this.mesh);\t\n\t\t}\n\n\t\t// GL.draw(this.mesh);\n\t\tGL.enable(GL.CULL_FACE);;\n\t}\n\n\n}\n\nexport default ViewTrail;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewTrail.js","module.exports = \"precision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\nattribute vec3 aUVOffset;\\nattribute vec3 aExtra;\\nattribute vec3 aPosOrg;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\nuniform float uNumSeg;\\nuniform float uLength;\\nuniform float uSetIndex;\\n\\n${TEXTURES}\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vNormal;\\nvarying vec3 vDebug;\\nvarying vec3 vExtra;\\nvarying float vAlpha;\\nvarying float vDirection;\\nvarying vec3 vWsPosition;\\nvarying vec4 vScreenPosition;\\n\\nvec3 getPosition(float index) {\\n\\tvec3 pos;\\n\\n\\t${FUN_POS}\\n\\n\\treturn pos;\\n}\\n\\n\\n\\nfloat getDirection(float index) {\\n\\tfloat ia = 0.0;\\n\\tfloat ib = 0.0;\\n\\n\\tif(index <= 0.5) {\\t//\\tfirst point\\n\\t\\tia = 0.0;\\n\\t\\tib = 1.0;\\n\\t} else {\\n \\t\\tia = index - 1.0;\\n \\t\\tib = index;\\n\\t}\\n\\n\\tvec3 a = getPosition(ia);\\n\\tvec3 b = getPosition(ib);\\n\\tvec3 dir = b - a;\\n\\tfloat theta = atan(-dir.y, dir.x);\\n\\n\\treturn theta;\\n}\\n\\n\\n#define PI 3.141592653\\n\\nvec2 rotate(vec2 v, float a) {\\n\\tfloat s = sin(a);\\n\\tfloat c = cos(a);\\n\\tmat2 m = mat2(c, -s, s, c);\\n\\treturn m * v;\\n}\\n\\nvoid main(void) {\\n\\tvec3 posFirst    = getPosition(0.0);\\n\\tvec3 posLast     = getPosition(16.0);\\n\\tfloat speed      = distance(posFirst, posLast);\\n\\tspeed            = smoothstep(1.5, 0.5, speed);\\n\\tfloat speedScale = (1.0 - speed * 0.5);\\n\\t\\n\\tfloat alpha      = 1.0;\\n\\tfloat scaleDiff  = mix(aExtra.r, 1.0, .25);\\n\\t\\n\\tfloat halfLength = uLength * 0.5;\\n\\tfloat index = uSetIndex * (aVertexPosition.z - 1.0) + aVertexPosition.x;\\n\\tfloat scaleY     = abs(index - halfLength) / halfLength;\\n\\tscaleY           = 1.0 - clamp(0.0, 1.0, scaleY);\\n\\tscaleY \\t\\t\\t = sin(scaleY * PI * 0.5);\\n\\tvec3 pos         = aVertexPosition * vec3(0.0, 0.02 * scaleDiff * scaleY, 0.0);\\n\\t\\n\\tfloat threshold = 0.99;\\n\\tfloat diff = length(posFirst.xy) - length(posLast.xy);\\n\\tif( diff < -threshold) {\\n\\t\\talpha = smoothstep(threshold, 0.0, -diff);\\n\\t}\\n\\n\\n\\tvec3 posOffset = getPosition(aVertexPosition.x);\\n//*/\\n\\tthreshold = 1.0;\\n\\tif(aVertexPosition.x < uNumSeg - 1.0) {\\n\\t\\tvec3 posNext = getPosition(aVertexPosition.x + 1.0);\\n\\t\\tfloat d = distance(posOffset.xy, posNext.xy);\\n\\t\\tif(d > threshold) {\\n\\t\\t\\talpha = 0.0;\\n\\t\\t}\\n\\t}\\n\\n\\tif(aVertexPosition.x > 1.0) {\\n\\t\\tvec3 posPrev = getPosition(aVertexPosition.x - 1.0);\\n\\t\\tfloat d = distance(posOffset.xy, posPrev.xy);\\n\\t\\tif(d > threshold) {\\n\\t\\t\\talpha = 0.0;\\n\\t\\t}\\n\\t}\\n//*/\\t\\n\\t\\n\\n\\tfloat theta = getDirection(aVertexPosition.y);\\n\\tpos.xy \\t\\t   = rotate(pos.xy, theta);\\n\\tvWsPosition    = pos + posOffset;\\n\\tgl_Position    = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(vWsPosition, 1.0);\\n\\n\\tvec4 posOrgMVP     = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aPosOrg, 1.0);\\n\\tvScreenPosition    = posOrgMVP;\\n\\n\\t// vec4 posFinal  = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4((posFirst+posLast) * 0.5, 1.0);\\n\\tvTextureCoord  = aTextureCoord;\\n\\tvNormal        = aNormal;\\n\\tvAlpha         = alpha;\\n\\tvExtra         = aExtra;\\n\\tvDirection \\t   = theta;\\n\\t\\n\\t// vec2 uvScreen  = posFinal.xy / posFinal.w * .5 + .5;\\t\\n\\tvDebug         = vec3(1.0);\\n\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/trail.vert\n// module id = 42\n// module chunks = 0","module.exports = \"precision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nvarying vec3 vDebug;\\nvarying vec3 vExtra;\\nvarying vec3 vWsPosition;\\nvarying vec4 vScreenPosition;\\nvarying float vAlpha;\\nvarying float vDirection;\\n\\nuniform vec3 uColor;\\nuniform sampler2D textureBg1;\\nuniform sampler2D textureBg2;\\nuniform float uOpacity;\\nuniform float uOffsetFadeOut;\\n\\nfloat exponentialIn_1_0(float t) {\\n  return t == 0.0 ? t : pow(2.0, 10.0 * (t - 1.0));\\n}\\n\\n\\n\\n\\nmat4 rotationMatrix(vec3 axis, float angle) {\\n    axis = normalize(axis);\\n    float s = sin(angle);\\n    float c = cos(angle);\\n    float oc = 1.0 - c;\\n    \\n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\\n                0.0,                                0.0,                                0.0,                                1.0);\\n}\\n\\nvec3 rotate(vec3 v, vec3 axis, float angle) {\\n\\tmat4 m = rotationMatrix(axis, angle);\\n\\treturn (m * vec4(v, 1.0)).xyz;\\n}\\n\\nvec2 rotate(vec2 v, float a) {\\n\\tfloat s = sin(a);\\n\\tfloat c = cos(a);\\n\\tmat2 m = mat2(c, -s, s, c);\\n\\treturn m * v;\\n}\\n\\n#define AXIS_X vec3(1.0, 0.0, 0.0)\\n\\nfloat diffuse(vec3 N, vec3 L) {\\n\\treturn max(dot(N, normalize(L)), 0.0);\\n}\\n\\n\\nvec3 diffuse(vec3 N, vec3 L, vec3 C) {\\n\\treturn diffuse(N, L) * C;\\n}\\n\\n\\n#define LIGHT vec3(0.0, 1.0, 7.0)\\n#define PI 3.141592653\\n\\nvoid main(void) {\\n\\tif(vAlpha <= 0.01) {\\n\\t\\tdiscard;\\n\\t}\\n\\n\\tfloat distToCenter = length(vWsPosition.xy);\\n\\tfloat opacity0     = smoothstep(0.75, 2.0, distToCenter);\\n\\n\\tfloat opacity1     = smoothstep(6.0+uOffsetFadeOut, 4.5+uOffsetFadeOut, distToCenter);\\n\\tfloat zThreshold   = -3.5;\\n\\tfloat opacityZ \\t   = smoothstep(zThreshold-0.5, zThreshold, vWsPosition.z);\\n\\tfloat opacity      = opacity0 * opacity1 * opacityZ;\\n\\n\\tif(opacity <= 0.01) {\\n\\t\\tdiscard;\\n\\t}\\n\\n\\n\\tvec2 uvScreen    = vScreenPosition.xy / vScreenPosition.w * .5 + .5;\\t\\n\\tfloat start      = 2.5 + (vExtra.b - 0.5) * 1.0;\\n\\tfloat leng       = (1.0 + (vExtra.r - 0.5) * 1.5) * 2.0;\\n\\tfloat p          = smoothstep(start, start + leng, distToCenter);\\n\\tuvScreen = (uvScreen - vec2(.5)) * 0.8 + vec2(.5);\\n\\tuvScreen.x       = abs(uvScreen.x - 0.5) + 0.5;\\n\\tuvScreen \\t\\t += (vExtra.gb - 0.5) * 0.4;\\n\\tvec4 color1      = texture2D(textureBg1, uvScreen);\\n\\tvec4 color2      = texture2D(textureBg2, uvScreen);\\n\\tvec3 color       = mix(color2.rgb, color1.rgb, p);\\n\\t\\n\\topacity          = exponentialIn_1_0(opacity);\\n\\tfloat brightness = 1.0;\\n\\tbrightness \\t\\t *= mix(vExtra.g, 1.0, .5);\\n\\tcolor            *= brightness;\\n\\t\\n\\tvec3 N           = vec3(0.0, 0.0, 1.0);\\n\\tfloat theta      = vTextureCoord.y - 0.5;\\n\\tN                = rotate(normalize(N), AXIS_X, theta * PI);\\n\\tN.xy \\t\\t   \\t = rotate(N.xy, vDirection);\\n\\tfloat d          = diffuse(N, LIGHT);\\n\\td                = mix(d, 1.0, .8);\\n\\n\\tfloat opacityOpening = smoothstep(0.0, 0.25, uOpacity);\\n    gl_FragColor = vec4(color * d, vAlpha * opacity * opacityOpening\\t);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/trail.frag\n// module id = 43\n// module chunks = 0","// ViewTrialDebug.js\n\nimport alfrid, { GL } from 'alfrid';\nimport Config from './Config';\nimport vs from 'shaders/trailDebug.vert';\nimport fs from 'shaders/trailDebug.frag';\n\nclass ViewTrialDebug extends alfrid.View {\n\t\n\tconstructor() {\n\t\tsuper(vs, fs);\n\t}\n\n\n\t_init() {\n\t\tconst { numTrails } = Config;\n\t\tconst positions = [];\n\t\tlet indices      = []; \n\t\tlet count        = 0;\n\n\t\tlet ux, uy;\n\n\t\tfor(let j = 0; j < numTrails; j++) {\n\t\t\tfor(let i = 0; i < numTrails; i++) {\n\t\t\t\tux = i / numTrails;\n\t\t\t\tuy = j / numTrails;\n\t\t\t\tpositions.push([ux, uy, 0]);\n\t\t\t\tindices.push(count);\n\t\t\t\tcount ++;\n\n\t\t\t}\n\t\t}\n\n\t\tthis.mesh = new alfrid.Mesh(GL.POINTS);\n\t\tthis.mesh.bufferVertex(positions);\n\t\tthis.mesh.bufferIndex(indices);\n\t}\n\n\n\trender(texture) {\n\t\tthis.shader.bind();\n\t\tthis.shader.uniform(\"texture\", \"uniform1i\", 0);\n\t\ttexture.bind(0);\n\t\tGL.draw(this.mesh);\n\t}\n\n\n}\n\nexport default ViewTrialDebug;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ViewTrialDebug.js","module.exports = \"// basic.vert\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nattribute vec3 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec3 aNormal;\\n\\nuniform mat4 uModelMatrix;\\nuniform mat4 uViewMatrix;\\nuniform mat4 uProjectionMatrix;\\nuniform sampler2D texture;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec3 vNormal;\\n\\nvoid main(void) {\\n\\tvec3 pos      = texture2D(texture, aVertexPosition.xy).xyz;\\n\\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\\n\\tvTextureCoord = aTextureCoord;\\n\\tvNormal       = aNormal;\\n\\t\\n\\tgl_PointSize  = 6.0;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/trailDebug.vert\n// module id = 45\n// module chunks = 0","module.exports = \"// copy.frag\\n\\n#define SHADER_NAME SIMPLE_TEXTURE\\n\\nprecision highp float;\\n#define GLSLIFY 1\\nvarying vec2 vTextureCoord;\\nuniform sampler2D texture;\\n\\nvoid main(void) {\\n    gl_FragColor = vec4(1.0);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shaders/trailDebug.frag\n// module id = 46\n// module chunks = 0","// ParticleSimulation.js\n\nimport alfrid, { GL } from 'alfrid';\nimport ViewSim from './ViewSim';\nimport ViewSave from './ViewSave';\nimport FboPingPong from './FboPingPong';\nimport Config from './Config';\nlet vSim;\n\nclass ParticleSimulation {\n\n\tconstructor() {\n\t\t//\ttextures\n\t\tconst { numParticles } = Config;\n\t\tconst o = {\n\t\t\tminFilter:GL.NEAREST,\n\t\t\tmagFilter:GL.NEAREST,\n\t\t\ttype:GL.FLOAT\n\t\t};\n\t\tthis._fboParticle \t= new FboPingPong(numParticles, numParticles, o, 4);\n\n\t\t//\tviews\n\t\tif(!vSim) {\n\t\t\tvSim \t= new ViewSim();\t\n\t\t}\n\n\t\tthis._vSave = new ViewSave();\n\n\n\t\t//\tsave default particle positions\n\t\tthis._fboParticle.read.bind();\n\t\tGL.clear(0, 0, 0, 0);\n\t\tthis._vSave.render();\n\t\tthis._fboParticle.read.unbind();\n\n\t\tthis._fboParticle.write.bind();\n\t\tGL.clear(0, 0, 0, 0);\n\t\tthis._vSave.render();\n\t\tthis._fboParticle.write.unbind();\n\t}\n\n\n\tupdate() {\n\t\tconst fboParticle = this._fboParticle;\n\n\t\tfboParticle.write.bind();\n\t\tGL.clear(0, 0, 0, 1);\n\t\tvSim.render(\n\t\t\tfboParticle.read.getTexture(1), \n\t\t\tfboParticle.read.getTexture(0), \n\t\t\tfboParticle.read.getTexture(2),\n\t\t\tfboParticle.read.getTexture(3),\n\t\t\tfalse\n\t\t\t);\n\t\tfboParticle.write.unbind();\n\t\tfboParticle.swap();\n\t}\n\n\n\tget texturePos() {\n\t\treturn this._fboParticle.read.getTexture(0);\n\t}\n\n\tget textureVel() {\n\t\treturn this._fboParticle.read.getTexture(1);\n\t}\n\n\tget textureExtra() {\n\t\treturn this._fboParticle.read.getTexture(2);\n\t}\n\n\tget textureOrgPos() {\n\t\treturn this._fboParticle.read.getTexture(3);\n\t}\n\n\n\tget fboParticle() {\n\t\treturn this._fboParticle;\n\t}\n}\n\nexport default ParticleSimulation;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ParticleSimulation.js","// ParticleTexture.js\n\nimport alfrid, { FrameBuffer, GL } from 'alfrid';\nimport fs from 'shaders/normal.frag';\n\nclass ParticleTexture extends FrameBuffer {\n\tconstructor() {\n\t\tconst oSettings = {\tminFilter:GL.LINEAR, magFilter:GL.LINEAR };\n\t\tconst s = 32 * 2;\n\t\tsuper(s, s, oSettings);\n\n\t\tthis._initMesh();\n\t}\n\n\n\t_initMesh() {\n\t\tconst cameraOrtho = new alfrid.CameraOrtho();\n\n\n\t\tconst size = 1;\n\t\tcameraOrtho.ortho(-size, size, -size, size);\n\t\tcameraOrtho.lookAt([0, 0, 3], [0, 0, 0]);\n\t\tconst mesh = alfrid.Geom.sphere(1, 12);\n\t\tconst shader = new alfrid.GLShader(null, fs);\n\t\tthis.bind();\n\t\t// GL.clear(1, 0, 0, 1);\n\t\tGL.clear(0, 0, 0, 0);\n\t\tGL.setMatrices(cameraOrtho);\n\t\tshader.bind();\n\t\tGL.draw(mesh);\n\t\tthis.unbind();\n\t}\n\n\n\tget texture() {\treturn this.getTexture();\t}\n}\n\nexport default ParticleTexture;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ParticleTexture.js","// saveImage.js\n\nconst FILE_EXTENTION = 'jpg';\nconst MIME_TYPE = \"image/jpeg\";\n\n\nconst dataURLtoBlob = (dataurl) => {\n    var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n    while(n--){\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new Blob([u8arr], {type:mime});\n}\n\nconst saveImage = (canvas, filename) => {\n\n\tvar link = document.createElement(\"a\");\n\tvar imgData = canvas.toDataURL({    \n\t\tformat: 'png',\n\t\tmultiplier: 4});\n\t// var strDataURI = imgData.substr(22, imgData.length);\n\tvar blob = dataURLtoBlob(imgData);\n\tvar objurl = URL.createObjectURL(blob);\n\n\tlink.download = `${filename}.png`;\n\n\tlink.href = objurl;\n\n\tlink.click();\n};\n\n\nexport { saveImage };\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/saveImage.js","'use strict';\n\nvar assetsLoader = require('./group');\nassetsLoader.stats = require('./stats');\n\nmodule.exports = assetsLoader;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assets-loader/src/index.js\n// module id = 50\n// module chunks = 0","'use strict';\n\nvar Emitter = require('./emitter.js');\nvar createLoader = require('./loader');\nvar autoId = 0;\n\nmodule.exports = function createGroup(config) {\n    var group;\n    var map = {};\n    var assets = [];\n    var queue = [];\n    var numLoaded = 0;\n    var numTotal = 0;\n    var loaders = {};\n\n    var add = function(options) {\n        // console.debug('add', options);\n        if (Array.isArray(options)) {\n            options.forEach(add);\n            return group;\n        }\n        var isGroup = !!options.assets && Array.isArray(options.assets);\n        // console.debug('isGroup', isGroup);\n        var loader;\n        if (isGroup) {\n            loader = createGroup(configure(options, config));\n        } else {\n            loader = createLoader(configure(options, config));\n        }\n        loader.once('destroy', destroyHandler);\n        queue.push(loader);\n        loaders[loader.id] = loader;\n        return group;\n    };\n\n    var get = function(id) {\n        if (!arguments.length) {\n            return assets;\n        }\n        if (map[id]) {\n            return map[id];\n        }\n        return loaders[id];\n    };\n\n    var find = function(id) {\n        if (get(id)) {\n            return get(id);\n        }\n        var found = null;\n        Object.keys(loaders).some(function(key) {\n            found = loaders[key].find && loaders[key].find(id);\n            return !!found;\n        });\n        return found;\n    };\n\n    var getExtension = function(url) {\n        return url && url.split('?')[0].split('.').pop().toLowerCase();\n    };\n\n    var configure = function(options, defaults) {\n        if (typeof options === 'string') {\n            var url = options;\n            options = {\n                url: url\n            };\n        }\n\n        if (options.isTouchLocked === undefined) {\n            options.isTouchLocked = defaults.isTouchLocked;\n        }\n\n        if (options.blob === undefined) {\n            options.blob = defaults.blob;\n        }\n\n        if (options.basePath === undefined) {\n            options.basePath = defaults.basePath;\n        }\n\n        options.id = options.id || options.url || String(++autoId);\n        options.type = options.type || getExtension(options.url);\n        options.crossOrigin = options.crossOrigin || defaults.crossOrigin;\n        options.webAudioContext = options.webAudioContext || defaults.webAudioContext;\n        options.log = defaults.log;\n\n        return options;\n    };\n\n    var start = function() {\n        numTotal = queue.length;\n\n        queue.forEach(function(loader) {\n            loader\n                .on('progress', progressHandler)\n                .once('complete', completeHandler)\n                .once('error', errorHandler)\n                .start();\n        });\n\n        queue = [];\n\n        return group;\n    };\n\n    var progressHandler = function(progress) {\n        var loaded = numLoaded + progress;\n        group.emit('progress', loaded / numTotal);\n    };\n\n    var completeHandler = function(asset, id, type) {\n        if (Array.isArray(asset)) {\n            asset = { id: id, file: asset, type: type };\n        }\n        numLoaded++;\n        group.emit('progress', numLoaded / numTotal);\n        map[asset.id] = asset.file;\n        assets.push(asset);\n        group.emit('childcomplete', asset);\n        checkComplete();\n    };\n\n    var errorHandler = function(err) {\n        numTotal--;\n        if (group.listeners('error').length) {\n            group.emit('error', err);\n        } else {\n            console.error(err);\n        }\n        checkComplete();\n    };\n\n    var destroyHandler = function(id) {\n        loaders[id] = null;\n        delete loaders[id];\n\n        map[id] = null;\n        delete map[id];\n\n        assets.some(function(asset, i) {\n            if (asset.id === id) {\n                assets.splice(i, 1);\n                return true;\n            }\n        });\n    };\n\n    var checkComplete = function() {\n        if (numLoaded >= numTotal) {\n            group.emit('complete', assets, map, config.id, 'group');\n        }\n    };\n\n    var destroy = function() {\n        while (queue.length) {\n            queue.pop().destroy();\n        }\n        group.off('error');\n        group.off('progress');\n        group.off('complete');\n        assets = [];\n        map = {};\n        config.webAudioContext = null;\n        numTotal = 0;\n        numLoaded = 0;\n\n        Object.keys(loaders).forEach(function(key) {\n            loaders[key].destroy();\n        });\n        loaders = {};\n\n        group.emit('destroy', group.id);\n\n        return group;\n    };\n\n    // emits: progress, error, complete, destroy\n\n    group = Object.create(Emitter.prototype, {\n        _events: {\n            value: {}\n        },\n        id: {\n            get: function() {\n                return config.id;\n            }\n        },\n        add: {\n            value: add\n        },\n        start: {\n            value: start\n        },\n        get: {\n            value: get\n        },\n        find: {\n            value: find\n        },\n        getLoader: {\n            value: function(id) {\n                return loaders[id];\n            }\n        },\n        loaded: {\n            get: function() {\n                return numLoaded >= numTotal;\n            }\n        },\n        file: {\n            get: function() {\n                return assets;\n            }\n        },\n        destroy: {\n            value: destroy\n        }\n    });\n\n    config = configure(config || {}, {\n        basePath: '',\n        blob: false,\n        touchLocked: false,\n        crossOrigin: null,\n        webAudioContext: null,\n        log: false\n    });\n\n    if (Array.isArray(config.assets)) {\n        add(config.assets);\n    }\n\n    return Object.freeze(group);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assets-loader/src/group.js\n// module id = 51\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/events/events.js\n// module id = 52\n// module chunks = 0","'use strict';\n\nvar Emitter = require('./emitter.js');\nvar browserHasBlob = require('./browser-has-blob.js');\nvar stats = require('./stats');\n\nmodule.exports = function(options) {\n    var id = options.id;\n    var basePath = options.basePath || '';\n    var url = options.url;\n    var type = options.type;\n    var crossOrigin = options.crossOrigin;\n    var isTouchLocked = options.isTouchLocked;\n    var blob = options.blob && browserHasBlob;\n    var webAudioContext = options.webAudioContext;\n    var log = options.log;\n\n    var loader;\n    var loadHandler;\n    var request;\n    var startTime;\n    var timeout;\n    var file;\n\n    var start = function() {\n        startTime = Date.now();\n\n        switch (type) {\n            case 'json':\n                loadJSON();\n                break;\n            case 'jpg':\n            case 'png':\n            case 'gif':\n            case 'webp':\n            case 'svg':\n                loadImage();\n                break;\n            case 'mp3':\n            case 'ogg':\n            case 'opus':\n            case 'wav':\n            case 'm4a':\n                loadAudio();\n                break;\n            case 'ogv':\n            case 'mp4':\n            case 'webm':\n            case 'hls':\n                loadVideo();\n                break;\n            case 'bin':\n            case 'binary':\n                loadXHR('arraybuffer');\n                break;\n            case 'txt':\n            case 'text':\n                loadXHR('text');\n                break;\n            default:\n                throw 'AssetsLoader ERROR: Unknown type for file with URL: ' + basePath + url + ' (' + type + ')';\n        }\n    };\n\n    var dispatchComplete = function(data) {\n        if (!data) {\n            return;\n        }\n        file = {id: id, file: data, type: type};\n        loader.emit('progress', 1);\n        loader.emit('complete', file, id, type);\n        removeListeners();\n    };\n\n    var loadXHR = function(responseType, customLoadHandler) {\n        loadHandler = customLoadHandler || completeHandler;\n\n        request = new XMLHttpRequest();\n        request.open('GET', basePath + url, true);\n        request.responseType = responseType;\n        request.addEventListener('progress', progressHandler);\n        request.addEventListener('load', loadHandler);\n        request.addEventListener('error', errorHandler);\n        request.send();\n    };\n\n    var progressHandler = function(event) {\n        if (event.lengthComputable) {\n            loader.emit('progress', event.loaded / event.total);\n        }\n    };\n\n    var completeHandler = function() {\n        if (success()) {\n            dispatchComplete(request.response);\n        }\n    };\n\n    var success = function() {\n        // console.log('success', url, request.status);\n        if (request && request.status < 400) {\n            stats.update(request, startTime, url, log);\n            return true;\n        }\n        errorHandler(request && request.statusText);\n        return false;\n    };\n\n    // json\n\n    var loadJSON = function() {\n        loadXHR('json', function() {\n            if (success()) {\n                var data = request.response;\n                if (typeof data === 'string') {\n                    data = JSON.parse(data);\n                }\n                dispatchComplete(data);\n            }\n        });\n    };\n\n    // image\n\n    var loadImage = function() {\n        if (blob) {\n            loadImageBlob();\n        } else {\n            loadImageElement();\n        }\n    };\n\n    var loadImageElement = function() {\n        request = new Image();\n        if (crossOrigin) {\n            request.crossOrigin = 'anonymous';\n        }\n        request.addEventListener('error', errorHandler, false);\n        request.addEventListener('load', elementLoadHandler, false);\n        request.src = basePath + url;\n    };\n\n    var elementLoadHandler = function(event) {\n        window.clearTimeout(timeout);\n        if (!event && (request.error || !request.readyState)) {\n            errorHandler();\n            return;\n        }\n        dispatchComplete(request);\n    };\n\n    var loadImageBlob = function() {\n        loadXHR('blob', function() {\n            if (success()) {\n                request = new Image();\n                request.addEventListener('error', errorHandler, false);\n                request.addEventListener('load', imageBlobHandler, false);\n                request.src = window.URL.createObjectURL(request.response);\n            }\n        });\n    };\n\n    var imageBlobHandler = function() {\n        window.URL.revokeObjectURL(request.src);\n        dispatchComplete(request);\n    };\n\n    // audio\n\n    var loadAudio = function() {\n        if (webAudioContext) {\n            loadAudioBuffer();\n        } else {\n            loadMediaElement('audio');\n        }\n    };\n\n    // video\n\n    var loadVideo = function() {\n        if (blob) {\n            loadXHR('blob');\n        } else {\n            loadMediaElement('video');\n        }\n    };\n\n    // audio buffer\n\n    var loadAudioBuffer = function() {\n        loadXHR('arraybuffer', function() {\n            if (success()) {\n                webAudioContext.decodeAudioData(\n                    request.response,\n                    function(buffer) {\n                        request = null;\n                        dispatchComplete(buffer);\n                    },\n                    function(e) {\n                        errorHandler(e);\n                    }\n                );\n            }\n        });\n    };\n\n    // media element\n\n    var loadMediaElement = function(tagName) {\n        request = document.createElement(tagName);\n\n        if (!isTouchLocked) {\n            // timeout because sometimes canplaythrough doesn't fire\n            window.clearTimeout(timeout);\n            timeout = window.setTimeout(elementLoadHandler, 2000);\n            request.addEventListener('canplaythrough', elementLoadHandler, false);\n        }\n\n        request.addEventListener('error', errorHandler, false);\n        request.preload = 'auto';\n        request.src = basePath + url;\n        request.load();\n\n        if (isTouchLocked) {\n            dispatchComplete(request);\n        }\n    };\n\n    // error\n\n    var errorHandler = function(err) {\n        // console.log('errorHandler', url, err);\n        window.clearTimeout(timeout);\n\n        var message = err;\n\n        if (request && request.tagName && request.error) {\n            var ERROR_STATE = ['', 'ABORTED', 'NETWORK', 'DECODE', 'SRC_NOT_SUPPORTED'];\n            message = 'MediaError: ' + ERROR_STATE[request.error.code] + ' ' + request.src;\n        } else if (request && request.statusText) {\n            message = request.statusText;\n        } else if (err && err.message) {\n            message = err.message;\n        } else if (err && err.type) {\n            message = err.type;\n        }\n\n        loader.emit('error', 'Error loading \"' + basePath + url + '\" ' + message);\n\n        destroy();\n    };\n\n    // clean up\n\n    var removeListeners = function() {\n        loader.off('error');\n        loader.off('progress');\n        loader.off('complete');\n\n        if (request) {\n            request.removeEventListener('progress', progressHandler);\n            request.removeEventListener('load', loadHandler);\n            request.removeEventListener('error', errorHandler);\n            request.removeEventListener('load', elementLoadHandler);\n            request.removeEventListener('canplaythrough', elementLoadHandler);\n            request.removeEventListener('load', imageBlobHandler);\n        }\n    };\n\n    var destroy = function() {\n        removeListeners();\n\n        if (request && request.abort && request.readyState < 4) {\n            request.abort();\n        }\n\n        request = null;\n        webAudioContext = null;\n        file = null;\n\n        window.clearTimeout(timeout);\n\n        loader.emit('destroy', id);\n    };\n\n    // emits: progress, error, complete\n\n    loader = Object.create(Emitter.prototype, {\n        _events: {\n            value: {}\n        },\n        id: {\n            value: options.id\n        },\n        start: {\n            value: start\n        },\n        loaded: {\n            get: function() {\n                return !!file;\n            }\n        },\n        file: {\n            get: function() {\n                return file;\n            }\n        },\n        destroy: {\n            value: destroy\n        }\n    });\n\n    return Object.freeze(loader);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assets-loader/src/loader.js\n// module id = 53\n// module chunks = 0","'use strict';\n\nmodule.exports = (function() {\n    try {\n        return !!new Blob();\n    } catch (e) {\n        return false;\n    }\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assets-loader/src/browser-has-blob.js\n// module id = 54\n// module chunks = 0","\"use strict\";\n/*\nCopyright (c) 2014 Petka Antonov\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\nfunction Url() {\n    //For more efficient internal representation and laziness.\n    //The non-underscore versions of these properties are accessor functions\n    //defined on the prototype.\n    this._protocol = null;\n    this._href = \"\";\n    this._port = -1;\n    this._query = null;\n\n    this.auth = null;\n    this.slashes = null;\n    this.host = null;\n    this.hostname = null;\n    this.hash = null;\n    this.search = null;\n    this.pathname = null;\n\n    this._prependSlash = false;\n}\n\nvar querystring = require(\"querystring\");\n\nUrl.queryString = querystring;\n\nUrl.prototype.parse =\nfunction Url$parse(str, parseQueryString, hostDenotesSlash, disableAutoEscapeChars) {\n    if (typeof str !== \"string\") {\n        throw new TypeError(\"Parameter 'url' must be a string, not \" +\n            typeof str);\n    }\n    var start = 0;\n    var end = str.length - 1;\n\n    //Trim leading and trailing ws\n    while (str.charCodeAt(start) <= 0x20 /*' '*/) start++;\n    while (str.charCodeAt(end) <= 0x20 /*' '*/) end--;\n\n    start = this._parseProtocol(str, start, end);\n\n    //Javascript doesn't have host\n    if (this._protocol !== \"javascript\") {\n        start = this._parseHost(str, start, end, hostDenotesSlash);\n        var proto = this._protocol;\n        if (!this.hostname &&\n            (this.slashes || (proto && !slashProtocols[proto]))) {\n            this.hostname = this.host = \"\";\n        }\n    }\n\n    if (start <= end) {\n        var ch = str.charCodeAt(start);\n\n        if (ch === 0x2F /*'/'*/ || ch === 0x5C /*'\\'*/) {\n            this._parsePath(str, start, end, disableAutoEscapeChars);\n        }\n        else if (ch === 0x3F /*'?'*/) {\n            this._parseQuery(str, start, end, disableAutoEscapeChars);\n        }\n        else if (ch === 0x23 /*'#'*/) {\n          this._parseHash(str, start, end, disableAutoEscapeChars);\n        }\n        else if (this._protocol !== \"javascript\") {\n            this._parsePath(str, start, end, disableAutoEscapeChars);\n        }\n        else { //For javascript the pathname is just the rest of it\n            this.pathname = str.slice(start, end + 1 );\n        }\n\n    }\n\n    if (!this.pathname && this.hostname &&\n        this._slashProtocols[this._protocol]) {\n        this.pathname = \"/\";\n    }\n\n    if (parseQueryString) {\n        var search = this.search;\n        if (search == null) {\n            search = this.search = \"\";\n        }\n        if (search.charCodeAt(0) === 0x3F /*'?'*/) {\n            search = search.slice(1);\n        }\n        //This calls a setter function, there is no .query data property\n        this.query = Url.queryString.parse(search);\n    }\n};\n\nUrl.prototype.resolve = function Url$resolve(relative) {\n    return this.resolveObject(Url.parse(relative, false, true)).format();\n};\n\nUrl.prototype.format = function Url$format() {\n    var auth = this.auth || \"\";\n\n    if (auth) {\n        auth = encodeURIComponent(auth);\n        auth = auth.replace(/%3A/i, \":\");\n        auth += \"@\";\n    }\n\n    var protocol = this.protocol || \"\";\n    var pathname = this.pathname || \"\";\n    var hash = this.hash || \"\";\n    var search = this.search || \"\";\n    var query = \"\";\n    var hostname = this.hostname || \"\";\n    var port = this.port || \"\";\n    var host = false;\n    var scheme = \"\";\n\n    //Cache the result of the getter function\n    var q = this.query;\n    if (q && typeof q === \"object\") {\n        query = Url.queryString.stringify(q);\n    }\n\n    if (!search) {\n        search = query ? \"?\" + query : \"\";\n    }\n\n    if (protocol && protocol.charCodeAt(protocol.length - 1) !== 0x3A /*':'*/)\n        protocol += \":\";\n\n    if (this.host) {\n        host = auth + this.host;\n    }\n    else if (hostname) {\n        var ip6 = hostname.indexOf(\":\") > -1;\n        if (ip6) hostname = \"[\" + hostname + \"]\";\n        host = auth + hostname + (port ? \":\" + port : \"\");\n    }\n\n    var slashes = this.slashes ||\n        ((!protocol ||\n        slashProtocols[protocol]) && host !== false);\n\n\n    if (protocol) scheme = protocol + (slashes ? \"//\" : \"\");\n    else if (slashes) scheme = \"//\";\n\n    if (slashes && pathname && pathname.charCodeAt(0) !== 0x2F /*'/'*/) {\n        pathname = \"/\" + pathname;\n    }\n    if (search && search.charCodeAt(0) !== 0x3F /*'?'*/)\n        search = \"?\" + search;\n    if (hash && hash.charCodeAt(0) !== 0x23 /*'#'*/)\n        hash = \"#\" + hash;\n\n    pathname = escapePathName(pathname);\n    search = escapeSearch(search);\n\n    return scheme + (host === false ? \"\" : host) + pathname + search + hash;\n};\n\nUrl.prototype.resolveObject = function Url$resolveObject(relative) {\n    if (typeof relative === \"string\")\n        relative = Url.parse(relative, false, true);\n\n    var result = this._clone();\n\n    // hash is always overridden, no matter what.\n    // even href=\"\" will remove it.\n    result.hash = relative.hash;\n\n    // if the relative url is empty, then there\"s nothing left to do here.\n    if (!relative.href) {\n        result._href = \"\";\n        return result;\n    }\n\n    // hrefs like //foo/bar always cut to the protocol.\n    if (relative.slashes && !relative._protocol) {\n        relative._copyPropsTo(result, true);\n\n        if (slashProtocols[result._protocol] &&\n            result.hostname && !result.pathname) {\n            result.pathname = \"/\";\n        }\n        result._href = \"\";\n        return result;\n    }\n\n    if (relative._protocol && relative._protocol !== result._protocol) {\n        // if it\"s a known url protocol, then changing\n        // the protocol does weird things\n        // first, if it\"s not file:, then we MUST have a host,\n        // and if there was a path\n        // to begin with, then we MUST have a path.\n        // if it is file:, then the host is dropped,\n        // because that\"s known to be hostless.\n        // anything else is assumed to be absolute.\n        if (!slashProtocols[relative._protocol]) {\n            relative._copyPropsTo(result, false);\n            result._href = \"\";\n            return result;\n        }\n\n        result._protocol = relative._protocol;\n        if (!relative.host && relative._protocol !== \"javascript\") {\n            var relPath = (relative.pathname || \"\").split(\"/\");\n            while (relPath.length && !(relative.host = relPath.shift()));\n            if (!relative.host) relative.host = \"\";\n            if (!relative.hostname) relative.hostname = \"\";\n            if (relPath[0] !== \"\") relPath.unshift(\"\");\n            if (relPath.length < 2) relPath.unshift(\"\");\n            result.pathname = relPath.join(\"/\");\n        } else {\n            result.pathname = relative.pathname;\n        }\n\n        result.search = relative.search;\n        result.host = relative.host || \"\";\n        result.auth = relative.auth;\n        result.hostname = relative.hostname || relative.host;\n        result._port = relative._port;\n        result.slashes = result.slashes || relative.slashes;\n        result._href = \"\";\n        return result;\n    }\n\n    var isSourceAbs =\n        (result.pathname && result.pathname.charCodeAt(0) === 0x2F /*'/'*/);\n    var isRelAbs = (\n            relative.host ||\n            (relative.pathname &&\n            relative.pathname.charCodeAt(0) === 0x2F /*'/'*/)\n        );\n    var mustEndAbs = (isRelAbs || isSourceAbs ||\n                        (result.host && relative.pathname));\n\n    var removeAllDots = mustEndAbs;\n\n    var srcPath = result.pathname && result.pathname.split(\"/\") || [];\n    var relPath = relative.pathname && relative.pathname.split(\"/\") || [];\n    var psychotic = result._protocol && !slashProtocols[result._protocol];\n\n    // if the url is a non-slashed url, then relative\n    // links like ../.. should be able\n    // to crawl up to the hostname, as well.  This is strange.\n    // result.protocol has already been set by now.\n    // Later on, put the first path part into the host field.\n    if (psychotic) {\n        result.hostname = \"\";\n        result._port = -1;\n        if (result.host) {\n            if (srcPath[0] === \"\") srcPath[0] = result.host;\n            else srcPath.unshift(result.host);\n        }\n        result.host = \"\";\n        if (relative._protocol) {\n            relative.hostname = \"\";\n            relative._port = -1;\n            if (relative.host) {\n                if (relPath[0] === \"\") relPath[0] = relative.host;\n                else relPath.unshift(relative.host);\n            }\n            relative.host = \"\";\n        }\n        mustEndAbs = mustEndAbs && (relPath[0] === \"\" || srcPath[0] === \"\");\n    }\n\n    if (isRelAbs) {\n        // it\"s absolute.\n        result.host = relative.host ?\n            relative.host : result.host;\n        result.hostname = relative.hostname ?\n            relative.hostname : result.hostname;\n        result.search = relative.search;\n        srcPath = relPath;\n        // fall through to the dot-handling below.\n    } else if (relPath.length) {\n        // it\"s relative\n        // throw away the existing file, and take the new path instead.\n        if (!srcPath) srcPath = [];\n        srcPath.pop();\n        srcPath = srcPath.concat(relPath);\n        result.search = relative.search;\n    } else if (relative.search) {\n        // just pull out the search.\n        // like href=\"?foo\".\n        // Put this after the other two cases because it simplifies the booleans\n        if (psychotic) {\n            result.hostname = result.host = srcPath.shift();\n            //occationaly the auth can get stuck only in host\n            //this especialy happens in cases like\n            //url.resolveObject(\"mailto:local1@domain1\", \"local2@domain2\")\n            var authInHost = result.host && result.host.indexOf(\"@\") > 0 ?\n                result.host.split(\"@\") : false;\n            if (authInHost) {\n                result.auth = authInHost.shift();\n                result.host = result.hostname = authInHost.shift();\n            }\n        }\n        result.search = relative.search;\n        result._href = \"\";\n        return result;\n    }\n\n    if (!srcPath.length) {\n        // no path at all.  easy.\n        // we\"ve already handled the other stuff above.\n        result.pathname = null;\n        result._href = \"\";\n        return result;\n    }\n\n    // if a url ENDs in . or .., then it must get a trailing slash.\n    // however, if it ends in anything else non-slashy,\n    // then it must NOT get a trailing slash.\n    var last = srcPath.slice(-1)[0];\n    var hasTrailingSlash = (\n        (result.host || relative.host) && (last === \".\" || last === \"..\") ||\n        last === \"\");\n\n    // strip single dots, resolve double dots to parent dir\n    // if the path tries to go above the root, `up` ends up > 0\n    var up = 0;\n    for (var i = srcPath.length; i >= 0; i--) {\n        last = srcPath[i];\n        if (last === \".\") {\n            srcPath.splice(i, 1);\n        } else if (last === \"..\") {\n            srcPath.splice(i, 1);\n            up++;\n        } else if (up) {\n            srcPath.splice(i, 1);\n            up--;\n        }\n    }\n\n    // if the path is allowed to go above the root, restore leading ..s\n    if (!mustEndAbs && !removeAllDots) {\n        for (; up--; up) {\n            srcPath.unshift(\"..\");\n        }\n    }\n\n    if (mustEndAbs && srcPath[0] !== \"\" &&\n        (!srcPath[0] || srcPath[0].charCodeAt(0) !== 0x2F /*'/'*/)) {\n        srcPath.unshift(\"\");\n    }\n\n    if (hasTrailingSlash && (srcPath.join(\"/\").substr(-1) !== \"/\")) {\n        srcPath.push(\"\");\n    }\n\n    var isAbsolute = srcPath[0] === \"\" ||\n        (srcPath[0] && srcPath[0].charCodeAt(0) === 0x2F /*'/'*/);\n\n    // put the host back\n    if (psychotic) {\n        result.hostname = result.host = isAbsolute ? \"\" :\n            srcPath.length ? srcPath.shift() : \"\";\n        //occationaly the auth can get stuck only in host\n        //this especialy happens in cases like\n        //url.resolveObject(\"mailto:local1@domain1\", \"local2@domain2\")\n        var authInHost = result.host && result.host.indexOf(\"@\") > 0 ?\n            result.host.split(\"@\") : false;\n        if (authInHost) {\n            result.auth = authInHost.shift();\n            result.host = result.hostname = authInHost.shift();\n        }\n    }\n\n    mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n    if (mustEndAbs && !isAbsolute) {\n        srcPath.unshift(\"\");\n    }\n\n    result.pathname = srcPath.length === 0 ? null : srcPath.join(\"/\");\n    result.auth = relative.auth || result.auth;\n    result.slashes = result.slashes || relative.slashes;\n    result._href = \"\";\n    return result;\n};\n\nvar punycode = require(\"punycode\");\nUrl.prototype._hostIdna = function Url$_hostIdna(hostname) {\n    // IDNA Support: Returns a punycoded representation of \"domain\".\n    // It only converts parts of the domain name that\n    // have non-ASCII characters, i.e. it doesn't matter if\n    // you call it with a domain that already is ASCII-only.\n    return punycode.toASCII(hostname);\n};\n\nvar escapePathName = Url.prototype._escapePathName =\nfunction Url$_escapePathName(pathname) {\n    if (!containsCharacter2(pathname, 0x23 /*'#'*/, 0x3F /*'?'*/)) {\n        return pathname;\n    }\n    //Avoid closure creation to keep this inlinable\n    return _escapePath(pathname);\n};\n\nvar escapeSearch = Url.prototype._escapeSearch =\nfunction Url$_escapeSearch(search) {\n    if (!containsCharacter2(search, 0x23 /*'#'*/, -1)) return search;\n    //Avoid closure creation to keep this inlinable\n    return _escapeSearch(search);\n};\n\nUrl.prototype._parseProtocol = function Url$_parseProtocol(str, start, end) {\n    var doLowerCase = false;\n    var protocolCharacters = this._protocolCharacters;\n\n    for (var i = start; i <= end; ++i) {\n        var ch = str.charCodeAt(i);\n\n        if (ch === 0x3A /*':'*/) {\n            var protocol = str.slice(start, i);\n            if (doLowerCase) protocol = protocol.toLowerCase();\n            this._protocol = protocol;\n            return i + 1;\n        }\n        else if (protocolCharacters[ch] === 1) {\n            if (ch < 0x61 /*'a'*/)\n                doLowerCase = true;\n        }\n        else {\n            return start;\n        }\n\n    }\n    return start;\n};\n\nUrl.prototype._parseAuth = function Url$_parseAuth(str, start, end, decode) {\n    var auth = str.slice(start, end + 1);\n    if (decode) {\n        auth = decodeURIComponent(auth);\n    }\n    this.auth = auth;\n};\n\nUrl.prototype._parsePort = function Url$_parsePort(str, start, end) {\n    //Internal format is integer for more efficient parsing\n    //and for efficient trimming of leading zeros\n    var port = 0;\n    //Distinguish between :0 and : (no port number at all)\n    var hadChars = false;\n    var validPort = true;\n\n    for (var i = start; i <= end; ++i) {\n        var ch = str.charCodeAt(i);\n\n        if (0x30 /*'0'*/ <= ch && ch <= 0x39 /*'9'*/) {\n            port = (10 * port) + (ch - 0x30 /*'0'*/);\n            hadChars = true;\n        }\n        else {\n            validPort = false;\n            if (ch === 0x5C/*'\\'*/ || ch === 0x2F/*'/'*/) {\n                validPort = true;\n            }\n            break;\n        }\n\n    }\n    if ((port === 0 && !hadChars) || !validPort) {\n        if (!validPort) {\n            this._port = -2;\n        }\n        return 0;\n    }\n\n    this._port = port;\n    return i - start;\n};\n\nUrl.prototype._parseHost =\nfunction Url$_parseHost(str, start, end, slashesDenoteHost) {\n    var hostEndingCharacters = this._hostEndingCharacters;\n    var first = str.charCodeAt(start);\n    var second = str.charCodeAt(start + 1);\n    if ((first === 0x2F /*'/'*/ || first === 0x5C /*'\\'*/) &&\n        (second === 0x2F /*'/'*/ || second === 0x5C /*'\\'*/)) {\n        this.slashes = true;\n\n        //The string starts with //\n        if (start === 0) {\n            //The string is just \"//\"\n            if (end < 2) return start;\n            //If slashes do not denote host and there is no auth,\n            //there is no host when the string starts with //\n            var hasAuth =\n                containsCharacter(str, 0x40 /*'@'*/, 2, hostEndingCharacters);\n            if (!hasAuth && !slashesDenoteHost) {\n                this.slashes = null;\n                return start;\n            }\n        }\n        //There is a host that starts after the //\n        start += 2;\n    }\n    //If there is no slashes, there is no hostname if\n    //1. there was no protocol at all\n    else if (!this._protocol ||\n        //2. there was a protocol that requires slashes\n        //e.g. in 'http:asd' 'asd' is not a hostname\n        slashProtocols[this._protocol]\n    ) {\n        return start;\n    }\n\n    var doLowerCase = false;\n    var idna = false;\n    var hostNameStart = start;\n    var hostNameEnd = end;\n    var lastCh = -1;\n    var portLength = 0;\n    var charsAfterDot = 0;\n    var authNeedsDecoding = false;\n\n    var j = -1;\n\n    //Find the last occurrence of an @-sign until hostending character is met\n    //also mark if decoding is needed for the auth portion\n    for (var i = start; i <= end; ++i) {\n        var ch = str.charCodeAt(i);\n\n        if (ch === 0x40 /*'@'*/) {\n            j = i;\n        }\n        //This check is very, very cheap. Unneeded decodeURIComponent is very\n        //very expensive\n        else if (ch === 0x25 /*'%'*/) {\n            authNeedsDecoding = true;\n        }\n        else if (hostEndingCharacters[ch] === 1) {\n            break;\n        }\n    }\n\n    //@-sign was found at index j, everything to the left from it\n    //is auth part\n    if (j > -1) {\n        this._parseAuth(str, start, j - 1, authNeedsDecoding);\n        //hostname starts after the last @-sign\n        start = hostNameStart = j + 1;\n    }\n\n    //Host name is starting with a [\n    if (str.charCodeAt(start) === 0x5B /*'['*/) {\n        for (var i = start + 1; i <= end; ++i) {\n            var ch = str.charCodeAt(i);\n\n            //Assume valid IP6 is between the brackets\n            if (ch === 0x5D /*']'*/) {\n                if (str.charCodeAt(i + 1) === 0x3A /*':'*/) {\n                    portLength = this._parsePort(str, i + 2, end) + 1;\n                }\n                var hostname = str.slice(start + 1, i).toLowerCase();\n                this.hostname = hostname;\n                this.host = this._port > 0 ?\n                    \"[\" + hostname + \"]:\" + this._port :\n                    \"[\" + hostname + \"]\";\n                this.pathname = \"/\";\n                return i + portLength + 1;\n            }\n        }\n        //Empty hostname, [ starts a path\n        return start;\n    }\n\n    for (var i = start; i <= end; ++i) {\n        if (charsAfterDot > 62) {\n            this.hostname = this.host = str.slice(start, i);\n            return i;\n        }\n        var ch = str.charCodeAt(i);\n\n        if (ch === 0x3A /*':'*/) {\n            portLength = this._parsePort(str, i + 1, end) + 1;\n            hostNameEnd = i - 1;\n            break;\n        }\n        else if (ch < 0x61 /*'a'*/) {\n            if (ch === 0x2E /*'.'*/) {\n                //Node.js ignores this error\n                /*\n                if (lastCh === DOT || lastCh === -1) {\n                    this.hostname = this.host = \"\";\n                    return start;\n                }\n                */\n                charsAfterDot = -1;\n            }\n            else if (0x41 /*'A'*/ <= ch && ch <= 0x5A /*'Z'*/) {\n                doLowerCase = true;\n            }\n            //Valid characters other than ASCII letters -, _, +, 0-9\n            else if (!(ch === 0x2D /*'-'*/ ||\n                       ch === 0x5F /*'_'*/ ||\n                       ch === 0x2B /*'+'*/ ||\n                       (0x30 /*'0'*/ <= ch && ch <= 0x39 /*'9'*/))\n                ) {\n                if (hostEndingCharacters[ch] === 0 &&\n                    this._noPrependSlashHostEnders[ch] === 0) {\n                    this._prependSlash = true;\n                }\n                hostNameEnd = i - 1;\n                break;\n            }\n        }\n        else if (ch >= 0x7B /*'{'*/) {\n            if (ch <= 0x7E /*'~'*/) {\n                if (this._noPrependSlashHostEnders[ch] === 0) {\n                    this._prependSlash = true;\n                }\n                hostNameEnd = i - 1;\n                break;\n            }\n            idna = true;\n        }\n        lastCh = ch;\n        charsAfterDot++;\n    }\n\n    //Node.js ignores this error\n    /*\n    if (lastCh === DOT) {\n        hostNameEnd--;\n    }\n    */\n\n    if (hostNameEnd + 1 !== start &&\n        hostNameEnd - hostNameStart <= 256) {\n        var hostname = str.slice(hostNameStart, hostNameEnd + 1);\n        if (doLowerCase) hostname = hostname.toLowerCase();\n        if (idna) hostname = this._hostIdna(hostname);\n        this.hostname = hostname;\n        this.host = this._port > 0 ? hostname + \":\" + this._port : hostname;\n    }\n\n    return hostNameEnd + 1 + portLength;\n\n};\n\nUrl.prototype._copyPropsTo = function Url$_copyPropsTo(input, noProtocol) {\n    if (!noProtocol) {\n        input._protocol = this._protocol;\n    }\n    input._href = this._href;\n    input._port = this._port;\n    input._prependSlash = this._prependSlash;\n    input.auth = this.auth;\n    input.slashes = this.slashes;\n    input.host = this.host;\n    input.hostname = this.hostname;\n    input.hash = this.hash;\n    input.search = this.search;\n    input.pathname = this.pathname;\n};\n\nUrl.prototype._clone = function Url$_clone() {\n    var ret = new Url();\n    ret._protocol = this._protocol;\n    ret._href = this._href;\n    ret._port = this._port;\n    ret._prependSlash = this._prependSlash;\n    ret.auth = this.auth;\n    ret.slashes = this.slashes;\n    ret.host = this.host;\n    ret.hostname = this.hostname;\n    ret.hash = this.hash;\n    ret.search = this.search;\n    ret.pathname = this.pathname;\n    return ret;\n};\n\nUrl.prototype._getComponentEscaped =\nfunction Url$_getComponentEscaped(str, start, end, isAfterQuery) {\n    var cur = start;\n    var i = start;\n    var ret = \"\";\n    var autoEscapeMap = isAfterQuery ?\n        this._afterQueryAutoEscapeMap : this._autoEscapeMap;\n    for (; i <= end; ++i) {\n        var ch = str.charCodeAt(i);\n        var escaped = autoEscapeMap[ch];\n\n        if (escaped !== \"\" && escaped !== undefined) {\n            if (cur < i) ret += str.slice(cur, i);\n            ret += escaped;\n            cur = i + 1;\n        }\n    }\n    if (cur < i + 1) ret += str.slice(cur, i);\n    return ret;\n};\n\nUrl.prototype._parsePath =\nfunction Url$_parsePath(str, start, end, disableAutoEscapeChars) {\n    var pathStart = start;\n    var pathEnd = end;\n    var escape = false;\n    var autoEscapeCharacters = this._autoEscapeCharacters;\n    var prePath = this._port === -2 ? \"/:\" : \"\";\n\n    for (var i = start; i <= end; ++i) {\n        var ch = str.charCodeAt(i);\n        if (ch === 0x23 /*'#'*/) {\n          this._parseHash(str, i, end, disableAutoEscapeChars);\n            pathEnd = i - 1;\n            break;\n        }\n        else if (ch === 0x3F /*'?'*/) {\n            this._parseQuery(str, i, end, disableAutoEscapeChars);\n            pathEnd = i - 1;\n            break;\n        }\n        else if (!disableAutoEscapeChars && !escape && autoEscapeCharacters[ch] === 1) {\n            escape = true;\n        }\n    }\n\n    if (pathStart > pathEnd) {\n        this.pathname = prePath === \"\" ? \"/\" : prePath;\n        return;\n    }\n\n    var path;\n    if (escape) {\n        path = this._getComponentEscaped(str, pathStart, pathEnd, false);\n    }\n    else {\n        path = str.slice(pathStart, pathEnd + 1);\n    }\n    this.pathname = prePath === \"\"\n        ? (this._prependSlash ? \"/\" + path : path)\n        : prePath + path;\n};\n\nUrl.prototype._parseQuery = function Url$_parseQuery(str, start, end, disableAutoEscapeChars) {\n    var queryStart = start;\n    var queryEnd = end;\n    var escape = false;\n    var autoEscapeCharacters = this._autoEscapeCharacters;\n\n    for (var i = start; i <= end; ++i) {\n        var ch = str.charCodeAt(i);\n\n        if (ch === 0x23 /*'#'*/) {\n            this._parseHash(str, i, end, disableAutoEscapeChars);\n            queryEnd = i - 1;\n            break;\n        }\n        else if (!disableAutoEscapeChars && !escape && autoEscapeCharacters[ch] === 1) {\n            escape = true;\n        }\n    }\n\n    if (queryStart > queryEnd) {\n        this.search = \"\";\n        return;\n    }\n\n    var query;\n    if (escape) {\n        query = this._getComponentEscaped(str, queryStart, queryEnd, true);\n    }\n    else {\n        query = str.slice(queryStart, queryEnd + 1);\n    }\n    this.search = query;\n};\n\nUrl.prototype._parseHash = function Url$_parseHash(str, start, end, disableAutoEscapeChars) {\n    if (start > end) {\n        this.hash = \"\";\n        return;\n    }\n\n    this.hash = disableAutoEscapeChars ?\n        str.slice(start, end + 1) : this._getComponentEscaped(str, start, end, true);\n};\n\nObject.defineProperty(Url.prototype, \"port\", {\n    get: function() {\n        if (this._port >= 0) {\n            return (\"\" + this._port);\n        }\n        return null;\n    },\n    set: function(v) {\n        if (v == null) {\n            this._port = -1;\n        }\n        else {\n            this._port = parseInt(v, 10);\n        }\n    }\n});\n\nObject.defineProperty(Url.prototype, \"query\", {\n    get: function() {\n        var query = this._query;\n        if (query != null) {\n            return query;\n        }\n        var search = this.search;\n\n        if (search) {\n            if (search.charCodeAt(0) === 0x3F /*'?'*/) {\n                search = search.slice(1);\n            }\n            if (search !== \"\") {\n                this._query = search;\n                return search;\n            }\n        }\n        return search;\n    },\n    set: function(v) {\n        this._query = v;\n    }\n});\n\nObject.defineProperty(Url.prototype, \"path\", {\n    get: function() {\n        var p = this.pathname || \"\";\n        var s = this.search || \"\";\n        if (p || s) {\n            return p + s;\n        }\n        return (p == null && s) ? (\"/\" + s) : null;\n    },\n    set: function() {}\n});\n\nObject.defineProperty(Url.prototype, \"protocol\", {\n    get: function() {\n        var proto = this._protocol;\n        return proto ? proto + \":\" : proto;\n    },\n    set: function(v) {\n        if (typeof v === \"string\") {\n            var end = v.length - 1;\n            if (v.charCodeAt(end) === 0x3A /*':'*/) {\n                this._protocol = v.slice(0, end);\n            }\n            else {\n                this._protocol = v;\n            }\n        }\n        else if (v == null) {\n            this._protocol = null;\n        }\n    }\n});\n\nObject.defineProperty(Url.prototype, \"href\", {\n    get: function() {\n        var href = this._href;\n        if (!href) {\n            href = this._href = this.format();\n        }\n        return href;\n    },\n    set: function(v) {\n        this._href = v;\n    }\n});\n\nUrl.parse = function Url$Parse(str, parseQueryString, hostDenotesSlash, disableAutoEscapeChars) {\n    if (str instanceof Url) return str;\n    var ret = new Url();\n    ret.parse(str, !!parseQueryString, !!hostDenotesSlash, !!disableAutoEscapeChars);\n    return ret;\n};\n\nUrl.format = function Url$Format(obj) {\n    if (typeof obj === \"string\") {\n        obj = Url.parse(obj);\n    }\n    if (!(obj instanceof Url)) {\n        return Url.prototype.format.call(obj);\n    }\n    return obj.format();\n};\n\nUrl.resolve = function Url$Resolve(source, relative) {\n    return Url.parse(source, false, true).resolve(relative);\n};\n\nUrl.resolveObject = function Url$ResolveObject(source, relative) {\n    if (!source) return relative;\n    return Url.parse(source, false, true).resolveObject(relative);\n};\n\nfunction _escapePath(pathname) {\n    return pathname.replace(/[?#]/g, function(match) {\n        return encodeURIComponent(match);\n    });\n}\n\nfunction _escapeSearch(search) {\n    return search.replace(/#/g, function(match) {\n        return encodeURIComponent(match);\n    });\n}\n\n//Search `char1` (integer code for a character) in `string`\n//starting from `fromIndex` and ending at `string.length - 1`\n//or when a stop character is found\nfunction containsCharacter(string, char1, fromIndex, stopCharacterTable) {\n    var len = string.length;\n    for (var i = fromIndex; i < len; ++i) {\n        var ch = string.charCodeAt(i);\n\n        if (ch === char1) {\n            return true;\n        }\n        else if (stopCharacterTable[ch] === 1) {\n            return false;\n        }\n    }\n    return false;\n}\n\n//See if `char1` or `char2` (integer codes for characters)\n//is contained in `string`\nfunction containsCharacter2(string, char1, char2) {\n    for (var i = 0, len = string.length; i < len; ++i) {\n        var ch = string.charCodeAt(i);\n        if (ch === char1 || ch === char2) return true;\n    }\n    return false;\n}\n\n//Makes an array of 128 uint8's which represent boolean values.\n//Spec is an array of ascii code points or ascii code point ranges\n//ranges are expressed as [start, end]\n\n//Create a table with the characters 0x30-0x39 (decimals '0' - '9') and\n//0x7A (lowercaseletter 'z') as `true`:\n//\n//var a = makeAsciiTable([[0x30, 0x39], 0x7A]);\n//a[0x30]; //1\n//a[0x15]; //0\n//a[0x35]; //1\nfunction makeAsciiTable(spec) {\n    var ret = new Uint8Array(128);\n    spec.forEach(function(item){\n        if (typeof item === \"number\") {\n            ret[item] = 1;\n        }\n        else {\n            var start = item[0];\n            var end = item[1];\n            for (var j = start; j <= end; ++j) {\n                ret[j] = 1;\n            }\n        }\n    });\n\n    return ret;\n}\n\n\nvar autoEscape = [\"<\", \">\", \"\\\"\", \"`\", \" \", \"\\r\", \"\\n\",\n    \"\\t\", \"{\", \"}\", \"|\", \"\\\\\", \"^\", \"`\", \"'\"];\n\nvar autoEscapeMap = new Array(128);\n\n\n\nfor (var i = 0, len = autoEscapeMap.length; i < len; ++i) {\n    autoEscapeMap[i] = \"\";\n}\n\nfor (var i = 0, len = autoEscape.length; i < len; ++i) {\n    var c = autoEscape[i];\n    var esc = encodeURIComponent(c);\n    if (esc === c) {\n        esc = escape(c);\n    }\n    autoEscapeMap[c.charCodeAt(0)] = esc;\n}\nvar afterQueryAutoEscapeMap = autoEscapeMap.slice();\nautoEscapeMap[0x5C /*'\\'*/] = \"/\";\n\nvar slashProtocols = Url.prototype._slashProtocols = {\n    http: true,\n    https: true,\n    gopher: true,\n    file: true,\n    ftp: true,\n\n    \"http:\": true,\n    \"https:\": true,\n    \"gopher:\": true,\n    \"file:\": true,\n    \"ftp:\": true\n};\n\n//Optimize back from normalized object caused by non-identifier keys\nfunction f(){}\nf.prototype = slashProtocols;\n\nUrl.prototype._protocolCharacters = makeAsciiTable([\n    [0x61 /*'a'*/, 0x7A /*'z'*/],\n    [0x41 /*'A'*/, 0x5A /*'Z'*/],\n    0x2E /*'.'*/, 0x2B /*'+'*/, 0x2D /*'-'*/\n]);\n\nUrl.prototype._hostEndingCharacters = makeAsciiTable([\n    0x23 /*'#'*/, 0x3F /*'?'*/, 0x2F /*'/'*/, 0x5C /*'\\'*/\n]);\n\nUrl.prototype._autoEscapeCharacters = makeAsciiTable(\n    autoEscape.map(function(v) {\n        return v.charCodeAt(0);\n    })\n);\n\n//If these characters end a host name, the path will not be prepended a /\nUrl.prototype._noPrependSlashHostEnders = makeAsciiTable(\n    [\n        \"<\", \">\", \"'\", \"`\", \" \", \"\\r\",\n        \"\\n\", \"\\t\", \"{\", \"}\", \"|\",\n        \"^\", \"`\", \"\\\"\", \"%\", \";\"\n    ].map(function(v) {\n        return v.charCodeAt(0);\n    })\n);\n\nUrl.prototype._autoEscapeMap = autoEscapeMap;\nUrl.prototype._afterQueryAutoEscapeMap = afterQueryAutoEscapeMap;\n\nmodule.exports = Url;\n\nUrl.replace = function Url$Replace() {\n    require.cache.url = {\n        exports: Url\n    };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fast-url-parser/src/urlparser.js\n// module id = 55\n// module chunks = 0","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystring-es3/index.js\n// module id = 56\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystring-es3/decode.js\n// module id = 57\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystring-es3/encode.js\n// module id = 58\n// module chunks = 0","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/punycode/punycode.js\n// module id = 59\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 60\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 61\n// module chunks = 0","/**\n * Copyright (c) 2013 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:</p>\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\"use strict\";\nvar QueryStringSerializer = require(\"./querystringserializer.js\");\nmodule.exports = QueryStringParser;\n\nvar rplus = /\\+/g;\nvar rint = /^[0-9]+$/;\nvar isArray = Array.isArray;\nvar haveProp = {}.hasOwnProperty;\n\nfunction QueryStringParser() {\n    this.containsSparse = false;\n    this.cacheKey = \"\";\n    this.cacheVal = null;\n}\n\nQueryStringParser.maxLength = 32768;\nQueryStringParser.maxDepth = 4;\nQueryStringParser.maxKeys = 256;\n\nQueryStringParser.parse = function QueryStringParser$Parse(str) {\n    if (typeof str === \"string\") {\n        var maxLength = QueryStringParser.maxLength;\n        if (str.length > maxLength) {\n            throw new RangeError(\n                \"str is too large (\" +\n                \"QueryStringParser.maxLength=\" + maxLength + \")\"\n            );\n        }\n        var parser = new QueryStringParser();\n        return parser.parseString(str, false);\n    }\n    else if (str !== null && typeof str === \"object\") {\n        var parser = new QueryStringParser();\n        return parser.parseObject(str);\n    }\n    return {};\n};\n\nQueryStringParser.stringify =\nfunction QueryStringParser$Stringify(value) {\n    var serializer = new QueryStringSerializer();\n    return serializer.serialize(value);\n};\n\nQueryStringParser.prototype.decode =\nfunction QueryStringParser$decode(str, shouldDecode, containsPlus) {\n    if (shouldDecode === false) return str;\n    if (containsPlus === true) str = str.replace(rplus, \" \");\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (e) {\n        return str;\n    }\n};\n\nQueryStringParser.prototype.maybeArrayIndex =\nfunction QueryStringParser$maybeArrayIndex(str, arrayLength) {\n    var len = str.length;\n    if (len === 0) {\n        return arrayLength;\n    }\n    var ch = str.charCodeAt(0);\n\n    if (ch === 48) {\n        return len > 1 ? -1 : 0;\n    }\n    else if (48 <= ch && ch <= 57) {\n        if (len === 1) {\n            return ch - 48;\n        }\n        else if (rint.test(str)) {\n            var v = parseInt(str, 10);\n            if (0 < v && v <= 1073741822) {\n                return v;\n            }\n        }\n    }\n    return -1;\n};\n\nQueryStringParser.prototype.getSlot =\nfunction QueryStringParser$getSlot(dictionary, prevKey, curKey) {\n    var slot;\n    if (!(haveProp.call(dictionary, prevKey))) {\n        var index = this.maybeArrayIndex(curKey, 0);\n        if (index > -1) {\n            slot = [];\n        }\n        else {\n            slot = {};\n        }\n        dictionary[prevKey] = slot;\n    }\n    else {\n        slot = dictionary[prevKey];\n    }\n    return slot;\n};\n\nQueryStringParser.prototype.placeNestedValue =\nfunction QueryStringParser$placeNestedValue\n(dictionary, key, value, i, prevKey, curKey) {\n    var slot = this.getSlot(dictionary, prevKey, curKey);\n    var index = -1;\n\n    if (isArray(slot)) {\n        index = this.maybeArrayIndex(curKey, slot.length);\n    }\n\n    var len = key.length;\n    var depth = 2;\n    var maxDepth = QueryStringParser.maxDepth;\n    var start = -1;\n    for (; i < len; ++i) {\n        var ch = key.charCodeAt(i);\n        if (ch === 91) {\n            start = i + 1;\n        }\n        else if (ch === 93 &&\n                start > -1) {\n            prevKey = curKey;\n            curKey = start === i ? \"\" : key.substring(start, i);\n            start = -1;\n            depth++;\n            if (depth > maxDepth) {\n                throw new RangeError(\"Nesting depth of keys is too large \" +\n                    \"(QueryStringParser.maxDepth=\"+maxDepth+\")\" );\n            }\n            slot = this.getSlot(slot, prevKey, curKey);\n\n            index = isArray(slot)\n                ? this.maybeArrayIndex(curKey, slot.length)\n                : -1;\n        }\n    }\n\n    if(index > -1) {\n        if (value !== \"\") {\n            if (index === slot.length) {\n                slot.push(value);\n            }\n            else {\n                this.containsSparse = true;\n                slot[index] = value;\n            }\n        }\n    }\n    else {\n        this.insert(slot, curKey, value);\n    }\n};\n\nQueryStringParser.prototype.insert =\nfunction QueryStringParser$insert(dictionary, key, value) {\n    var ret = null;\n    if (haveProp.call(dictionary, key)) {\n        var prev = dictionary[key];\n        if( isArray(prev) ) {\n            prev.push(value);\n            ret = prev;\n        }\n        else {\n            ret = [prev, value];\n            dictionary[key] = ret;\n        }\n    }\n    else {\n        dictionary[key] = value;\n    }\n    return ret;\n};\n\nQueryStringParser.prototype.push =\nfunction QueryStringParser$push(dictionary, key, value) {\n    var ret = null;\n    if (haveProp.call(dictionary, key)) {\n        var prev = dictionary[key];\n        prev.push(value);\n        ret = prev;\n    }\n    else {\n        ret = [value];\n        dictionary[key] = ret;\n    }\n    return ret;\n};\n\nQueryStringParser.prototype.maybePlaceNestedValue =\nfunction QueryStringParser$maybePlaceNestedValue(dictionary, key, value) {\n    var len = key.length;\n    if (key.charCodeAt(len - 1) !== 93) {\n        this.placeValue(dictionary, key, value, false);\n        return;\n    }\n    var start = -1;\n\n    var i = 0;\n    var curKey;\n    var prevKey;\n\n    for (; i < len; ++i) {\n        var ch = key.charCodeAt(i);\n\n        if (ch === 91) {\n            start = i + 1;\n            prevKey = key.slice(0, i);\n        }\n        else if (ch === 93) {\n            if (start < 0) {\n                this.placeValue(dictionary, key, value, false);\n                return;\n            }\n            curKey = start === i ? \"\" : key.slice(start, i);\n            i++;\n            break;\n        }\n    }\n\n    if (curKey === void 0) {\n        this.placeValue(dictionary, key, value, false);\n        return;\n    }\n\n    if (curKey === \"\" && value !== \"\" && i === len) {\n        if (key === this.cacheKey) {\n            this.cacheVal.push(value);\n        }\n        else {\n            this.cacheKey = key;\n            this.cacheVal = this.push(dictionary, prevKey, value);\n        }\n    }\n    else {\n        this.placeNestedValue(dictionary, key, value, i, prevKey, curKey);\n    }\n};\n\nQueryStringParser.prototype.placeValue =\nfunction QueryStringParser$placeValue(dictionary, key, value, possiblyNested) {\n    if (possiblyNested === true) {\n        this.maybePlaceNestedValue(dictionary, key, value);\n        return;\n    }\n    if (key === this.cacheKey) {\n        this.cacheVal.push(value);\n        return;\n    }\n    var cache = this.insert(dictionary, key, value);\n    if (cache !== null) {\n        this.cacheKey = key;\n        this.cacheVal = cache;\n    }\n};\n\nQueryStringParser.prototype.compact =\nfunction QueryStringParser$compact(obj) {\n    if (isArray(obj)) {\n        var ret = [];\n        var keys = Object.keys(obj);\n        for( var i = 0, len = keys.length; i < len; ++i ) {\n            ret.push(obj[keys[i]]);\n        }\n        return ret;\n    }\n    else if (typeof obj === \"object\") {\n        var keys = Object.keys(obj);\n        for( var i = 0, len = keys.length; i < len; ++i ) {\n            var key = keys[i];\n            obj[key] = this.compact(obj[key]);\n        }\n    }\n    else {\n        return obj;\n    }\n};\n\nQueryStringParser.prototype.parseObject =\nfunction QueryStringParser$parseObject(obj) {\n    var keys = Object.keys(obj);\n    var len = keys.length;\n    if (len === 0) {\n        return {};\n    }\n    len--;\n    var ret = \"\";\n    var key;\n    for( var i = 0; i < len; ++i ) {\n        key = keys[i];\n        ret += key + \"=\" + obj[key] + \"&\";\n    }\n    key = keys[i];\n    ret += key + \"=\" + obj[key];\n    return this.parseString(ret, true);\n};\n\nQueryStringParser.prototype.parseString =\nfunction QueryStringParser$parseString(str, noDecode) {\n    var maxKeys = QueryStringParser.maxKeys;\n    var keys = 0;\n    var decodeKey = false;\n    var decodeValue = false;\n    var possiblyNested = false;\n    var len = str.length;\n    var i = 0;\n    var dictionary = {};\n    var keyStart = 0;\n    var keyEnd = 0;\n    var valueStart = 0;\n    var valueEnd = 0;\n    var left = 0;\n    var lastIndex = len - 1;\n    var containsPlus = false;\n\n\n    for (; i < len; ++i) {\n        var ch = str.charCodeAt(i);\n\n        if (ch === 91) {\n            left++;\n        }\n        else if (left > 0 && ch === 93) {\n            possiblyNested = true;\n            left--;\n        }\n        else if (left === 0 && ch === 61) {\n            var j = i + 1;\n\n            keyEnd = i - 1;\n            valueEnd = valueStart = j;\n            var key = str.slice(keyStart, keyEnd + 1);\n            key = this.decode(key, decodeKey, containsPlus);\n            decodeKey = false;\n\n            for (; j < len; ++j) {\n                ch = str.charCodeAt(j);\n                if ((ch === 43 || ch === 37) && !noDecode) {\n                    if (ch === 43) containsPlus = true;\n                    decodeValue = true;\n                }\n                if (ch === 38 || j === lastIndex) {\n                    valueEnd = j;\n                    i = j;\n\n                    if (ch === 38) {\n                        valueEnd--;\n                    }\n\n                    var value = str.slice(valueStart, valueEnd + 1);\n                    value = this.decode(value, decodeValue, containsPlus);\n\n                    this.placeValue(dictionary, key, value, possiblyNested);\n\n                    containsPlus = decodeValue = false;\n                    possiblyNested = false;\n\n                    keyStart = j + 1;\n                    keys++;\n                    if (keys > maxKeys) {\n                        throw new RangeError(\"Amount of keys is too large \" +\n                            \"(QueryStringParser.maxKeys=\" + maxKeys + \")\");\n                    }\n                    break;\n                }\n            }\n        }\n        else if ((ch === 43 || ch === 37) && !noDecode) {\n            if (ch === 43) containsPlus = true;\n            decodeKey = true;\n        }\n    }\n    if (keyStart !== len) {\n        var value = \"\";\n        var key = str.slice(keyStart, len);\n        key = this.decode(key, decodeKey, containsPlus);\n        this.placeValue(dictionary, key, value, possiblyNested);\n    }\n\n\n    if (this.containsSparse) {\n        this.compact(dictionary);\n    }\n\n    return dictionary;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystringparser/js/querystringparser.js\n// module id = 62\n// module chunks = 0","/**\n * Copyright (c) 2013 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:</p>\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\"use strict\";\nmodule.exports = QueryStringSerializer;\nvar enc = encodeURIComponent;\nvar ARRAY = [];\nvar isArray = Array.isArray;\nvar getProto = Object.getPrototypeOf;\nvar oProto = getProto({});\n\nfunction isObject(obj) {\n    if (isArray(obj)) {\n        return true;\n    }\n    if (obj === null || typeof obj !== \"object\") {\n        return false;\n    }\n    var proto = getProto(obj);\n\n    return proto === oProto || proto === null;\n}\n\nfunction QueryStringSerializer() {\n\n}\n\nQueryStringSerializer.prototype.serialize =\nfunction QueryStringSerializer$serialize(obj) {\n    if (obj === null ||\n        typeof obj !== \"object\") {\n        throw new TypeError(\"the obj to stringify must be an object\");\n    }\n    var keys = Object.keys(obj);\n    var len = keys.length;\n    var array = ARRAY;\n    var stack = [];\n    var ret = [];\n    var cur = obj;\n    var keyPrefix = \"\";\n\n    for (var i = 0; i < len; ++i) {\n        var key = keys === array ? i : keys[i];\n        var value = cur[key];\n        if (isObject(value)) {\n            stack.push(keyPrefix, cur, keys, len, i);\n\n            if (keyPrefix === \"\") {\n                keyPrefix = key;\n            }\n            else {\n                keyPrefix = keyPrefix + \"[\" + enc(key) + \"]\";\n            }\n\n            if (isArray(value)) {\n                keys = array;\n                len = value.length;\n            }\n            else {\n                keys = Object.keys(value);\n                len = keys.length;\n            }\n            i = -1;\n            cur = value;\n        }\n        else {\n            if (typeof value !== \"string\") {\n                value = \"\" + value;\n            }\n\n            var serializedKey = keyPrefix === \"\"\n                                ? enc(key)\n                                : keyPrefix + \"[\" + enc(key) + \"]\";\n            ret.push(serializedKey + \"=\" + enc(value));\n        }\n\n        if(i === len - 1 && stack.length > 0) {\n            i = stack.pop();\n            len = stack.pop();\n            keys = stack.pop();\n            cur = stack.pop();\n            keyPrefix = stack.pop();\n        }\n    }\n\n    return ret.join(\"&\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystringparser/js/querystringserializer.js\n// module id = 63\n// module chunks = 0","// Capture.js\n\nimport { GL } from 'alfrid';\nimport { saveImage } from './';\n\nString.prototype.replaceAll = function(search, replacement) {\n    var target = this;\n    return target.replace(new RegExp(search, 'g'), replacement);\n};\n\nconst capture = () => {\n\twindow.addEventListener('keydown', (e) => {\n\t\tif(e.keyCode === 83 && e.metaKey) {\n\t\t\te.preventDefault();\n\t\t\tconst date = new Date();\n\t\t\tlet strDate = \n\t\t\t\t`${date.getFullYear()}.` + \n\t\t\t\t`${date.getMonth() + 1}.` + \n\t\t\t\t`${date.getDate()}-` + \n\t\t\t\t`${date.getHours()}.` + \n\t\t\t\t`${date.getMinutes()}.` + \n\t\t\t\t`${date.getSeconds()}`;\n\t\t\t\n\t\t\tsaveImage(GL.canvas, strDate);\n\t\t}\n\t});\n}\n\n\nexport default capture();\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/Capture.js","// addControls.js\n\nimport Settings from '../Settings';\nimport Config from '../Config';\nimport FlowControl from '../FlowControl';\nimport alfrid from 'alfrid';\nimport Time from '../Time';\nimport dat from 'dat-gui';\n\nimport hexRgb from 'hex-rgb';\n\nconst checkColor = (obj, id) => {\n\tif(obj[id].indexOf('#') > -1) {\n\t\tconst oColor = hexRgb(obj[id]);\n\t\tobj[id] = [oColor.red, oColor.green, oColor.blue];\t\n\t}\n\tSettings.refresh();\n}\n\nconst addControls = (scene) => {\n\tsetTimeout(()=> {\n\t\tgui.add(Time, 'frame').listen();\n\t\tgui.add(Config, 'progress').listen();\n\t\t// gui.add(alfrid.Scheduler, 'deltaTime').name('Time').listen();\n\t\tgui.add(Config, 'numParticles', 10, 1024).step(1).onFinishChange(Settings.reload);\t\n\t\tgui.add(Config, 'numParticleSets', 1, 10).step(1).onFinishChange(Settings.reload);\t\n\t\tgui.add(Config, 'fps', 1, 30).step(1).onFinishChange(Settings.reload);\t\n\t\tgui.add(Config, 'targetFps', [60, 30]).name('output fps').onFinishChange(Settings.reload);\t\n\n\n\t\t// gui.add(Config, 'ringSize', 0, 4).onFinishChange(Settings.reload);\n\t\tgui.add(Config, 'fadeOutOffset', 0, 2).onFinishChange(Settings.refresh);\n\t\tgui.add(Config, 'ringRadius', 1, 18).onFinishChange(Settings.reload);\n\t\tgui.add(Config, 'burstForce', 0, 5).onFinishChange(Settings.refresh);\n/*\n\t\t\n\t\t\n\t\tgui.add(Config, 'zOffset', 1, 4).onFinishChange(Settings.reload);\n\n\t\tconst sources = [\n\t\t\t'nebula1',\n\t\t\t'nebula2',\n\t\t\t'nebula3',\n\t\t\t'nebula4',\n\t\t\t'nebula5',\n\t\t]\n\t\tgui.add(Config, 'image', sources).onFinishChange(Settings.reload);\n*/\t\t\n\t\t\n\t\t// gui.add(Config, 'showDimensions').onFinishChange(Settings.refresh);\n\n\t\tconst oControl = {\n\t\t\treset:()=> {\n\t\t\t\twindow.location.href = window.location.origin+window.location.pathname\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n/*\t\t\n\t\t\n\t\tgui.add(Config, 'backgroundOpacity', 0, 1).onChange(Settings.refresh);\n\t\tgui.add(Config, 'fadeRange', 0, 1).onFinishChange(Settings.refresh);\n\n\t\tgui.add(Config, 'centred').onChange(checkCentred);\n*/\n\n\t\tconst checkCentred = () => {\n\t\t\tconsole.log(Config.centred);\n\n\t\t\tif(Config.centred) {\n\t\t\t\tscene.resize(window.innerWidth, window.innerHeight);\n\t\t\t} else {\n\t\t\t\tscene.resize();\n\t\t\t}\n\n\t\t\tSettings.refresh();\n\t\t}\n\n\t\t// gui.add(Config, 'lineWidth', 0, 3).onFinishChange(Settings.refresh);\n\t\t// gui.addColor(Config, 'lineColor').onChange(() => {\n\t\t// \tcheckColor(Config, 'lineColor');\n\t\t// });\t\n\t\t\n\n\t\t// gui.add(Config, 'showLines').onFinishChange(Settings.refresh);\n\t\t// gui.add(Config, 'showParticles').onFinishChange(Settings.refresh);\n\t\t// gui.add(Config, 'showCenterBall').onFinishChange(Settings.refresh);\n\t\t\n\n\t\tconst updateLight = () => {\n\t\t\tscene.updateLight()\n\t\t\tSettings.refresh();\n\t\t}\n\n\n\t\tgui.add(Config, 'particleContrast', 1, 5).onChange(Settings.refresh);\n\t\tgui.add(Config, 'particleScale', 1, 3).onFinishChange(Settings.refresh);\n\t\t\n\t\tgui.add(Config, 'lightX', -10, 10).onChange(updateLight);\n\t\tgui.add(Config, 'lightY', 0, 10).onChange(updateLight);\n\t\tgui.add(Config, 'lightZ', 0, 10).onChange(updateLight);\n/*/\t\t\n\t\t\n\t\tgui.add(Config, 'pullingForce', 0, 3).onFinishChange(Settings.refresh);\n\n\t\tgui.add(Config, 'numTrailSets', 1, 5).step(1).onFinishChange(Settings.reload);\n\t\tgui.add(Config, 'trailLength', 2, 14).step(1).onFinishChange(Settings.reload);\n\t\tgui.add(Config, 'numTrails', 1, 256).step(1).onFinishChange(Settings.reload);\n\t\tgui.add(Config, 'bloomStrength', 0, 1).onFinishChange(Settings.refresh);\n\t\tgui.add(Config, 'gradientMap', 0, 1).onFinishChange(Settings.refresh);\t\n//*/\t\n\n\t\t// gui.add(Config, 'radius', 0, 1).onFinishChange(Settings.refresh);\n\t\t// gui.add(Config, 'distance', 0, 10).onFinishChange(Settings.refresh);\n\n\t\t// gui.add(FlowControl, 'start');\n\t\t\n\n\t\tgui.add(Config, 'exportFrame').onFinishChange(Settings.reload);\n\t\tgui.add(Config, 'fullscaleCanvas').onFinishChange(Settings.reload);\n\t\tgui.add(Config, 'debugVisual').onFinishChange(Settings.reload);\n\t\tgui.add(scene, 'start');\n\t\t// gui.add(FlowControl, 'end');\n\t\t\n\t\tgui.add(scene, 'pause');\n\t\tgui.add(scene, 'resume');\n\t\t// scene.start();\n\n\t\tgui.add(oControl, 'reset').name('Reset Default');\n\n\n\n\t\tcheckCentred();\n\n\t\t//\tkey bindings\n\t\twindow.addEventListener('keydown', (e) => {\n\t\t\t// console.log('on key :', e.keyCode);\n\n\t\t\tif(e.keyCode === 84) {\n\t\t\t\tConfig.showDimensions = !Config.showDimensions;\n\t\t\t}\n\n\t\t\tif(e.keyCode === 76) {\t//\ts\n\t\t\t\tscene.loop();\n\t\t\t}\n\t\t\tif(e.keyCode === 83) {\t//\ts\n\t\t\t\tscene.start();\n\t\t\t}\n\n\t\t\tif(e.keyCode === 69) {\t//\ts\n\t\t\t\tFlowControl.end();\n\t\t\t}\n\n\t\t\tSettings.refresh();\n\t\t});\n\n\t}, 500);\n\t\n}\n\n\nexport default addControls;\n\n\n// WEBPACK FOOTER //\n// ./src/js/debug/addControls.js","module.exports = require('./vendor/dat.gui')\nmodule.exports.color = require('./vendor/dat.color')\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dat-gui/index.js\n// module id = 66\n// module chunks = 0","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\nvar dat = module.exports = dat || {};\n\n/** @namespace */\ndat.gui = dat.gui || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\n/** @namespace */\ndat.controllers = dat.controllers || {};\n\n/** @namespace */\ndat.dom = dat.dom || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\ndat.utils.css = (function () {\n  return {\n    load: function (url, doc) {\n      doc = doc || document;\n      var link = doc.createElement('link');\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n      link.href = url;\n      doc.getElementsByTagName('head')[0].appendChild(link);\n    },\n    inject: function(css, doc) {\n      doc = doc || document;\n      var injected = document.createElement('style');\n      injected.type = 'text/css';\n      injected.innerHTML = css;\n      doc.getElementsByTagName('head')[0].appendChild(injected);\n    }\n  }\n})();\n\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      \n      if (ARR_EACH && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.controllers.Controller = (function (common) {\n\n  /**\n   * @class An \"abstract\" class that represents a given property of an object.\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var Controller = function(object, property) {\n\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n\n  };\n\n  common.extend(\n\n      Controller.prototype,\n\n      /** @lends dat.controllers.Controller.prototype */\n      {\n\n        /**\n         * Specify that a function fire every time someone changes the value with\n         * this Controller.\n         *\n         * @param {Function} fnc This function will be called whenever the value\n         * is modified via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onChange: function(fnc) {\n          this.__onChange = fnc;\n          return this;\n        },\n\n        /**\n         * Specify that a function fire every time someone \"finishes\" changing\n         * the value wih this Controller. Useful for values that change\n         * incrementally like numbers or strings.\n         *\n         * @param {Function} fnc This function will be called whenever\n         * someone \"finishes\" changing the value via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onFinishChange: function(fnc) {\n          this.__onFinishChange = fnc;\n          return this;\n        },\n\n        /**\n         * Change the value of <code>object[property]</code>\n         *\n         * @param {Object} newValue The new value of <code>object[property]</code>\n         */\n        setValue: function(newValue) {\n          this.object[this.property] = newValue;\n          if (this.__onChange) {\n            this.__onChange.call(this, newValue);\n          }\n          this.updateDisplay();\n          return this;\n        },\n\n        /**\n         * Gets the value of <code>object[property]</code>\n         *\n         * @returns {Object} The current value of <code>object[property]</code>\n         */\n        getValue: function() {\n          return this.object[this.property];\n        },\n\n        /**\n         * Refreshes the visual display of a Controller in order to keep sync\n         * with the object's current value.\n         * @returns {dat.controllers.Controller} this\n         */\n        updateDisplay: function() {\n          return this;\n        },\n\n        /**\n         * @returns {Boolean} true if the value has deviated from initialValue\n         */\n        isModified: function() {\n          return this.initialValue !== this.getValue()\n        }\n\n      }\n\n  );\n\n  return Controller;\n\n\n})(dat.utils.common);\n\n\ndat.dom.dom = (function (common) {\n\n  var EVENT_MAP = {\n    'HTMLEvents': ['change'],\n    'MouseEvents': ['click','mousemove','mousedown','mouseup', 'mouseover'],\n    'KeyboardEvents': ['keydown']\n  };\n\n  var EVENT_MAP_INV = {};\n  common.each(EVENT_MAP, function(v, k) {\n    common.each(v, function(e) {\n      EVENT_MAP_INV[e] = k;\n    });\n  });\n\n  var CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\n  function cssValueToPixels(val) {\n\n    if (val === '0' || common.isUndefined(val)) return 0;\n\n    var match = val.match(CSS_VALUE_PIXELS);\n\n    if (!common.isNull(match)) {\n      return parseFloat(match[1]);\n    }\n\n    // TODO ...ems? %?\n\n    return 0;\n\n  }\n\n  /**\n   * @namespace\n   * @member dat.dom\n   */\n  var dom = {\n\n    /**\n     * \n     * @param elem\n     * @param selectable\n     */\n    makeSelectable: function(elem, selectable) {\n\n      if (elem === undefined || elem.style === undefined) return;\n\n      elem.onselectstart = selectable ? function() {\n        return false;\n      } : function() {\n      };\n\n      elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n      elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n      elem.unselectable = selectable ? 'on' : 'off';\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param horizontal\n     * @param vertical\n     */\n    makeFullscreen: function(elem, horizontal, vertical) {\n\n      if (common.isUndefined(horizontal)) horizontal = true;\n      if (common.isUndefined(vertical)) vertical = true;\n\n      elem.style.position = 'absolute';\n\n      if (horizontal) {\n        elem.style.left = 0;\n        elem.style.right = 0;\n      }\n      if (vertical) {\n        elem.style.top = 0;\n        elem.style.bottom = 0;\n      }\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param eventType\n     * @param params\n     */\n    fakeEvent: function(elem, eventType, params, aux) {\n      params = params || {};\n      var className = EVENT_MAP_INV[eventType];\n      if (!className) {\n        throw new Error('Event type ' + eventType + ' not supported.');\n      }\n      var evt = document.createEvent(className);\n      switch (className) {\n        case 'MouseEvents':\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n              params.cancelable || true, window, params.clickCount || 1,\n              0, //screen X\n              0, //screen Y\n              clientX, //client X\n              clientY, //client Y\n              false, false, false, false, 0, null);\n          break;\n        case 'KeyboardEvents':\n          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n              params.cancelable, window,\n              params.ctrlKey, params.altKey,\n              params.shiftKey, params.metaKey,\n              params.keyCode, params.charCode);\n          break;\n        default:\n          evt.initEvent(eventType, params.bubbles || false,\n              params.cancelable || true);\n          break;\n      }\n      common.defaults(evt, aux);\n      elem.dispatchEvent(evt);\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    bind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.addEventListener)\n        elem.addEventListener(event, func, bool);\n      else if (elem.attachEvent)\n        elem.attachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    unbind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.removeEventListener)\n        elem.removeEventListener(event, func, bool);\n      else if (elem.detachEvent)\n        elem.detachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    addClass: function(elem, className) {\n      if (elem.className === undefined) {\n        elem.className = className;\n      } else if (elem.className !== className) {\n        var classes = elem.className.split(/ +/);\n        if (classes.indexOf(className) == -1) {\n          classes.push(className);\n          elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n        }\n      }\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    removeClass: function(elem, className) {\n      if (className) {\n        if (elem.className === undefined) {\n          // elem.className = className;\n        } else if (elem.className === className) {\n          elem.removeAttribute('class');\n        } else {\n          var classes = elem.className.split(/ +/);\n          var index = classes.indexOf(className);\n          if (index != -1) {\n            classes.splice(index, 1);\n            elem.className = classes.join(' ');\n          }\n        }\n      } else {\n        elem.className = undefined;\n      }\n      return dom;\n    },\n\n    hasClass: function(elem, className) {\n      return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getWidth: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-left-width']) +\n          cssValueToPixels(style['border-right-width']) +\n          cssValueToPixels(style['padding-left']) +\n          cssValueToPixels(style['padding-right']) +\n          cssValueToPixels(style['width']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getHeight: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-top-width']) +\n          cssValueToPixels(style['border-bottom-width']) +\n          cssValueToPixels(style['padding-top']) +\n          cssValueToPixels(style['padding-bottom']) +\n          cssValueToPixels(style['height']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getOffset: function(elem) {\n      var offset = {left: 0, top:0};\n      if (elem.offsetParent) {\n        do {\n          offset.left += elem.offsetLeft;\n          offset.top += elem.offsetTop;\n        } while (elem = elem.offsetParent);\n      }\n      return offset;\n    },\n\n    // http://stackoverflow.com/posts/2684561/revisions\n    /**\n     * \n     * @param elem\n     */\n    isActive: function(elem) {\n      return elem === document.activeElement && ( elem.type || elem.href );\n    }\n\n  };\n\n  return dom;\n\n})(dat.utils.common);\n\n\ndat.controllers.OptionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a select input to alter the property of an object, using a\n   * list of accepted values.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object|string[]} options A map of labels to acceptable values, or\n   * a list of acceptable string values.\n   *\n   * @member dat.controllers\n   */\n  var OptionController = function(object, property, options) {\n\n    OptionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      var map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n\n  };\n\n  OptionController.superclass = Controller;\n\n  common.extend(\n\n      OptionController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = OptionController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          this.__select.value = this.getValue();\n          return OptionController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return OptionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberController = (function (Controller, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberController = function(object, property, params) {\n\n    NumberController.superclass.call(this, object, property);\n\n    params = params || {};\n\n    this.__min = params.min;\n    this.__max = params.max;\n    this.__step = params.step;\n\n    if (common.isUndefined(this.__step)) {\n\n      if (this.initialValue == 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue)/Math.LN10))/10;\n      }\n\n    } else {\n\n      this.__impliedStep = this.__step;\n\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n\n\n  };\n\n  NumberController.superclass = Controller;\n\n  common.extend(\n\n      NumberController.prototype,\n      Controller.prototype,\n\n      /** @lends dat.controllers.NumberController.prototype */\n      {\n\n        setValue: function(v) {\n\n          if (this.__min !== undefined && v < this.__min) {\n            v = this.__min;\n          } else if (this.__max !== undefined && v > this.__max) {\n            v = this.__max;\n          }\n\n          if (this.__step !== undefined && v % this.__step != 0) {\n            v = Math.round(v / this.__step) * this.__step;\n          }\n\n          return NumberController.superclass.prototype.setValue.call(this, v);\n\n        },\n\n        /**\n         * Specify a minimum value for <code>object[property]</code>.\n         *\n         * @param {Number} minValue The minimum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        min: function(v) {\n          this.__min = v;\n          return this;\n        },\n\n        /**\n         * Specify a maximum value for <code>object[property]</code>.\n         *\n         * @param {Number} maxValue The maximum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        max: function(v) {\n          this.__max = v;\n          return this;\n        },\n\n        /**\n         * Specify a step value that dat.controllers.NumberController\n         * increments by.\n         *\n         * @param {Number} stepValue The step value for\n         * dat.controllers.NumberController\n         * @default if minimum and maximum specified increment is 1% of the\n         * difference otherwise stepValue is 1\n         * @returns {dat.controllers.NumberController} this\n         */\n        step: function(v) {\n          this.__step = v;\n          return this;\n        }\n\n      }\n\n  );\n\n  function numDecimals(x) {\n    x = x.toString();\n    if (x.indexOf('.') > -1) {\n      return x.length - x.indexOf('.') - 1;\n    } else {\n      return 0;\n    }\n  }\n\n  return NumberController;\n\n})(dat.controllers.Controller,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerBox = (function (NumberController, dom, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number and\n   * provides an input element with which to manipulate it.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerBox = function(object, property, params) {\n\n    this.__truncationSuspended = false;\n\n    NumberControllerBox.superclass.call(this, object, property, params);\n\n    var _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    var prev_y;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n\n      // When pressing entire, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n      }\n\n    });\n\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) _this.setValue(attempted);\n    }\n\n    function onBlur() {\n      onChange();\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prev_y = e.clientY;\n    }\n\n    function onMouseDrag(e) {\n\n      var diff = prev_y - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prev_y = e.clientY;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  NumberControllerBox.superclass = NumberController;\n\n  common.extend(\n\n      NumberControllerBox.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n          return NumberControllerBox.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  function roundToDecimal(value, decimals) {\n    var tenTo = Math.pow(10, decimals);\n    return Math.round(value * tenTo) / tenTo;\n  }\n\n  return NumberControllerBox;\n\n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerSlider = (function (NumberController, dom, css, common, styleSheet) {\n\n  /**\n   * @class Represents a given property of an object that is a number, contains\n   * a minimum and maximum, and provides a slider element with which to\n   * manipulate it. It should be noted that the slider element is made up of\n   * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n   * <code>&lt;slider&gt;</code> element.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   * \n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Number} minValue Minimum allowed value\n   * @param {Number} maxValue Maximum allowed value\n   * @param {Number} stepValue Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerSlider = function(object, property, min, max, step) {\n\n    NumberControllerSlider.superclass.call(this, object, property, { min: min, max: max, step: step });\n\n    var _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n    \n\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    \n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n\n      e.preventDefault();\n\n      var offset = dom.getOffset(_this.__background);\n      var width = dom.getWidth(_this.__background);\n      \n      _this.setValue(\n        map(e.clientX, offset.left, offset.left + width, _this.__min, _this.__max)\n      );\n\n      return false;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n\n  };\n\n  NumberControllerSlider.superclass = NumberController;\n\n  /**\n   * Injects default stylesheet for slider elements.\n   */\n  NumberControllerSlider.useDefaultStyles = function() {\n    css.inject(styleSheet);\n  };\n\n  common.extend(\n\n      NumberControllerSlider.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n          var pct = (this.getValue() - this.__min)/(this.__max - this.__min);\n          this.__foreground.style.width = pct*100+'%';\n          return NumberControllerSlider.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n\n\n  );\n\n  function map(v, i1, i2, o1, o2) {\n    return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n  }\n\n  return NumberControllerSlider;\n  \n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.css,\ndat.utils.common,\n\".slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\n\n\ndat.controllers.FunctionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a GUI interface to fire a specified method, a property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var FunctionController = function(object, property, text) {\n\n    FunctionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n\n\n  };\n\n  FunctionController.superclass = Controller;\n\n  common.extend(\n\n      FunctionController.prototype,\n      Controller.prototype,\n      {\n        \n        fire: function() {\n          if (this.__onChange) {\n            this.__onChange.call(this);\n          }\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.getValue().call(this.object);\n        }\n      }\n\n  );\n\n  return FunctionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.BooleanController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a checkbox input to alter the boolean property of an object.\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var BooleanController = function(object, property) {\n\n    BooleanController.superclass.call(this, object, property);\n\n    var _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n  };\n\n  BooleanController.superclass = Controller;\n\n  common.extend(\n\n      BooleanController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = BooleanController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.__prev = this.getValue();\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          \n          if (this.getValue() === true) {\n            this.__checkbox.setAttribute('checked', 'checked');\n            this.__checkbox.checked = true;    \n          } else {\n              this.__checkbox.checked = false;\n          }\n\n          return BooleanController.superclass.prototype.updateDisplay.call(this);\n\n        }\n\n\n      }\n\n  );\n\n  return BooleanController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common);\n\n\ndat.GUI = dat.gui.GUI = (function (css, saveDialogueContents, styleSheet, controllerFactory, Controller, BooleanController, FunctionController, NumberControllerBox, NumberControllerSlider, OptionController, ColorController, requestAnimationFrame, CenteredDiv, dom, common) {\n\n  css.inject(styleSheet);\n\n  /** Outer-most className for GUI's */\n  var CSS_NAMESPACE = 'dg';\n\n  var HIDE_KEY_CODE = 72;\n\n  /** The only value shared between the JS and SCSS. Use caution. */\n  var CLOSE_BUTTON_HEIGHT = 20;\n\n  var DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\n  var SUPPORTS_LOCAL_STORAGE = (function() {\n    try {\n      return 'localStorage' in window && window['localStorage'] !== null;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  var SAVE_DIALOGUE;\n\n  /** Have we yet to create an autoPlace GUI? */\n  var auto_place_virgin = true;\n\n  /** Fixed position div that auto place GUI's go inside */\n  var auto_place_container;\n\n  /** Are we hiding the GUI's ? */\n  var hide = false;\n\n  /** GUI's which should be hidden */\n  var hideable_guis = [];\n\n  /**\n   * A lightweight controller library for JavaScript. It allows you to easily\n   * manipulate variables and fire functions on the fly.\n   * @class\n   *\n   * @member dat.gui\n   *\n   * @param {Object} [params]\n   * @param {String} [params.name] The name of this GUI.\n   * @param {Object} [params.load] JSON object representing the saved state of\n   * this GUI.\n   * @param {Boolean} [params.auto=true]\n   * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n   * @param {Boolean} [params.closed] If true, starts closed\n   */\n  var GUI = function(params) {\n\n    var _this = this;\n\n    /**\n     * Outermost DOM Element\n     * @type DOMElement\n     */\n    this.domElement = document.createElement('div');\n    this.__ul = document.createElement('ul');\n    this.domElement.appendChild(this.__ul);\n\n    dom.addClass(this.domElement, CSS_NAMESPACE);\n\n    /**\n     * Nested GUI's by name\n     * @ignore\n     */\n    this.__folders = {};\n\n    this.__controllers = [];\n\n    /**\n     * List of objects I'm remembering for save, only used in top level GUI\n     * @ignore\n     */\n    this.__rememberedObjects = [];\n\n    /**\n     * Maps the index of remembered objects to a map of controllers, only used\n     * in top level GUI.\n     *\n     * @private\n     * @ignore\n     *\n     * @example\n     * [\n     *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n     *  {\n     *    propertyName: Controller\n     *  }\n     * ]\n     */\n    this.__rememberedObjectIndecesToControllers = [];\n\n    this.__listening = [];\n\n    params = params || {};\n\n    // Default parameters\n    params = common.defaults(params, {\n      autoPlace: true,\n      width: GUI.DEFAULT_WIDTH\n    });\n\n    params = common.defaults(params, {\n      resizable: params.autoPlace,\n      hideable: params.autoPlace\n    });\n\n\n    if (!common.isUndefined(params.load)) {\n\n      // Explicit preset\n      if (params.preset) params.load.preset = params.preset;\n\n    } else {\n\n      params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n    }\n\n    if (common.isUndefined(params.parent) && params.hideable) {\n      hideable_guis.push(this);\n    }\n\n    // Only root level GUI's are resizable.\n    params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n\n    if (params.autoPlace && common.isUndefined(params.scrollable)) {\n      params.scrollable = true;\n    }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n    // Not part of params because I don't want people passing this in via\n    // constructor. Should be a 'remembered' value.\n    var use_local_storage =\n        SUPPORTS_LOCAL_STORAGE &&\n            localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n    Object.defineProperties(this,\n\n        /** @lends dat.gui.GUI.prototype */\n        {\n\n          /**\n           * The parent <code>GUI</code>\n           * @type dat.gui.GUI\n           */\n          parent: {\n            get: function() {\n              return params.parent;\n            }\n          },\n\n          scrollable: {\n            get: function() {\n              return params.scrollable;\n            }\n          },\n\n          /**\n           * Handles <code>GUI</code>'s element placement for you\n           * @type Boolean\n           */\n          autoPlace: {\n            get: function() {\n              return params.autoPlace;\n            }\n          },\n\n          /**\n           * The identifier for a set of saved values\n           * @type String\n           */\n          preset: {\n\n            get: function() {\n              if (_this.parent) {\n                return _this.getRoot().preset;\n              } else {\n                return params.load.preset;\n              }\n            },\n\n            set: function(v) {\n              if (_this.parent) {\n                _this.getRoot().preset = v;\n              } else {\n                params.load.preset = v;\n              }\n              setPresetSelectIndex(this);\n              _this.revert();\n            }\n\n          },\n\n          /**\n           * The width of <code>GUI</code> element\n           * @type Number\n           */\n          width: {\n            get: function() {\n              return params.width;\n            },\n            set: function(v) {\n              params.width = v;\n              setWidth(_this, v);\n            }\n          },\n\n          /**\n           * The name of <code>GUI</code>. Used for folders. i.e\n           * a folder's name\n           * @type String\n           */\n          name: {\n            get: function() {\n              return params.name;\n            },\n            set: function(v) {\n              // TODO Check for collisions among sibling folders\n              params.name = v;\n              if (title_row_name) {\n                title_row_name.innerHTML = params.name;\n              }\n            }\n          },\n\n          /**\n           * Whether the <code>GUI</code> is collapsed or not\n           * @type Boolean\n           */\n          closed: {\n            get: function() {\n              return params.closed;\n            },\n            set: function(v) {\n              params.closed = v;\n              if (params.closed) {\n                dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n              } else {\n                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n              }\n              // For browsers that aren't going to respect the CSS transition,\n              // Lets just check our height against the window height right off\n              // the bat.\n              this.onResize();\n\n              if (_this.__closeButton) {\n                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n              }\n            }\n          },\n\n          /**\n           * Contains all presets\n           * @type Object\n           */\n          load: {\n            get: function() {\n              return params.load;\n            }\n          },\n\n          /**\n           * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n           * <code>remember</code>ing\n           * @type Boolean\n           */\n          useLocalStorage: {\n\n            get: function() {\n              return use_local_storage;\n            },\n            set: function(bool) {\n              if (SUPPORTS_LOCAL_STORAGE) {\n                use_local_storage = bool;\n                if (bool) {\n                  dom.bind(window, 'unload', saveToLocalStorage);\n                } else {\n                  dom.unbind(window, 'unload', saveToLocalStorage);\n                }\n                localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n              }\n            }\n\n          }\n\n        });\n\n    // Are we a root level GUI?\n    if (common.isUndefined(params.parent)) {\n\n      params.closed = false;\n\n      dom.addClass(this.domElement, GUI.CLASS_MAIN);\n      dom.makeSelectable(this.domElement, false);\n\n      // Are we supposed to be loading locally?\n      if (SUPPORTS_LOCAL_STORAGE) {\n\n        if (use_local_storage) {\n\n          _this.useLocalStorage = true;\n\n          var saved_gui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n          if (saved_gui) {\n            params.load = JSON.parse(saved_gui);\n          }\n\n        }\n\n      }\n\n      this.__closeButton = document.createElement('div');\n      this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n      this.domElement.appendChild(this.__closeButton);\n\n      dom.bind(this.__closeButton, 'click', function() {\n\n        _this.closed = !_this.closed;\n\n\n      });\n\n\n      // Oh, you're a nested GUI!\n    } else {\n\n      if (params.closed === undefined) {\n        params.closed = true;\n      }\n\n      var title_row_name = document.createTextNode(params.name);\n      dom.addClass(title_row_name, 'controller-name');\n\n      var title_row = addRow(_this, title_row_name);\n\n      var on_click_title = function(e) {\n        e.preventDefault();\n        _this.closed = !_this.closed;\n        return false;\n      };\n\n      dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n      dom.addClass(title_row, 'title');\n      dom.bind(title_row, 'click', on_click_title);\n\n      if (!params.closed) {\n        this.closed = false;\n      }\n\n    }\n\n    if (params.autoPlace) {\n\n      if (common.isUndefined(params.parent)) {\n\n        if (auto_place_virgin) {\n          auto_place_container = document.createElement('div');\n          dom.addClass(auto_place_container, CSS_NAMESPACE);\n          dom.addClass(auto_place_container, GUI.CLASS_AUTO_PLACE_CONTAINER);\n          document.body.appendChild(auto_place_container);\n          auto_place_virgin = false;\n        }\n\n        // Put it in the dom for you.\n        auto_place_container.appendChild(this.domElement);\n\n        // Apply the auto styles\n        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n\n      }\n\n\n      // Make it not elastic.\n      if (!this.parent) setWidth(_this, params.width);\n\n    }\n\n    dom.bind(window, 'resize', function() { _this.onResize() });\n    dom.bind(this.__ul, 'webkitTransitionEnd', function() { _this.onResize(); });\n    dom.bind(this.__ul, 'transitionend', function() { _this.onResize() });\n    dom.bind(this.__ul, 'oTransitionEnd', function() { _this.onResize() });\n    this.onResize();\n\n\n    if (params.resizable) {\n      addResizeHandle(this);\n    }\n\n    function saveToLocalStorage() {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n\n    var root = _this.getRoot();\n    function resetWidth() {\n        var root = _this.getRoot();\n        root.width += 1;\n        common.defer(function() {\n          root.width -= 1;\n        });\n      }\n\n      if (!params.parent) {\n        resetWidth();\n      }\n\n  };\n\n  GUI.toggleHide = function() {\n\n    hide = !hide;\n    common.each(hideable_guis, function(gui) {\n      gui.domElement.style.zIndex = hide ? -999 : 999;\n      gui.domElement.style.opacity = hide ? 0 : 1;\n    });\n  };\n\n  GUI.CLASS_AUTO_PLACE = 'a';\n  GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\n  GUI.CLASS_MAIN = 'main';\n  GUI.CLASS_CONTROLLER_ROW = 'cr';\n  GUI.CLASS_TOO_TALL = 'taller-than-window';\n  GUI.CLASS_CLOSED = 'closed';\n  GUI.CLASS_CLOSE_BUTTON = 'close-button';\n  GUI.CLASS_DRAG = 'drag';\n\n  GUI.DEFAULT_WIDTH = 245;\n  GUI.TEXT_CLOSED = 'Close Controls';\n  GUI.TEXT_OPEN = 'Open Controls';\n\n  dom.bind(window, 'keydown', function(e) {\n\n    if (document.activeElement.type !== 'text' &&\n        (e.which === HIDE_KEY_CODE || e.keyCode == HIDE_KEY_CODE)) {\n      GUI.toggleHide();\n    }\n\n  }, false);\n\n  common.extend(\n\n      GUI.prototype,\n\n      /** @lends dat.gui.GUI */\n      {\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.Controller} The new controller that was added.\n         * @instance\n         */\n        add: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n              }\n          );\n\n        },\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.ColorController} The new controller that was added.\n         * @instance\n         */\n        addColor: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                color: true\n              }\n          );\n\n        },\n\n        /**\n         * @param controller\n         * @instance\n         */\n        remove: function(controller) {\n\n          // TODO listening?\n          this.__ul.removeChild(controller.__li);\n          this.__controllers.slice(this.__controllers.indexOf(controller), 1);\n          var _this = this;\n          common.defer(function() {\n            _this.onResize();\n          });\n\n        },\n\n        destroy: function() {\n\n          if (this.autoPlace) {\n            auto_place_container.removeChild(this.domElement);\n          }\n\n        },\n\n        /**\n         * @param name\n         * @returns {dat.gui.GUI} The new folder.\n         * @throws {Error} if this GUI already has a folder by the specified\n         * name\n         * @instance\n         */\n        addFolder: function(name) {\n\n          // We have to prevent collisions on names in order to have a key\n          // by which to remember saved values\n          if (this.__folders[name] !== undefined) {\n            throw new Error('You already have a folder in this GUI by the' +\n                ' name \"' + name + '\"');\n          }\n\n          var new_gui_params = { name: name, parent: this };\n\n          // We need to pass down the autoPlace trait so that we can\n          // attach event listeners to open/close folder actions to\n          // ensure that a scrollbar appears if the window is too short.\n          new_gui_params.autoPlace = this.autoPlace;\n\n          // Do we have saved appearance data for this folder?\n\n          if (this.load && // Anything loaded?\n              this.load.folders && // Was my parent a dead-end?\n              this.load.folders[name]) { // Did daddy remember me?\n\n            // Start me closed if I was closed\n            new_gui_params.closed = this.load.folders[name].closed;\n\n            // Pass down the loaded data\n            new_gui_params.load = this.load.folders[name];\n\n          }\n\n          var gui = new GUI(new_gui_params);\n          this.__folders[name] = gui;\n\n          var li = addRow(this, gui.domElement);\n          dom.addClass(li, 'folder');\n          return gui;\n\n        },\n\n        open: function() {\n          this.closed = false;\n        },\n\n        close: function() {\n          this.closed = true;\n        },\n\n        onResize: function() {\n\n          var root = this.getRoot();\n\n          if (root.scrollable) {\n\n            var top = dom.getOffset(root.__ul).top;\n            var h = 0;\n\n            common.each(root.__ul.childNodes, function(node) {\n              if (! (root.autoPlace && node === root.__save_row))\n                h += dom.getHeight(node);\n            });\n\n            if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n              dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n            } else {\n              dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = 'auto';\n            }\n\n          }\n\n          if (root.__resize_handle) {\n            common.defer(function() {\n              root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n            });\n          }\n\n          if (root.__closeButton) {\n            root.__closeButton.style.width = root.width + 'px';\n          }\n\n        },\n\n        /**\n         * Mark objects for saving. The order of these objects cannot change as\n         * the GUI grows. When remembering new objects, append them to the end\n         * of the list.\n         *\n         * @param {Object...} objects\n         * @throws {Error} if not called on a top level GUI.\n         * @instance\n         */\n        remember: function() {\n\n          if (common.isUndefined(SAVE_DIALOGUE)) {\n            SAVE_DIALOGUE = new CenteredDiv();\n            SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n          }\n\n          if (this.parent) {\n            throw new Error(\"You can only call remember on a top level GUI.\");\n          }\n\n          var _this = this;\n\n          common.each(Array.prototype.slice.call(arguments), function(object) {\n            if (_this.__rememberedObjects.length == 0) {\n              addSaveMenu(_this);\n            }\n            if (_this.__rememberedObjects.indexOf(object) == -1) {\n              _this.__rememberedObjects.push(object);\n            }\n          });\n\n          if (this.autoPlace) {\n            // Set save row width\n            setWidth(this, this.width);\n          }\n\n        },\n\n        /**\n         * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n         * @instance\n         */\n        getRoot: function() {\n          var gui = this;\n          while (gui.parent) {\n            gui = gui.parent;\n          }\n          return gui;\n        },\n\n        /**\n         * @returns {Object} a JSON object representing the current state of\n         * this GUI as well as its remembered properties.\n         * @instance\n         */\n        getSaveObject: function() {\n\n          var toReturn = this.load;\n\n          toReturn.closed = this.closed;\n\n          // Am I remembering any values?\n          if (this.__rememberedObjects.length > 0) {\n\n            toReturn.preset = this.preset;\n\n            if (!toReturn.remembered) {\n              toReturn.remembered = {};\n            }\n\n            toReturn.remembered[this.preset] = getCurrentPreset(this);\n\n          }\n\n          toReturn.folders = {};\n          common.each(this.__folders, function(element, key) {\n            toReturn.folders[key] = element.getSaveObject();\n          });\n\n          return toReturn;\n\n        },\n\n        save: function() {\n\n          if (!this.load.remembered) {\n            this.load.remembered = {};\n          }\n\n          this.load.remembered[this.preset] = getCurrentPreset(this);\n          markPresetModified(this, false);\n\n        },\n\n        saveAs: function(presetName) {\n\n          if (!this.load.remembered) {\n\n            // Retain default values upon first save\n            this.load.remembered = {};\n            this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n\n          }\n\n          this.load.remembered[presetName] = getCurrentPreset(this);\n          this.preset = presetName;\n          addPresetOption(this, presetName, true);\n\n        },\n\n        revert: function(gui) {\n\n          common.each(this.__controllers, function(controller) {\n            // Make revert work on Default.\n            if (!this.getRoot().load.remembered) {\n              controller.setValue(controller.initialValue);\n            } else {\n              recallSavedValue(gui || this.getRoot(), controller);\n            }\n          }, this);\n\n          common.each(this.__folders, function(folder) {\n            folder.revert(folder);\n          });\n\n          if (!gui) {\n            markPresetModified(this.getRoot(), false);\n          }\n\n\n        },\n\n        listen: function(controller) {\n\n          var init = this.__listening.length == 0;\n          this.__listening.push(controller);\n          if (init) updateDisplays(this.__listening);\n\n        }\n\n      }\n\n  );\n\n  function add(gui, object, property, params) {\n\n    if (object[property] === undefined) {\n      throw new Error(\"Object \" + object + \" has no property \\\"\" + property + \"\\\"\");\n    }\n\n    var controller;\n\n    if (params.color) {\n\n      controller = new ColorController(object, property);\n\n    } else {\n\n      var factoryArgs = [object,property].concat(params.factoryArgs);\n      controller = controllerFactory.apply(gui, factoryArgs);\n\n    }\n\n    if (params.before instanceof Controller) {\n      params.before = params.before.__li;\n    }\n\n    recallSavedValue(gui, controller);\n\n    dom.addClass(controller.domElement, 'c');\n\n    var name = document.createElement('span');\n    dom.addClass(name, 'property-name');\n    name.innerHTML = controller.property;\n\n    var container = document.createElement('div');\n    container.appendChild(name);\n    container.appendChild(controller.domElement);\n\n    var li = addRow(gui, container, params.before);\n\n    dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n    dom.addClass(li, typeof controller.getValue());\n\n    augmentController(gui, li, controller);\n\n    gui.__controllers.push(controller);\n\n    return controller;\n\n  }\n\n  /**\n   * Add a row to the end of the GUI or before another row.\n   *\n   * @param gui\n   * @param [dom] If specified, inserts the dom content in the new row\n   * @param [liBefore] If specified, places the new row before another row\n   */\n  function addRow(gui, dom, liBefore) {\n    var li = document.createElement('li');\n    if (dom) li.appendChild(dom);\n    if (liBefore) {\n      gui.__ul.insertBefore(li, params.before);\n    } else {\n      gui.__ul.appendChild(li);\n    }\n    gui.onResize();\n    return li;\n  }\n\n  function augmentController(gui, li, controller) {\n\n    controller.__li = li;\n    controller.__gui = gui;\n\n    common.extend(controller, {\n\n      options: function(options) {\n\n        if (arguments.length > 1) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [common.toArray(arguments)]\n              }\n          );\n\n        }\n\n        if (common.isArray(options) || common.isObject(options)) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [options]\n              }\n          );\n\n        }\n\n      },\n\n      name: function(v) {\n        controller.__li.firstElementChild.firstElementChild.innerHTML = v;\n        return controller;\n      },\n\n      listen: function() {\n        controller.__gui.listen(controller);\n        return controller;\n      },\n\n      remove: function() {\n        controller.__gui.remove(controller);\n        return controller;\n      }\n\n    });\n\n    // All sliders should be accompanied by a box.\n    if (controller instanceof NumberControllerSlider) {\n\n      var box = new NumberControllerBox(controller.object, controller.property,\n          { min: controller.__min, max: controller.__max, step: controller.__step });\n\n      common.each(['updateDisplay', 'onChange', 'onFinishChange'], function(method) {\n        var pc = controller[method];\n        var pb = box[method];\n        controller[method] = box[method] = function() {\n          var args = Array.prototype.slice.call(arguments);\n          pc.apply(controller, args);\n          return pb.apply(box, args);\n        }\n      });\n\n      dom.addClass(li, 'has-slider');\n      controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n\n    }\n    else if (controller instanceof NumberControllerBox) {\n\n      var r = function(returned) {\n\n        // Have we defined both boundaries?\n        if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n\n          // Well, then lets just replace this with a slider.\n          controller.remove();\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [controller.__min, controller.__max, controller.__step]\n              });\n\n        }\n\n        return returned;\n\n      };\n\n      controller.min = common.compose(r, controller.min);\n      controller.max = common.compose(r, controller.max);\n\n    }\n    else if (controller instanceof BooleanController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__checkbox, 'click');\n      });\n\n      dom.bind(controller.__checkbox, 'click', function(e) {\n        e.stopPropagation(); // Prevents double-toggle\n      })\n\n    }\n    else if (controller instanceof FunctionController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__button, 'click');\n      });\n\n      dom.bind(li, 'mouseover', function() {\n        dom.addClass(controller.__button, 'hover');\n      });\n\n      dom.bind(li, 'mouseout', function() {\n        dom.removeClass(controller.__button, 'hover');\n      });\n\n    }\n    else if (controller instanceof ColorController) {\n\n      dom.addClass(li, 'color');\n      controller.updateDisplay = common.compose(function(r) {\n        li.style.borderLeftColor = controller.__color.toString();\n        return r;\n      }, controller.updateDisplay);\n\n      controller.updateDisplay();\n\n    }\n\n    controller.setValue = common.compose(function(r) {\n      if (gui.getRoot().__preset_select && controller.isModified()) {\n        markPresetModified(gui.getRoot(), true);\n      }\n      return r;\n    }, controller.setValue);\n\n  }\n\n  function recallSavedValue(gui, controller) {\n\n    // Find the topmost GUI, that's where remembered objects live.\n    var root = gui.getRoot();\n\n    // Does the object we're controlling match anything we've been told to\n    // remember?\n    var matched_index = root.__rememberedObjects.indexOf(controller.object);\n\n    // Why yes, it does!\n    if (matched_index != -1) {\n\n      // Let me fetch a map of controllers for thcommon.isObject.\n      var controller_map =\n          root.__rememberedObjectIndecesToControllers[matched_index];\n\n      // Ohp, I believe this is the first controller we've created for this\n      // object. Lets make the map fresh.\n      if (controller_map === undefined) {\n        controller_map = {};\n        root.__rememberedObjectIndecesToControllers[matched_index] =\n            controller_map;\n      }\n\n      // Keep track of this controller\n      controller_map[controller.property] = controller;\n\n      // Okay, now have we saved any values for this controller?\n      if (root.load && root.load.remembered) {\n\n        var preset_map = root.load.remembered;\n\n        // Which preset are we trying to load?\n        var preset;\n\n        if (preset_map[gui.preset]) {\n\n          preset = preset_map[gui.preset];\n\n        } else if (preset_map[DEFAULT_DEFAULT_PRESET_NAME]) {\n\n          // Uhh, you can have the default instead?\n          preset = preset_map[DEFAULT_DEFAULT_PRESET_NAME];\n\n        } else {\n\n          // Nada.\n\n          return;\n\n        }\n\n\n        // Did the loaded object remember thcommon.isObject?\n        if (preset[matched_index] &&\n\n          // Did we remember this particular property?\n            preset[matched_index][controller.property] !== undefined) {\n\n          // We did remember something for this guy ...\n          var value = preset[matched_index][controller.property];\n\n          // And that's what it is.\n          controller.initialValue = value;\n          controller.setValue(value);\n\n        }\n\n      }\n\n    }\n\n  }\n\n  function getLocalStorageHash(gui, key) {\n    // TODO how does this deal with multiple GUI's?\n    return document.location.href + '.' + key;\n\n  }\n\n  function addSaveMenu(gui) {\n\n    var div = gui.__save_row = document.createElement('li');\n\n    dom.addClass(gui.domElement, 'has-save');\n\n    gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n    dom.addClass(div, 'save-row');\n\n    var gears = document.createElement('span');\n    gears.innerHTML = '&nbsp;';\n    dom.addClass(gears, 'button gears');\n\n    // TODO replace with FunctionController\n    var button = document.createElement('span');\n    button.innerHTML = 'Save';\n    dom.addClass(button, 'button');\n    dom.addClass(button, 'save');\n\n    var button2 = document.createElement('span');\n    button2.innerHTML = 'New';\n    dom.addClass(button2, 'button');\n    dom.addClass(button2, 'save-as');\n\n    var button3 = document.createElement('span');\n    button3.innerHTML = 'Revert';\n    dom.addClass(button3, 'button');\n    dom.addClass(button3, 'revert');\n\n    var select = gui.__preset_select = document.createElement('select');\n\n    if (gui.load && gui.load.remembered) {\n\n      common.each(gui.load.remembered, function(value, key) {\n        addPresetOption(gui, key, key == gui.preset);\n      });\n\n    } else {\n      addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n    }\n\n    dom.bind(select, 'change', function() {\n\n\n      for (var index = 0; index < gui.__preset_select.length; index++) {\n        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n      }\n\n      gui.preset = this.value;\n\n    });\n\n    div.appendChild(select);\n    div.appendChild(gears);\n    div.appendChild(button);\n    div.appendChild(button2);\n    div.appendChild(button3);\n\n    if (SUPPORTS_LOCAL_STORAGE) {\n\n      var saveLocally = document.getElementById('dg-save-locally');\n      var explain = document.getElementById('dg-local-explain');\n\n      saveLocally.style.display = 'block';\n\n      var localStorageCheckBox = document.getElementById('dg-local-storage');\n\n      if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n        localStorageCheckBox.setAttribute('checked', 'checked');\n      }\n\n      function showHideExplain() {\n        explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n      }\n\n      showHideExplain();\n\n      // TODO: Use a boolean controller, fool!\n      dom.bind(localStorageCheckBox, 'change', function() {\n        gui.useLocalStorage = !gui.useLocalStorage;\n        showHideExplain();\n      });\n\n    }\n\n    var newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n    dom.bind(newConstructorTextArea, 'keydown', function(e) {\n      if (e.metaKey && (e.which === 67 || e.keyCode == 67)) {\n        SAVE_DIALOGUE.hide();\n      }\n    });\n\n    dom.bind(gears, 'click', function() {\n      newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n      SAVE_DIALOGUE.show();\n      newConstructorTextArea.focus();\n      newConstructorTextArea.select();\n    });\n\n    dom.bind(button, 'click', function() {\n      gui.save();\n    });\n\n    dom.bind(button2, 'click', function() {\n      var presetName = prompt('Enter a new preset name.');\n      if (presetName) gui.saveAs(presetName);\n    });\n\n    dom.bind(button3, 'click', function() {\n      gui.revert();\n    });\n\n//    div.appendChild(button2);\n\n  }\n\n  function addResizeHandle(gui) {\n\n    gui.__resize_handle = document.createElement('div');\n\n    common.extend(gui.__resize_handle.style, {\n\n      width: '6px',\n      marginLeft: '-3px',\n      height: '200px',\n      cursor: 'ew-resize',\n      position: 'absolute'\n//      border: '1px solid blue'\n\n    });\n\n    var pmouseX;\n\n    dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n    dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n    gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n\n    function dragStart(e) {\n\n      e.preventDefault();\n\n      pmouseX = e.clientX;\n\n      dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.bind(window, 'mousemove', drag);\n      dom.bind(window, 'mouseup', dragStop);\n\n      return false;\n\n    }\n\n    function drag(e) {\n\n      e.preventDefault();\n\n      gui.width += pmouseX - e.clientX;\n      gui.onResize();\n      pmouseX = e.clientX;\n\n      return false;\n\n    }\n\n    function dragStop() {\n\n      dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.unbind(window, 'mousemove', drag);\n      dom.unbind(window, 'mouseup', dragStop);\n\n    }\n\n  }\n\n  function setWidth(gui, w) {\n    gui.domElement.style.width = w + 'px';\n    // Auto placed save-rows are position fixed, so we have to\n    // set the width manually if we want it to bleed to the edge\n    if (gui.__save_row && gui.autoPlace) {\n      gui.__save_row.style.width = w + 'px';\n    }if (gui.__closeButton) {\n      gui.__closeButton.style.width = w + 'px';\n    }\n  }\n\n  function getCurrentPreset(gui, useInitialValues) {\n\n    var toReturn = {};\n\n    // For each object I'm remembering\n    common.each(gui.__rememberedObjects, function(val, index) {\n\n      var saved_values = {};\n\n      // The controllers I've made for thcommon.isObject by property\n      var controller_map =\n          gui.__rememberedObjectIndecesToControllers[index];\n\n      // Remember each value for each property\n      common.each(controller_map, function(controller, property) {\n        saved_values[property] = useInitialValues ? controller.initialValue : controller.getValue();\n      });\n\n      // Save the values for thcommon.isObject\n      toReturn[index] = saved_values;\n\n    });\n\n    return toReturn;\n\n  }\n\n  function addPresetOption(gui, name, setSelected) {\n    var opt = document.createElement('option');\n    opt.innerHTML = name;\n    opt.value = name;\n    gui.__preset_select.appendChild(opt);\n    if (setSelected) {\n      gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n    }\n  }\n\n  function setPresetSelectIndex(gui) {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      if (gui.__preset_select[index].value == gui.preset) {\n        gui.__preset_select.selectedIndex = index;\n      }\n    }\n  }\n\n  function markPresetModified(gui, modified) {\n    var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n//    console.log('mark', modified, opt);\n    if (modified) {\n      opt.innerHTML = opt.value + \"*\";\n    } else {\n      opt.innerHTML = opt.value;\n    }\n  }\n\n  function updateDisplays(controllerArray) {\n\n\n    if (controllerArray.length != 0) {\n\n      requestAnimationFrame(function() {\n        updateDisplays(controllerArray);\n      });\n\n    }\n\n    common.each(controllerArray, function(c) {\n      c.updateDisplay();\n    });\n\n  }\n\n  return GUI;\n\n})(dat.utils.css,\n\"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>\",\n\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\",\ndat.controllers.factory = (function (OptionController, NumberControllerBox, NumberControllerSlider, StringController, FunctionController, BooleanController, common) {\n\n      return function(object, property) {\n\n        var initialValue = object[property];\n\n        // Providing options?\n        if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n          return new OptionController(object, property, arguments[2]);\n        }\n\n        // Providing a map?\n\n        if (common.isNumber(initialValue)) {\n\n          if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n\n            // Has min and max.\n            return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n\n          } else {\n\n            return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n\n          }\n\n        }\n\n        if (common.isString(initialValue)) {\n          return new StringController(object, property);\n        }\n\n        if (common.isFunction(initialValue)) {\n          return new FunctionController(object, property, '');\n        }\n\n        if (common.isBoolean(initialValue)) {\n          return new BooleanController(object, property);\n        }\n\n      }\n\n    })(dat.controllers.OptionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.StringController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a text input to alter the string property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var StringController = function(object, property) {\n\n    StringController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    \n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  StringController.superclass = Controller;\n\n  common.extend(\n\n      StringController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n          // Stops the caret from moving on account of:\n          // keyup -> setValue -> updateDisplay\n          if (!dom.isActive(this.__input)) {\n            this.__input.value = this.getValue();\n          }\n          return StringController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return StringController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common),\ndat.controllers.FunctionController,\ndat.controllers.BooleanController,\ndat.utils.common),\ndat.controllers.Controller,\ndat.controllers.BooleanController,\ndat.controllers.FunctionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.OptionController,\ndat.controllers.ColorController = (function (Controller, dom, Color, interpret, common) {\n\n  var ColorController = function(object, property) {\n\n    ColorController.superclass.call(this, object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    var _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(e) {\n\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(e) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n\n    });\n\n    var value_field = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < .5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    \n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(value_field.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    \n    linearGradient(value_field, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      display: 'inline-block',\n      border: '1px solid #555',\n      cursor: 'ns-resize'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', function(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'mouseup', unbindH);\n    });\n\n    function fieldDown(e) {\n      setSV(e);\n      // document.body.style.cursor = 'none';\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'mouseup', unbindSV);\n    }\n\n    function unbindSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'mouseup', unbindSV);\n      // document.body.style.cursor = 'default';\n    }\n\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function unbindH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'mouseup', unbindH);\n    }\n\n    this.__saturation_field.appendChild(value_field);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n\n      e.preventDefault();\n\n      var w = dom.getWidth(_this.__saturation_field);\n      var o = dom.getOffset(_this.__saturation_field);\n      var s = (e.clientX - o.left + document.body.scrollLeft) / w;\n      var v = 1 - (e.clientY - o.top + document.body.scrollTop) / w;\n\n      if (v > 1) v = 1;\n      else if (v < 0) v = 0;\n\n      if (s > 1) s = 1;\n      else if (s < 0) s = 0;\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n\n    }\n\n    function setH(e) {\n\n      e.preventDefault();\n\n      var s = dom.getHeight(_this.__hue_field);\n      var o = dom.getOffset(_this.__hue_field);\n      var h = 1 - (e.clientY - o.top + document.body.scrollTop) / s;\n\n      if (h > 1) h = 1;\n      else if (h < 0) h = 0;\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n\n    }\n\n  };\n\n  ColorController.superclass = Controller;\n\n  common.extend(\n\n      ColorController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          var i = interpret(this.getValue());\n\n          if (i !== false) {\n\n            var mismatch = false;\n\n            // Check for mismatch on the interpreted value.\n\n            common.each(Color.COMPONENTS, function(component) {\n              if (!common.isUndefined(i[component]) &&\n                  !common.isUndefined(this.__color.__state[component]) &&\n                  i[component] !== this.__color.__state[component]) {\n                mismatch = true;\n                return {}; // break\n              }\n            }, this);\n\n            // If nothing diverges, we keep our previous values\n            // for statefulness, otherwise we recalculate fresh\n            if (mismatch) {\n              common.extend(this.__color.__state, i);\n            }\n\n          }\n\n          common.extend(this.__temp.__state, this.__color.__state);\n\n          this.__temp.a = 1;\n\n          var flip = (this.__color.v < .5 || this.__color.s > .5) ? 255 : 0;\n          var _flip = 255 - flip;\n\n          common.extend(this.__field_knob.style, {\n            marginLeft: 100 * this.__color.s - 7 + 'px',\n            marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n            backgroundColor: this.__temp.toString(),\n            border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip +')'\n          });\n\n          this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px'\n\n          this.__temp.s = 1;\n          this.__temp.v = 1;\n\n          linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toString());\n\n          common.extend(this.__input.style, {\n            backgroundColor: this.__input.value = this.__color.toString(),\n            color: 'rgb(' + flip + ',' + flip + ',' + flip +')',\n            textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip +',.7)'\n          });\n\n        }\n\n      }\n\n  );\n  \n  var vendors = ['-moz-','-o-','-webkit-','-ms-',''];\n  \n  function linearGradient(elem, x, a, b) {\n    elem.style.background = '';\n    common.each(vendors, function(vendor) {\n      elem.style.cssText += 'background: ' + vendor + 'linear-gradient('+x+', '+a+' 0%, ' + b + ' 100%); ';\n    });\n  }\n  \n  function hueGradient(elem) {\n    elem.style.background = '';\n    elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);'\n    elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n  }\n\n\n  return ColorController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret,\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common),\ndat.color.interpret,\ndat.utils.common),\ndat.utils.requestAnimationFrame = (function () {\n\n  /**\n   * requirejs version of Paul Irish's RequestAnimationFrame\n   * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n   */\n\n  return window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback, element) {\n\n        window.setTimeout(callback, 1000 / 60);\n\n      };\n})(),\ndat.dom.CenteredDiv = (function (dom, common) {\n\n\n  var CenteredDiv = function() {\n\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n\n\n  };\n\n  CenteredDiv.prototype.show = function() {\n\n    var _this = this;\n    \n\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n\n  };\n\n  CenteredDiv.prototype.hide = function() {\n\n    var _this = this;\n\n    var hide = function() {\n\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n  };\n\n  CenteredDiv.prototype.layout = function() {\n    this.domElement.style.left = window.innerWidth/2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight/2 - dom.getHeight(this.domElement) / 2 + 'px';\n  };\n  \n  function lockScroll(e) {\n    console.log(e);\n  }\n\n  return CenteredDiv;\n\n})(dat.dom.dom,\ndat.utils.common),\ndat.dom.dom,\ndat.utils.common);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dat-gui/vendor/dat.gui.js\n// module id = 67\n// module chunks = 0","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\nvar dat = module.exports = dat || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      \n      if (ARR_EACH && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.Color = dat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common),\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dat-gui/vendor/dat.color.js\n// module id = 68\n// module chunks = 0","'use strict';\n\nconst hexCharacters = 'a-f\\\\d';\nconst match3or4Hex = `#?[${hexCharacters}]{3}[${hexCharacters}]?`;\nconst match6or8Hex = `#?[${hexCharacters}]{6}([${hexCharacters}]{2})?`;\nconst nonHexChars = new RegExp(`[^#${hexCharacters}]`, 'gi');\nconst validHexSize = new RegExp(`^${match3or4Hex}$|^${match6or8Hex}$`, 'i');\n\nmodule.exports = (hex, options = {}) => {\n\tif (typeof hex !== 'string' || nonHexChars.test(hex) || !validHexSize.test(hex)) {\n\t\tthrow new TypeError('Expected a valid hex string');\n\t}\n\n\thex = hex.replace(/^#/, '');\n\tlet alpha = 1;\n\n\tif (hex.length === 8) {\n\t\talpha = parseInt(hex.slice(6, 8), 16) / 255;\n\t\thex = hex.slice(0, 6);\n\t}\n\n\tif (hex.length === 4) {\n\t\talpha = parseInt(hex.slice(3, 4).repeat(2), 16) / 255;\n\t\thex = hex.slice(0, 3);\n\t}\n\n\tif (hex.length === 3) {\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n\t}\n\n\tconst num = parseInt(hex, 16);\n\tconst red = num >> 16;\n\tconst green = (num >> 8) & 255;\n\tconst blue = num & 255;\n\n\treturn options.format === 'array' ?\n\t\t[red, green, blue, alpha] :\n\t\t{red, green, blue, alpha};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/hex-rgb/index.js\n// module id = 69\n// module chunks = 0"],"sourceRoot":""}